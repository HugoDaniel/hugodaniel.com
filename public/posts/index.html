<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
			<meta name="description" content="Hugo Daniel's site about ideas and software experimentations">
		
		<link rel="stylesheet" href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;css&#x2F;base.css">
		
			<link rel="alternate" type="application/rss+xml" title="RSS" href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;rss.xml">
		
		
		
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@mr_hugo">
		<meta name="twitter:creator" content="@mr_hugo">
		
			<title>Hugo Daniel</title>
			<meta name="twitter:title" content="Hugo Daniel">
			<meta property="og:type" content="website" >
		
		
			<meta name="twitter:description" content="Hugo Daniel's site about ideas and software experimentations">
			<meta property="og:description" content="Hugo Daniel's site about ideas and software experimentations">
		
		
		<meta property="og:url" content="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;">
		
		<!-- Matomo -->
		<script type="text/javascript">
			var _paq = window._paq = window._paq || [];
			/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
			_paq.push(['trackPageView']);
			_paq.push(['enableLinkTracking']);
			(function() {
				var u="//vistas.hugodaniel.pt/";
				_paq.push(['setTrackerUrl', u+'matomo.php']);
				_paq.push(['setSiteId', '2']);
				var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
				g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
			})();
		</script>
		<noscript><p><img src="//vistas.hugodaniel.pt/matomo.php?idsite=2&amp;rec=1" style="border:0;" alt="" /></p></noscript>
		<!-- End Matomo Code -->
	</head>
	<body>
		
<main class="all-posts" role="main">
	<h2>Articles</h2>
	<p>Here is a full list of articles that I have written</p>
	<ol class="posts new">
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
			
				
			
		
	</ol>
</main>

<aside>
	<h2>Some older posts</h3>
	<ol class="posts old">
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;browser-tech-stack-2020&#x2F;">From Rust to Svelte, what tech stack will I use</a>
					<span>
					<p> It is 2020 and we have a great set of cool tech to play with on the web </p>
					<time datetime="2020-06-07"> 7-Jun-2020</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;grid-generator-v0&#x2F;">Introducing Grid Generator Version 0</a>
					<span>
					<p> What features does it have? What to expect in the next versions? </p>
					<time datetime="2018-07-05"> 5-Jul-2018</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;eviction-and-debt&#x2F;">Eviction and Debt</a>
					<span>
					<p> The lowest point in the first 6 months of the year </p>
					<time datetime="2018-07-04"> 4-Jul-2018</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;websummit-opening-night&#x2F;">WebSummit opening night. Sharing the stage with Paddy Cosgrave</a>
					<span>
					<p> Going through the opening night in the first day of WebSummit 2017 </p>
					<time datetime="2017-11-06"> 6-Nov-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;gridgenerator-first-stand&#x2F;">Grid Generator First Stand</a>
					<span>
					<p> I went to a faire to show off my project and idea </p>
					<time datetime="2017-11-03"> 3-Nov-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;meeting-the-president&#x2F;">Meeting the President</a>
					<span>
					<p> I got to meet the president through an invitation to attend a meeting with other startups </p>
					<time datetime="2017-11-02"> 2-Nov-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;where-do-local-hackers-eat-in-lisbon&#x2F;">Where do local hackers eat in Lisbon</a>
					<span>
					<p> Some tips for the security minded to eat like a local when visiting the Lisbon touristic area </p>
					<time datetime="2017-11-01"> 1-Nov-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;first-funding-as-a-bootstrapper-in-portugal&#x2F;">My first funding as a bootstrapper in Portugal</a>
					<span>
					<p> A brief summary of StartUp Voucher as a potential funding for portuguese bootstrappers </p>
					<time datetime="2017-10-31">31-Oct-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;how-useful-is-the-javascript-set&#x2F;">How useful is the JavaScript Set</a>
					<span>
					<p> Working, playing and measuring the JavaScript Set data structure </p>
					<time datetime="2017-10-25">25-Oct-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;lisbon-as-an-inspiration-for-my-project&#x2F;">Lisbon as an inspiration for my project</a>
					<span>
					<p> How Lisbon became an inspiration for the current idea I am working on </p>
					<time datetime="2017-10-25">25-Oct-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;why-i-decided-to-go-to-the-websummit&#x2F;">Why I decided to go to the WebSummit?</a>
					<span>
					<p> WebSummit is a big conference that is happening in Lisbon, here is why i am going </p>
					<time datetime="2017-10-24">24-Oct-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;in-loving-memory-of-immutable&#x2F;">In loving memory of Immutable.js</a>
					<span>
					<p> Using Immutable.js and trying to make some sense out of its memory usage. </p>
					<time datetime="2017-10-03"> 3-Oct-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;vi-is-not-vim&#x2F;">vi is not vim</a>
					<span>
					<p> A few hints to get started using nvi, a lean and clean terminal based editor </p>
					<time datetime="2017-08-12">12-Aug-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;mastering-console-log&#x2F;">Mastering console.log()</a>
					<span>
					<p> Working with the developer tools most used console function </p>
					<time datetime="2017-08-11">11-Aug-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;bootstrapping-rain&#x2F;">Bootstrapping rain</a>
					<span>
					<p> Trying to answer the question &quot;What are you doing ?&quot; </p>
					<time datetime="2017-08-08"> 8-Aug-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;16-palettes-of-fun&#x2F;">Palettes 0xF Fun</a>
					<span>
					<p> Overview and comparison of different 8-bit computer color palettes (NSFW) </p>
					<time datetime="2017-03-01"> 1-Mar-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;surfing-2017&#x2F;">A new name to surf 2017</a>
					<span>
					<p> A quick look into 2016 and some thoughts over 2017 </p>
					<time datetime="2017-01-18">18-Jan-2017</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;how-fast-is-nothing&#x2F;">How fast is nothing at all ?</a>
					<span>
					<p> Running and measuring no-op code in a requestAnimationFrame() </p>
					<time datetime="2016-09-23">23-Sep-2016</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;bootstrapping4&#x2F;">Bootstrapping - getting some boots to strap</a>
					<span>
					<p> A weekly log of my attempts to bootstrap myself - 4th post </p>
					<time datetime="2016-08-11">11-Aug-2016</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;bootstrapping3&#x2F;">Bootstrapping - week 3</a>
					<span>
					<p> A weekly log of my attempts to bootstrap myself - 3rd week </p>
					<time datetime="2016-06-24">24-Jun-2016</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;react-redux-canvas&#x2F;">React - Redux - Canvas</a>
					<span>
					<p> Three approaches on drawing on the canvas with React and Redux </p>
					<time datetime="2016-06-17">17-Jun-2016</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;bootstrapping2&#x2F;">Bootstrapping - week 2</a>
					<span>
					<p> A weekly log of my attempts to bootstrap myself - 2nd week </p>
					<time datetime="2016-06-16">16-Jun-2016</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;bootstrapping1&#x2F;">Bootstrapping - week 1</a>
					<span>
					<p> A weekly log of my attempts to bootstrap myself </p>
					<time datetime="2016-06-06"> 6-Jun-2016</time>
					</span>
				</li>
				
			
		
			
				
				<li>
					<a href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;posts&#x2F;about&#x2F;">about me</a>
					<span>
					<p> Some basic info about me </p>
					<time datetime="2016-04-09"> 9-Apr-2016</time>
					</span>
				</li>
				
			
		
	</ol>
</aside>

	<!--
		<footer>
			<div>
				<p>Latest project</p>
				<a href="https://gridgenerator.com" target="_blank">Grid Generator</a>
			</div>
			<nav>
				<a target="_blank" href="https://twitter.com/mr_hugo">
					<img src="https:&#x2F;&#x2F;hugodaniel.com&#x2F;images&#x2F;twitter.svg" alt="Twitter" />
				</a>
				<a target="_blank" href="https://github.com/HugoDaniel">
					<img src="https:&#x2F;&#x2F;hugodaniel.com&#x2F;images&#x2F;github.svg" alt="GitHub" />
				</a>
				<a target="_blank" href="https://www.linkedin.com/in/mrhugogomes/">
					<img src="https:&#x2F;&#x2F;hugodaniel.com&#x2F;images&#x2F;linkedin.svg" alt="LinkedIn" />
				</a>
			</nav>
			<div>
				<p>Liked what you read ?</p>
				<a href="mailto:mail@hugodaniel.pt">Say hello :)!</a>
			</div>
		</footer>
	-->
		<script>
			console.log({
  "config": {
    "base_url": "https://hugodaniel.com",
    "theme": null,
    "title": null,
    "description": null,
    "default_language": "en",
    "languages": [],
    "translations": {},
    "highlight_code": true,
    "highlight_theme": "base16-ocean-dark",
    "generate_feed": true,
    "feed_limit": null,
    "feed_filename": "atom.xml",
    "hard_link_static": false,
    "taxonomies": [],
    "compile_sass": false,
    "minify_html": false,
    "build_search_index": true,
    "ignored_content": [],
    "extra_syntaxes": [],
    "link_checker": {
      "skip_prefixes": [],
      "skip_anchor_prefixes": []
    },
    "slugify": {
      "paths": "on",
      "taxonomies": "on",
      "anchors": "on"
    },
    "search": {
      "include_title": true,
      "include_content": true,
      "truncate_content_length": null,
      "include_description": false
    },
    "extra": {}
  },
  "current_path": "/posts/",
  "current_url": "https://hugodaniel.com/posts/",
  "lang": "en",
  "section": {
    "relative_path": "posts/_index.md",
    "content": "",
    "permalink": "https://hugodaniel.com/posts/",
    "ancestors": [
      "_index.md"
    ],
    "title": "Articles",
    "description": "Some posts that I write",
    "extra": {},
    "path": "/posts/",
    "components": [
      "posts"
    ],
    "toc": [],
    "word_count": 0,
    "reading_time": 0,
    "lang": "en",
    "assets": [],
    "pages": [
      {
        "relative_path": "posts/2020-06-07-browser-tech-stack-2020.md",
        "content": "<p><strong>TL;DR</strong> Here is a template for your new web app project: <a href=\"https://github.com/HugoDaniel/svelte-template\">Svelte + TypeScript + Parcel + Rust</a></p>\n<p>The web is a big open platform that keeps evolving with the URL at its core.</p>\n<p>We have a lot of tech and frameworks at our disposal to chose when starting a new web app in 2020.</p>\n<p>There certainly is a lot of mud to crawl into, from an all-in vanilla JS approach up until an all-out React with a 100+ dependencies approach.</p>\n<p>Among these there are a few cool things that strike my attention:</p>\n<h2 id=\"svelte\"><a href=\"https://svelte.dev\">Svelte</a></h2>\n<p>Their component approach and state handling is fresh.</p>\n<p>They lean towards using standards like CSS Variables and JS imports in an HTML first compiled approach.</p>\n<p>The Svelte compiler outputs very lean JS code. Which comes in stark contrast with the current frontend bundle trends.</p>\n<p>Perhaps in the future browsers will provide us higher-level components that can pack together HTML+JS+CSS in a way that is at least as elegant as Svelte does.</p>\n<h2 id=\"parcel\"><a href=\"https://parceljs.org\">Parcel</a></h2>\n<p>Most bundlers configuration is typically write-once and write-only. It is a pain to maintain and properly configure a bundle.</p>\n<p>Parcel does it right by providing sane defaults that don't need configuration upfront. (A bit like the <a href=\"https://fishshell.com/docs/current/design.html\">fish shell</a> )</p>\n<p><strong>Why is a bundler needed if Svelte already has a compiler ?</strong></p>\n<p>A bundler like Parcel provides the extra goodies of allowing us to import strange files directly in our <code>.svelte</code> components.</p>\n<p>Stuff like TypeScript and even Rust become a breeze to work with.</p>\n<p>Perhaps in the future bundlers won't be needed. Perhaps even text files won't be needed to code. Unfortunately we need them in our current state of things.</p>\n<h2 id=\"typescript\"><a href=\"https://www.typescriptlang.org\">TypeScript</a></h2>\n<p>This language has been evolving fast. For now types are the way to go and TypeScript does a great job at typifying JavaScript and preventing those nasty null errors where you least expect(ed) them.</p>\n<p>Perhaps in the future startups will again push towards dynamic languages as a way to bring faster products to market and the &quot;Move fast, break things&quot; will make sense again. But for now static is the way to go.</p>\n<h2 id=\"rust\"><a href=\"https://www.rust-lang.org\">Rust</a></h2>\n<p>Rust has a lot of good things. It appeals the front-end crowd as much as the backend people and the language is leveraging those windows of opportunity much better than any other language or community.</p>\n<p>Wasm bindgen is a bliss of fresh air, it even works very well with TypeScript.</p>\n<h2 id=\"webassembly\"><a href=\"https://webassembly.org\">WebAssembly</a></h2>\n<p>This is a total game changer for the next years. As a compile target it will allow near native performance and open the door for a lot of programming languages to be used on the web.</p>\n<p>A new era of web apps is coming thanks to Web Assembly. It is hard to forsee what exactly will this be.</p>\n<p>There are nevertheless a few cool extensions already being worked on for it:</p>\n<ul>\n<li><a href=\"https://github.com/WebAssembly/WASI\">WASI</a></li>\n<li><a href=\"https://github.com/WebAssembly/simd\">128-bit SIMD</a></li>\n<li><a href=\"https://github.com/WebAssembly/threads\">Threads</a></li>\n<li><a href=\"https://github.com/WebAssembly/reference-types\">Ref. Types</a></li>\n<li><a href=\"https://github.com/WebAssembly/multi-value\">Multiple value returns and block parameters</a></li>\n<li><a href=\"https://github.com/webassembly/bulk-memory-operations\">Bulk Memory Operations</a></li>\n<li><a href=\"https://github.com/WebAssembly/nontrapping-float-to-int-conversions\">Non-trapping float-to-int convertions</a></li>\n<li><a href=\"https://github.com/WebAssembly/sign-extension-ops\">Sign-extension ops</a></li>\n<li><a href=\"https://github.com/WebAssembly/exception-handling\">Exception handling</a></li>\n<li><a href=\"https://github.com/WebAssembly/extended-name-section\">Extended name section</a></li>\n<li><a href=\"https://github.com/WebAssembly/multi-memory\">Multi-memory</a></li>\n<li><a href=\"https://github.com/WebAssembly/gc\">Garbage Collection</a></li>\n</ul>\n<p>Web development is going to be a very different beast in a few moments in time. Lets enjoy the ride.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>I have fetched some ideas from a few repos and forked them into a ready to use template you can start your projects with.</p>\n<p><a href=\"https://github.com/HugoDaniel/svelte-template\">Check it out.</a></p>\n",
        "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/",
        "slug": "browser-tech-stack-2020",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "From Rust to Svelte, what tech stack will I use",
        "description": "It is 2020 and we have a great set of cool tech to play with on the web",
        "updated": null,
        "date": "2020-06-07",
        "year": 2020,
        "month": 6,
        "day": 7,
        "taxonomies": {},
        "extra": {
          "place": "Amadora",
          "author": "Hugo Daniel"
        },
        "path": "/posts/browser-tech-stack-2020/",
        "components": [
          "posts",
          "browser-tech-stack-2020"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "svelte",
            "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/#svelte",
            "title": "Svelte",
            "children": []
          },
          {
            "level": 2,
            "id": "parcel",
            "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/#parcel",
            "title": "Parcel",
            "children": []
          },
          {
            "level": 2,
            "id": "typescript",
            "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/#typescript",
            "title": "TypeScript",
            "children": []
          },
          {
            "level": 2,
            "id": "rust",
            "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/#rust",
            "title": "Rust",
            "children": []
          },
          {
            "level": 2,
            "id": "webassembly",
            "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/#webassembly",
            "title": "WebAssembly",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/browser-tech-stack-2020/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 648,
        "reading_time": 4,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2018-07-05-grid-generator-v0.md",
        "content": "<p>The purpose of this post is to introduce my personal project: Grid Generator. This is the first post about it since it went online on the 1st of July 2018.</p>\n<h2 id=\"what-problem-does-it-solve\">What problem does it solve?</h2>\n<p>I have always struggled with design tools. In particular those that came to see the light of the day during the 90's (Adobe I am looking at you).</p>\n<p>These design tools are clearly targeted at &quot;pros&quot; and &quot;specialists&quot; (like most of the computer &quot;stuff&quot; from/during the 90's). You are not expected to be able to work with them if you are not a specialist or if you did not take at least a course on these tools.</p>\n<p>Being trained in software development made me look at the works produced by designers with wonder and amazement. I want to be able to at least produce geometric clean shapes that fit well together.</p>\n<p>Unfortunately making even simple shapes in the current design software offer is a daunting task for me.</p>\n<p>That was my motivation behind Grid Generator: Create simple shapes, easily pick colors, and paint them in a grid, making patterns or more complex shapes.</p>\n<p>I also wanted to bring time into play. Time is an important factor to consider and to work with in Grid Generator.</p>\n<h2 id=\"what-to-expect\">What to expect?</h2>\n<p>A square grid. In this version, and in the upcoming near versions, Grid Generator only supports a base square grid.</p>\n<p>Think of it as pixel art with configurable pixels. Where your moves are being recorded.</p>\n<p><img src=\"/images/grid1.png\" alt=\"Simple house with squares, triangles, and a rounded square\" /></p>\n<p><img src=\"/images/grid2.png\" alt=\"The same with the grid hidden\" /></p>\n<h3 id=\"shape-editor\">Shape editor</h3>\n<p>In a square grid the base shape is the square. If you click on the '+' button bellow left, it opens the &quot;Shape Editor&quot;. Here you are presented with a grid made of lines and circles. This is where you customize your square. The intersections are automatically calculated to help you create your shapes. You as an artist/designer only need to connect the dots and build your shape.</p>\n<p><img src=\"/images/shape_editor.png\" alt=\"Just connect the dots\" /></p>\n<p>You can pile many shapes on top of each other and change their colors.</p>\n<p><img src=\"/images/shape_editor_pile.png\" alt=\"Several sub-shapes on the same shape\" /></p>\n<p>Time is an important aspect, you can go back to any previous state of your shapes and re-edit them from there.</p>\n<p><img src=\"/images/shape_editor_travel.png\" alt=\"Several sub-shapes on the same shape\" /></p>\n<p>After your shape is created you can start painting with it.</p>\n<p><img src=\"/images/shape_editor_paint.png\" alt=\"Paint your new shape on the main grid\" /></p>\n<p>Or create other color variations of it on the '+' button to the right.</p>\n<p><img src=\"/images/shape_editor_colors.png\" alt=\"Create several color variations for your shape\" /></p>\n<h3 id=\"tile-patterns\">Tile Patterns</h3>\n<p>I have asked in reddit about software to create tile patterns. A few answers came up but none quite filled my taste. I used this as a motivation to implement automatic tile patterns in Grid Generator.</p>\n<p>In the menu just click on the &quot;pattern&quot; icon, and then on the &quot;grid&quot;. A blue frame shows up where you can paint inside and everything gets repeated outside.</p>\n<p><img src=\"/images/grid_pattern.png\" alt=\"The pattern frame\" /></p>\n<p>You can drag the corners of the blue frame to adjust your pattern to your drawing and create different patterns with white spaces.</p>\n<p><img src=\"/images/grid_pattern_tri.png\" alt=\"A triangular pattern\" /></p>\n<h3 id=\"replay-your-art\">Replay your art</h3>\n<p>After having created something cool you can publish it to share with your friends. Publishing an artwork makes it publicly available in its own page.</p>\n<p>In there you will see a big &quot;play&quot; button that will replay your creative process until the final state is reached.</p>\n<p><a href=\"https://gridgenerator.com/p/13\">Check it out.</a></p>\n<h3 id=\"remix-it\">Remix it</h3>\n<p>You can pick any state of the art being replayed and remix your own version from there on. You can easily create your variations by clicking on the remix button (&quot;Change It&quot; on the bottom).</p>\n<p><img src=\"/images/remix_grid.png\" alt=\"Remix other works and create variations\" /></p>\n<h3 id=\"export\">Export</h3>\n<p>Exporting is currently the only paid feature of Grid Generator. My logic to make this a paid feature was that you can support the further development of this app if you are producing anything of value with it.</p>\n<p>In the future I am planning to make this a free feature by adding other sources of revenue like instant product creations with your art (bags, t-shirts, etc...) and even selling packs of specially crafted grids.</p>\n<p>After paying you can export your work as SVG. SVG is a vector format that is very prone to rounding errors and aliasing, so I also implemented exporting your works as high-res PNG's that solve these issues.</p>\n<p>Another possibility you have is to export your creative process as GIF or MP4, saving you the hard work of screen recording and editing.</p>\n<h2 id=\"upcoming-features\">Upcoming features</h2>\n<p>The next version (v1) will mostly see UI/UX improvements (imo those are critically needed) and some small features with these, like:</p>\n<ul>\n<li>Possibility to clear your shapes in the shape editor</li>\n<li>Rough onboarding</li>\n<li>Slightly better menus and pages</li>\n<li>Facebook login</li>\n</ul>\n<p>After these I am planning some major stuff like:</p>\n<ul>\n<li>Stroke support in shapes</li>\n<li>Background images in shapes</li>\n<li>Layers</li>\n<li>Color picker enhancements</li>\n<li>Triangular grids and shapes</li>\n<li>Custom base grid editor (create any kind of base grid)</li>\n</ul>\n<p>Try it and if you feel inspired tell me which features you would like to see most.</p>\n<p><a href=\"https://gridgenerator.com\">https://gridgenerator.com</a></p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>In its current state Grid Generator is very raw. I did a lot of compromises to get here but the idea is very close to its initial inception in my head from a couple of years ago. Along the way I had the help and feedback of amazing people. I have some upcoming posts planned on them. They helped a lot of this feel way less lonely and in some points I think they believed more in it than me :)</p>\n<p>Alas <a href=\"https://github.com/HugoDaniel/gridgenerator\">everything is open source</a> and I am going to start using GitHub bells and whistles in its further development.</p>\n",
        "permalink": "https://hugodaniel.com/posts/grid-generator-v0/",
        "slug": "grid-generator-v0",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Introducing Grid Generator Version 0",
        "description": "What features does it have? What to expect in the next versions?",
        "updated": null,
        "date": "2018-07-05",
        "year": 2018,
        "month": 7,
        "day": 5,
        "taxonomies": {},
        "extra": {
          "place": "Lagoa",
          "author": "Hugo Daniel",
          "social_img": "/images/pattern.png"
        },
        "path": "/posts/grid-generator-v0/",
        "components": [
          "posts",
          "grid-generator-v0"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "what-problem-does-it-solve",
            "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#what-problem-does-it-solve",
            "title": "What problem does it solve?",
            "children": []
          },
          {
            "level": 2,
            "id": "what-to-expect",
            "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#what-to-expect",
            "title": "What to expect?",
            "children": [
              {
                "level": 3,
                "id": "shape-editor",
                "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#shape-editor",
                "title": "Shape editor",
                "children": []
              },
              {
                "level": 3,
                "id": "tile-patterns",
                "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#tile-patterns",
                "title": "Tile Patterns",
                "children": []
              },
              {
                "level": 3,
                "id": "replay-your-art",
                "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#replay-your-art",
                "title": "Replay your art",
                "children": []
              },
              {
                "level": 3,
                "id": "remix-it",
                "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#remix-it",
                "title": "Remix it",
                "children": []
              },
              {
                "level": 3,
                "id": "export",
                "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#export",
                "title": "Export",
                "children": []
              }
            ]
          },
          {
            "level": 2,
            "id": "upcoming-features",
            "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#upcoming-features",
            "title": "Upcoming features",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/grid-generator-v0/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 987,
        "reading_time": 5,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2018-07-04-eviction-and-debt.md",
        "content": "<p>The last 6 months?</p>\n<p>Rents rising, IRS, grants and the version 0 of my personal project</p>\n<h2 id=\"a-lisbon-story-part-i-eviction\">A Lisbon Story (part I - eviction)</h2>\n<p>Renting cycles have always happened. In certain cities you can even map whole migrations as they trend and landlords surf the wave of higher rent prices for at least the same level of preocupations.</p>\n<p>Roughly 18 years ago I moved to Lisbon to study. For me it represented moving away from my village into the unknown. More than going to a big school where I did not know anyone. It was the city that drove my fears and desire to explore and know more. To wander and find new neighborhoods with different cultures and habits than mine.</p>\n<p>Nowadays these neighborhoods still exist, but their inhabitants have mostly been evicted and moved to the outskirts. We branded this as &quot;gentrification&quot;. Gentlemen move to the place where you were previously living (notice that you are excluded from the gentlemen group by definition).</p>\n<p>In Lisbon this did not happen softly. Most of my friends are now evicted. The red flags are everywhere.</p>\n<p>My landlord sent me an SMS the other day. He said he wanted to speak to me about some important matters. I cannot think of anything good coming from a conversation with a landlord. He evicted me. Why charge 'n' to normal people when you can charge gentlemen 'n'*4? No problem, time for a change anyway.</p>\n<h2 id=\"a-lisbon-story-part-ii-debt\">A Lisbon Story (part II - debt)</h2>\n<p>The city has been a major part of my lifestyle for the last 18 years. I managed to reduce my cost of living to under €700/month and still save a little. This was in no small part due to my rent. It might seem crazy but some neighbors of mine even manage to spend less through heroic frugal tactics.</p>\n<p>With this I decided to collect my savings from the bank and dedicate full-time to develop a painting application that could help me and eventually others to do shapes and patterns like the ones from tiles.</p>\n<p>Grid Generator has been a central part of my life since then.</p>\n<p>Somewhere on my journey I managed to get a grant to work on it. With the obligation to build a company shortly after it finished. It has ended in May.</p>\n<p>In an unrelated event to the eviction I got contacted by the IRS roughly on the same week that I got evicted. Because I was using my savings before I am old and/or dying from a terminal disease it seems that I now have to pay them a cumulative 10% of some amount for each year that I saved.</p>\n<p>After some calculations the IRS lady told me that the total I needed to pay them was more money than I had in my account. Fuck. I mean: FUCK. It is said that in Portugal you can owe money to a lot of people. Rich people. Banks. Mafia. Drug dealers. But you simply cannot owe money to the IRS. Ever. Dark stories are told about people who once owed them money.</p>\n<p>&quot;Fortunately&quot; the Portuguese IRS shady tactics are so common that they allow you to pay in small parts and through some other weird mechanics that delay your entry into their shitlist.</p>\n<p>The words of a friend that is into cryptocurrencies echoed in my mind: <em>&quot;The current economic system was not made to help you save money&quot;</em>. How I wish he was wrong.</p>\n<h2 id=\"forward-momentum\">Forward momentum</h2>\n<p>Grid Generator has been my testbed for a lot of strange experimentations and ideas. Not only in the approach to solve the problems it intends (shape editor, color picker, etc...) but specially in the code.</p>\n<p>I have rewritten it completely from scratch some 4 times with varying degrees of (in)success. In its current state it is done with typescript and infernojs. While in its previous incarnations used react, vanilla js, immutable js and even did a quick stroll through purescript. It currently runs on top of DragonflyBSD.</p>\n<p>The project is online and ready to use at <a href=\"https://gridgenerator.com\">https://gridgenerator.com</a>.</p>\n<p>I call it &quot;version 0&quot; as it lacks a lot of features (like onboarding) and has all that coder design/UX that you hate.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>To sum it up, I now have four major problems to solve:</p>\n<ol>\n<li>Get money to pay the debt</li>\n<li>Get a house to live</li>\n<li>Build a company (with what money?)</li>\n<li>Continue improving Grid Generator and start talking about it</li>\n</ol>\n<p>I am shifting some of the energy away from Grid Generator to focus it on the first two of these problems and see how it goes.</p>\n<p>I am also going to invest into propaganda now and try to walk the thin line of project promotion and SPAM.</p>\n<p><img src=\"/images/PATTERN.png\" alt=\"A Pattern made with Grid Generator\" /></p>\n",
        "permalink": "https://hugodaniel.com/posts/eviction-and-debt/",
        "slug": "eviction-and-debt",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Eviction and Debt",
        "description": "The lowest point in the first 6 months of the year",
        "updated": null,
        "date": "2018-07-04",
        "year": 2018,
        "month": 7,
        "day": 4,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/eviction-and-debt/",
        "components": [
          "posts",
          "eviction-and-debt"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "a-lisbon-story-part-i-eviction",
            "permalink": "https://hugodaniel.com/posts/eviction-and-debt/#a-lisbon-story-part-i-eviction",
            "title": "A Lisbon Story (part I - eviction)",
            "children": []
          },
          {
            "level": 2,
            "id": "a-lisbon-story-part-ii-debt",
            "permalink": "https://hugodaniel.com/posts/eviction-and-debt/#a-lisbon-story-part-ii-debt",
            "title": "A Lisbon Story (part II - debt)",
            "children": []
          },
          {
            "level": 2,
            "id": "forward-momentum",
            "permalink": "https://hugodaniel.com/posts/eviction-and-debt/#forward-momentum",
            "title": "Forward momentum",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/eviction-and-debt/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 801,
        "reading_time": 5,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-11-06-websummit-opening-night.md",
        "content": "<p><img src=\"/images/abertura02.jpg\" alt=\"Paddy Cosgrave taking a selfie on the Center Stage during the opening night\" /></p>\n<p>WebSummit first day came with a mix of up and downs sprinkled with the duality of having the desire to scream with euphoria versus admiting that the event is nothing special to avoid stressing about it.</p>\n<p>This week I was contacted by their team to go up on the main stage with some of the startups that were present in last week event with the President Marcelo Rebelo de Sousa. That gave me cold sweats even though I knew it was nothing special. The idea was just to go on stage when they called for us and be there representing our startup scene.</p>\n<p>Early in the morning, I went to the venue with high hopes of doing my registration and never think about WebSummit until the main stage opening night thing. Unfortunately they told me that registration would only happen after 12h, which made me go back home to spend the rest of the day printing and cutting flyers and cards to hopefully distribute to people at the event.</p>\n<p><img src=\"/images/abertura05.jpg\" alt=\"Entrepreneurs in the opening night, on the left I didn't get the contact, on the right is Dinara Rakhimbaeva of ExpoChat\" /></p>\n<p>Later at night, I had the meeting point with the WebSummit team nearby the pavillion where the opening night was going to happen. They routed all of us through a tunnel that gave access to the spectators area of the pavillion. From the speakers that attended I really enjoyed Margrethe Vestager, the european comissioner for competition, she spoke about markets and taxes to tech companies. I also liked a lot of the speech that António Guterres gave, the former prime-minister of Portugal and now secretary-general of the United Nations who spoke about the biggest difficulty of our generation: climate change.</p>\n<p><img src=\"/images/abertura04.jpg\" alt=\"António Costa waiting to press the button\" /></p>\n<p>The cerimony was closed with the current prime-minister of Portugal, António Costa, and the mayor of Lisbon, Fernando Medina, who both pressed in a button that made a lot of confettis cannons explode. Before that they invited the portuguese startups the stage, where I was included. I used the chance to take a few pictures and wave at Guterres and Margrethe when by chance they looked at me.</p>\n<p><img src=\"/images/abertura03.jpg\" alt=\"WebSummit starting\" /></p>\n",
        "permalink": "https://hugodaniel.com/posts/websummit-opening-night/",
        "slug": "websummit-opening-night",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "WebSummit opening night. Sharing the stage with Paddy Cosgrave",
        "description": "Going through the opening night in the first day of WebSummit 2017",
        "updated": null,
        "date": "2017-11-06",
        "year": 2017,
        "month": 11,
        "day": 6,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/websummit-opening-night/",
        "components": [
          "posts",
          "websummit-opening-night"
        ],
        "summary": null,
        "toc": [],
        "word_count": 395,
        "reading_time": 2,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-11-03-gridgenerator-first-stand.md",
        "content": "<p><img src=\"/images/beato1.jpg\" alt=\"Beato Creative Hub\" /></p>\n<p>About a month ago I was planning my WebSummit approach when I realized that I had never been to such an event. Much less have a stand of my project there.</p>\n<p>That was when I started searching for opportunities to be at events. To train and prepare for the WebSummit.</p>\n<p>Back then I got an invitation to participate in the first aniversary of StartUp Portugal, the portuguese state entity that acts upon the development of our entrepreneurial ecosystem.</p>\n<p>My immediate decision was to say &quot;yes&quot; and use this oportunity to train the speach/pitch/posture in a faire stand.\nThe event took place in the <a href=\"http://www.startuplisboa.com/hcb\">&quot;beato creative hub&quot;</a>, an old military industrial area that was abandoned for years until they decided to turn it into the next big thing in Lisbon.</p>\n<p><img src=\"/images/beato2.jpg\" alt=\"The bag reads &quot;Military Maintenance&quot;, as this was an old factory related to the portuguese military\" /></p>\n<p>Access wise it is near the river, and although it has a nearby bike path, the entrance is on the inner side, making it difficult to get there on bike or on foot (cars tend to speed and the sidewalks are narrow in that area of the city). The surrounding neighborhood used to be neglected and poor, but now it is thriving with Lisboners looking for different places to hangout due to the tourist pressure present in past common areas of the city (bairro alto, cais do sodré, etc...).</p>\n<p>That day (4th of October) I arrived a bit earlier than expected to setup my stand and after it I drank a beer to chill out while making my first contacts with the other stands as they arrived.</p>\n<p>The whole thing was novelty to me, I was there with <a href=\"https://gridgenerator.com\">Grid Generator</a>, the bootstrapped project I've been working on, and things proceeded in three waves during the day:</p>\n<h2 id=\"wave-1-lots-of-people-in-suits\">Wave 1: Lots of people in suits</h2>\n<p>After a while lots of people in suits showed up. Most of these were just walking around while keeping a safe distance from the stands. Enough not to get approached by any of us there standing.\nSince I was there to take the most of it, I grabed a few flyers and actively went to them to talk about my amazing project.</p>\n<p>To my shock they were not interested in listening to what I had to say. This was not even a problem with my pitch because they turned me down right after I showed up with a smile and said &quot;Hello, can I talk to you about my project ?&quot;. Maybe it is a problem with my face.</p>\n<p>If they were not there for the startups and the people working on them then what were they there for ?</p>\n<p>I decided to deal with it and move along. I guess negative reactions should be expected when going to these events with an active posture (seeking people to speak, instead of waiting for them to speak with you).</p>\n<p><img src=\"/images/me_beato.jpg\" alt=\"Me in my stand\" /></p>\n<h2 id=\"wave-2-nobody\">Wave 2: Nobody</h2>\n<p>The event then had some talks. Unfortunately they were scheduled to happen in a different building than the one we were in. So suddenly everybody left and disappeared from sight. A few important politicians showed up to talk (I saw them at a glimpse) and we were left alone: should I leave my stand unattended ? I decided to stay and hold my ground just in case somebody showed up.</p>\n<p><img src=\"/images/talks_beato.jpg\" alt=\"Talks happening in another pavillion\" /></p>\n<p>During this time my motivation was going down and approaching a local minimum for that day. <em>&quot;I see... this is mostly a political event.&quot;</em></p>\n<p>That was when I met Pedro from <a href=\"http://othersigns.pt/\">othersigns.pt</a>. He had decided to check out the projects while we were mostly empty. I pitched him when he interrupted and decided to criticise me about my pitch approach:</p>\n<p><em>&quot;Why are you talking about your project like it is targeted for the design industry ? I can clearly see it is not, yet you talk about it like it is&quot;</em></p>\n<p>We talked. One hour later he had convinced me to look at it from a different angle and try to push the real innovative things about my project and sell it as a design tool for non-designers. Something targeted for the creative crowd that needs to do some design but don't know/want to work with complex pro tools like the ones professional designers use.</p>\n<p>Lots of different possibilities and approaches for <a href=\"https://gridgenerator.com\">Grid Generator</a> came into conversation. It was fun and made the event worthwhile.</p>\n<h2 id=\"wave-3-some-important-people\">Wave 3: Some important people</h2>\n<p>After the talks ended in the other pavillion a hoard of scouts in suits approached our stands and told the people next to me, in an important tone, that they would have to speak with the secretary of state for the industry.\nIt happenened. She talked to them, took some photos, and promptly decided to ignore most of us in the other stands, talking only to a select few. The other politicians didn't bother to show up.</p>\n<p>Startups were apparently the boring part in this startup event. <a href=\"https://hugodaniel.com/posts/meeting-the-president/\">Marcelo Rebelo de Sousa, yesterday,</a> was kind enough to give voice to anyone who wanted to speak.</p>\n<p>After this I went out. Grabbed a slice of the aniversary cake that they were eating outside (even the cake was outside the stands area), and had another beer while meditating on what had happened. After this I left to dance <a href=\"https://www.youtube.com/watch?v=9DYElqcREXc\">Kizomba</a> in another part of the city.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>I decided to participate in this event in order to train for our WebSummit stand. Overall it was a fun experience albeit the first of its kind I had. I am not sure I would want to repeat it again if given the chance.</p>\n<p>It definetely helped me learn a few things about being in a stand and craft a more prepared approach for the bigger event that is the WebSummit.</p>\n<p><img src=\"/images/aniv1.jpg\" alt=\"Me at the first aniversay of StarUp Portugal, shortly after the event ended\" /></p>\n<p>Here is a quick list of things this helped me learn about being in a stand, some of these are pretty obvious but still worth to keep in mind:</p>\n<ul>\n<li>Take an active approach (approach and talk to people). I talked to more people than any of the other stands there.</li>\n<li>Don't grudge if people don't want to talk to you (it is normal)</li>\n<li>Your product demo is not the most important part. People will not get to it if your pitch is not convincing.</li>\n<li>Don't focus on pitching features. Pitch a story instead. It grabs attention better.</li>\n<li>Keep a log of e-mails and reach them a few days later (ask people for their e-mails and not the other way around: don't give your e-mail expecting to be contacted: you won't be).</li>\n<li>Eye-candy is important, the stands with the better visual looks got most of the attention.</li>\n</ul>\n<p>Hope this helps and see you at the WebSummit next week <a href=\"https://hugodaniel.com/posts/lisbon-as-an-inspiration-for-my-project/\">in Lisbon</a>, also take a look at some cool <a href=\"https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/\">places to eat in the touristic area of Lisbon</a> :)</p>\n",
        "permalink": "https://hugodaniel.com/posts/gridgenerator-first-stand/",
        "slug": "gridgenerator-first-stand",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Grid Generator First Stand",
        "description": "I went to a faire to show off my project and idea",
        "updated": null,
        "date": "2017-11-03",
        "year": 2017,
        "month": 11,
        "day": 3,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/gridgenerator-first-stand/",
        "components": [
          "posts",
          "gridgenerator-first-stand"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "wave-1-lots-of-people-in-suits",
            "permalink": "https://hugodaniel.com/posts/gridgenerator-first-stand/#wave-1-lots-of-people-in-suits",
            "title": "Wave 1: Lots of people in suits",
            "children": []
          },
          {
            "level": 2,
            "id": "wave-2-nobody",
            "permalink": "https://hugodaniel.com/posts/gridgenerator-first-stand/#wave-2-nobody",
            "title": "Wave 2: Nobody",
            "children": []
          },
          {
            "level": 2,
            "id": "wave-3-some-important-people",
            "permalink": "https://hugodaniel.com/posts/gridgenerator-first-stand/#wave-3-some-important-people",
            "title": "Wave 3: Some important people",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/gridgenerator-first-stand/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 1223,
        "reading_time": 7,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-11-02-meeting-the-president.md",
        "content": "<p><img src=\"/images/inside_coches2.jpg\" alt=\"He talked to us in the old coach museum\" /></p>\n<p>A few days ago I got an e-mail from the presidency inviting me to go to an event with the president of Portugal, Marcelo Rebelo de Sousa. This came within the WebSummit context, he wanted to be personally with some of the portuguese startups that are going to attend the WebSummit next week.</p>\n<p>This event would take place in the old National Coach Museum in the near future: today.</p>\n<p>I guess that I got it because of my participation on the &quot;Road2WebSummit&quot; series of events that I was selected to be part of. Road2WebSummit is focused in coaching (pun intended) startups so they can be well prepared for the WebSummit. It tries to fill the gap of our lack of an official &quot;entrepreneur&quot; culture, although we do have a lot of background at being unofficially entrepreneurs as it comes attached to being a poor country in a rich continent. Now we just need to know how to capitalize on that and channel it through proper &quot;startupian&quot; gymnastics.</p>\n<p><img src=\"/images/coches.jpg\" alt=\"The entrance\" /></p>\n<p>The invitation added that the dresscode was a &quot;dark suit&quot;. That was a problem for me since I don't have any suits and did not intend to buy or loan one. I decided to dress somewhat nicely with what I had around without leaning too much towards informality.</p>\n<p><img src=\"/images/suits.jpg\" alt=\"Suits everywhere\" /></p>\n<p>Almost everyone suited-up for the event, which let me feeling a bit out of place initially, but that all went away once inside.</p>\n<p>The museum is amazing! I had never been there and kind of regret it since they moved to the new &quot;modern&quot; place next door and closed this one (now labeled the &quot;old&quot; one).</p>\n<p>There was still some old coaches around and the ceiling decoration is still beautiful as people always told me it was. At the end they placed chairs for everyone to sit for the speech.</p>\n<p><img src=\"/images/inside_coches.jpg\" alt=\"The entrance\" /></p>\n<p>The president arrived after a few minutes. He talked for a small bit, introduced the economy minister and the websummit people. He is known for his improvisation skills and for the hability to charismatically make quick decisions. After all the personalities had spoken he then passed the word to the startups. Whoever wanted to speak could introduce themselves and their company/ideia to everyone else.</p>\n<p>Here is the video of his speech (he translates from portuguese to english as he goes).</p>\n<video src=\"http://media.presidencia.pt/videos/mrs2017/PRMRS_171102_V01_FHD.mp4\" width=\"100%\" controls />\n<p>About 90 people talked. That was the number they said, personally I did not count and unfortunately after a while my brain was not able to process any more &quot;ideas&quot; or startup names. I was spilling buzzwords through my ears. I think the winner buzzwords were &quot;AI&quot;, &quot;Machine Learning&quot;, &quot;Disruptive&quot;, &quot;App&quot;, &quot;Intelligent&quot;, &quot;Deep learning&quot;, &quot;3D Printer&quot; and some others I can't recall.</p>\n<p>Near the end we took a group picture, and before everyone left they gave some drinks and <em>pasteis de belém</em> while Marcelo was being invaded by people taking selfies with him.</p>\n<p><img src=\"/images/marcelo2.png\" alt=\"Me, the guy with no suit near the camers, with a blue circle. Marcelo, the president, at front with a red circle\" /></p>\n<p>Overall it was a fun event I even met an ex-teacher from my university that is now trying to work out an idea to increase bike usage in Lisbon.</p>\n<p>I hope another opportunity like this happens soon, maybe then I can also take a selfie with the Prez. :D</p>\n<p>Meanwhile checkout how <a href=\"https://hugodaniel.com/posts/first-funding-as-a-bootstrapper-in-portugal/\">I got to participate</a> in the StartUp Portugal events. If you are here for the WebSummit don't be fooled and <a href=\"https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/\">read my recommendations for places to eat</a> in the touristic area.</p>\n",
        "permalink": "https://hugodaniel.com/posts/meeting-the-president/",
        "slug": "meeting-the-president",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Meeting the President",
        "description": "I got to meet the president through an invitation to attend a meeting with other startups",
        "updated": null,
        "date": "2017-11-02",
        "year": 2017,
        "month": 11,
        "day": 2,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/meeting-the-president/",
        "components": [
          "posts",
          "meeting-the-president"
        ],
        "summary": null,
        "toc": [],
        "word_count": 646,
        "reading_time": 4,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-11-01-where-do-local-hackers-eat-in-lisbon.md",
        "content": "<p><img src=\"/images/kid.jpg\" alt=\"Picture of a kid in the dark looking for a friend to pass the ball while playing football\" /></p>\n<p>I don't know where hackers (as in infosec wizards) eat in Lisbon. We do have a strong background of using things beyond their intended purpose (we call it &quot;desenrascanço&quot; and it is a basic trait of being born in the culture that has sprung here for centuries).</p>\n<p>As is this post is intended for tourists looking for a typical experience.</p>\n<p>If you are visiting Lisbon chances are that you will spend your time around the most touristic areas of the city. In this post I want to share with you some places and dishes that we love and are generally ignored by tourists. I don't pretend to be Anthony Bourdain or any of those youtubers that don't respect what they are eating and only go to fancy restaurants to say in the end that it is cheap and good.\nDon't fall for that. Be a proper tourist and avoid the &quot;Torre de Belem snowball&quot; at all costs. I have only seen snow 2 times in my life and it was not in Lisbon :D</p>\n<p><img src=\"/images/belem_snowball.jpg\" alt=\"Snowing in Lisbon?\" /></p>\n<p>In Portugal we always seat to have lunch and dinner. We don't eat walking. Traditionally everyone takes at least an hour to have lunch. It is kind of a big deal. People here are very proud of their food. There are many categories of places to eat but locals range them between &quot;fancy restaurant&quot; and &quot;fast-food joint&quot;. Somewhere between these two lies our honorable <em>&quot;tasca&quot;</em> (tavern &lt;= <em>tasca</em> &lt;= simple restaurant). A glorified tavern with a very peculiar set of skills, namely: very good and inexpensive local food.</p>\n<h2 id=\"what-to-expect\">What to expect</h2>\n<p>In a <em>tasca</em> you can expect at least the following:</p>\n<ul>\n<li>No cameras looking over you, the balcony or the employers * Never trust a business that tracks you and/or doesn't trust their own people</li>\n<li>Open kitchen * Take a peek through the open window inside the kitchen and say hi to the cook</li>\n<li>Freshly peeled hand-cut fried potatos * For your pleasure</li>\n<li>Pressured wine * We split wine into two major groups: white/red and then inside this group mature/green (or is it the other way around?). Try them all! :)</li>\n<li>A balcony if you are just warming your stomach * Yes, we sometimes eat standing at the balcony if it is something really fast</li>\n</ul>\n<h2 id=\"in-the-heart-of-lisbon\">In the heart of Lisbon</h2>\n<p>Here are 4 <em>tascas</em> that I can think from the top of my head and which I recommend in the touristic area of the city. Don't expect to see &quot;hackers&quot; as in computer wizards in them but typical portuguese folks eating. Chose the one near you when you get hungry.</p>\n<ul>\n<li>\n<p><a href=\"https://www.google.pt/maps/place/Casa+Das+Bifanas/@38.7141819,-9.1400812,17z/data=!3m1!4b1!4m5!3m4!1s0xd1933877a14a101:0x58658df29b0791b0!8m2!3d38.7141769!4d-9.1378849\">&quot;Casa das Bifanas&quot; in Rossio</a> - <img src=\"/images/bifanas.jpg\" alt=\"Formely known as &quot;The king of Bifanas&quot;\" /></p>\n</li>\n<li>\n<p><a href=\"https://www.google.pt/maps/place/Popular+Do+Capelo/@38.7098328,-9.1408684,20z/data=!4m12!1m6!3m5!1s0xd1933877a14a101:0x58658df29b0791b0!2sCasa+Das+Bifanas!8m2!3d38.7141769!4d-9.1378849!3m4!1s0xd19347ecf1cf809:0xb3685b3298796599!8m2!3d38.7097915!4d-9.1406129\">&quot;Popular do Capelo&quot; in Chiado</a></p>\n</li>\n<li>\n<p><a href=\"https://www.google.pt/maps/place/O+Trevo/@38.7116017,-9.1461413,17z/data=!4m5!3m4!1s0xd19347fa8fe09bd:0xd6fe73efee2fb6fc!8m2!3d38.710865!4d-9.1430943\">&quot;O Trevo&quot; in Pc. Camoes</a> - <img src=\"/images/otrevo1.jpg\" alt=\"O trevo\" /></p>\n</li>\n<li>\n<p><a href=\"https://www.google.pt/maps/place/A+Parreirinha+Do+Rato/@38.719569,-9.154936,19z/data=!4m12!1m6!3m5!1s0xd19347fa8fe09bd:0xd6fe73efee2fb6fc!2sO+Trevo!8m2!3d38.710865!4d-9.1430943!3m4!1s0xd19337b1c2560f7:0x10c06dc141131fd5!8m2!3d38.7196609!4d-9.1548474\">&quot;A Parreirinha do Rato&quot; in Rato</a></p>\n</li>\n</ul>\n<h3 id=\"things-to-keep-in-mind\">Things to keep in mind</h3>\n<p>The main reason you step inside a <em>tasca</em> is the food. The second main reason is also the food. The list of reasons is long and every item of the list is food.\nAt the end of the list, down in the footer in a small font are lots of little details that you happen to notice when you are a regular client. These details are infinite and a new one pops out every time you step inside a <em>tasca</em>.</p>\n<p>During lunch hour these are very busy places. The waiters are typically running and rushing while being seriously professional. They are in a no-bullshit mode, they know you want to eat and they know you will love the food.</p>\n<p>The kitchen can close outside of eating hours and only small meals are served.</p>\n<p>They are somewhat noisy and you can expect to see people screaming if there is a football match going on.</p>\n<h3 id=\"what-to-eat\">What to eat</h3>\n<p>Dishes are more or less the same in most <em>tascas</em>. Try these.</p>\n<p><strong>Starter</strong></p>\n<ul>\n<li>Croquete (meat roll)</li>\n<li>Chamuça (triangle with curry chicken)</li>\n</ul>\n<p><strong>Soup</strong></p>\n<ul>\n<li>Caldo Verde (kale soup)</li>\n<li>Sopa de legumes (vegetables soup)</li>\n</ul>\n<p><strong>Fish</strong></p>\n<ul>\n<li>Polvo à lagareiro (octopus with olive oil)</li>\n<li>Peixe espada (swordfish)</li>\n</ul>\n<p><strong>Meat</strong></p>\n<ul>\n<li>Secretos de porco (pork)</li>\n<li>Bife à casa (steak)</li>\n</ul>\n<p><strong>Drink</strong></p>\n<ul>\n<li>Beer</li>\n<li>Jar of wine (ask for the pressured white wine if you want the full experience)</li>\n</ul>\n<p><strong>Dessert</strong></p>\n<ul>\n<li>Arroz doce (sweet rice)</li>\n<li>Café (ask for an extra <em>bagaço</em> if you want the full experience) * <img src=\"/images/bagaco.jpg\" alt=\"Café and bagaço\" /></li>\n</ul>\n<p>If you just want a snack or something other than a full-meal, then try out our &quot;Bifana&quot;. A steak sandwich. Goes well with beer.</p>\n<h2 id=\"intro-to-portuguese-pastery\">Intro to Portuguese pastery</h2>\n<p>Our pastery is a bit different from the european cakes (because we never saw ourselves as a part of europe until +-40 years ago).\nWe have mostly french influences and also things from all over the world but to keep it short you can generally find fresh original cakes mostly made with sweet egg yolk. We put egg yolk in most of our cake recipes. I have heard several explanations for this, the most convincing one for me is that in convents nuns used the egg light to iron and starch the church clothes, then to avoid wasting the yolk they invented all of these different cakes that you can see in most cafes.</p>\n<p>Our pastery shifts radically in some seasons, we have a whole range of cakes and snacks that are only done in christmas and some in easter.</p>\n<p>You can find some brazillian pastery, which are heavy in condensed milk (sugar + milk cooked under pressure) and some variations of these with our traditional egg yolk. Just try whatever pops your eye :)</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Explore Lisbon, it has many secrets and hidden gems. Our ways might seem a bit strange, clumsy and hard to get into at first, but peeking through the sweet spots can reveal a humble, seasoned and balanced culture (with earned scars of fighting hard against slavery, discrimination, inequality and dictatorship/power surges). If you are here next week for the WebSummit lets hang out and have a drink :) <a href=\"https://hugodaniel.com/posts/about/\">Here is my contact at the bottom</a>. Take a look at why I think <a href=\"https://hugodaniel.com/posts/lisbon-as-an-inspiration-for-my-project/\">Lisbon is an inspiration</a> for my project.</p>\n",
        "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/",
        "slug": "where-do-local-hackers-eat-in-lisbon",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Where do local hackers eat in Lisbon",
        "description": "Some tips for the security minded to eat like a local when visiting the Lisbon touristic area",
        "updated": null,
        "date": "2017-11-01",
        "year": 2017,
        "month": 11,
        "day": 1,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/where-do-local-hackers-eat-in-lisbon/",
        "components": [
          "posts",
          "where-do-local-hackers-eat-in-lisbon"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "what-to-expect",
            "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/#what-to-expect",
            "title": "What to expect",
            "children": []
          },
          {
            "level": 2,
            "id": "in-the-heart-of-lisbon",
            "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/#in-the-heart-of-lisbon",
            "title": "In the heart of Lisbon",
            "children": [
              {
                "level": 3,
                "id": "things-to-keep-in-mind",
                "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/#things-to-keep-in-mind",
                "title": "Things to keep in mind",
                "children": []
              },
              {
                "level": 3,
                "id": "what-to-eat",
                "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/#what-to-eat",
                "title": "What to eat",
                "children": []
              }
            ]
          },
          {
            "level": 2,
            "id": "intro-to-portuguese-pastery",
            "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/#intro-to-portuguese-pastery",
            "title": "Intro to Portuguese pastery",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/where-do-local-hackers-eat-in-lisbon/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 1146,
        "reading_time": 6,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-10-31-first-funding-as-a-bootstrapper-in-portugal.md",
        "content": "<p><img src=\"/images/startupvoucher.jpg\" alt=\"StartUp Voucher ad, it reads: &quot;What if your idea could turn into a company ?&quot;\" /></p>\n<p>In April 2016 I quit from the startup I was working to finally do a personal project. Back then the questions everyone asked me were mostly about money <em>&quot;How are you going to live ?&quot;</em>.\nEven though rent prices in Lisbon have been skyrocketing due to tourism increase and the coming of WebSummit I always had a frugal economical lifestyle. I don't have loans, I don't have &quot;luxuries&quot; and I can keep my monthly spendings to what some people view as an heroically low value.\nLooking back it was somewhat natural that when a set of conditions met I thought: &quot;it's now or never&quot;.</p>\n<p>I spent some months wondering about what kind of project to do. I knew I wanted something ambitious but I got easily lost in the objectives and purpose of the project. With time I realized that the money I had saved was not going to allow me to survive long enough to do a first version of the product and release it in the market.\nThat made me start looking around for investment, preferably some that did not imply selling part of the company (lost fund). That was when I found about StartUp Voucher.</p>\n<p>Very briefly, StartUp Voucher is a community fund from the European Union that is run by the Portuguese Gov. with the purpose of helping out companies in &quot;idea stage&quot;. Pragmatically this means I get 690EUR/month for 12 months plus the help of an incubator and a mentor.</p>\n<p>This funding is particularly targeted for ideas outside of the most developed areas of the country. In spite of currently living in Lisbon I was born and raised in Alenquer, where my family still resides. To apply for this fund I made the headquarters of my project there, a place I love and visit on a weekly basis.</p>\n<p>To further enhance my application I read through the whole 100 page <a href=\"https://www.portugal2020.pt/Portal2020/Media/Default/Docs/EstrategiasEInteligente/EREI%20Centro.pdf\">&quot;Research and Innovation Strategies for Smart Specialisation&quot; report (RIS3)</a> for my region. That report made me notice that a software tool for grid based drawings could have a lot of impact in several practical applications for the exporting industries in the Center of Portugal. Like ceramics, textiles and creative industries.</p>\n<p><a href=\"https://gridgenerator.com\"><img src=\"https://gridgenerator.com/img/logo/grid_generator_logo.png\" alt=\"The logo\" /></a></p>\n<p>When Lisbon was boiling with WebSummit 2016 I was working full-time to apply to this fund. It took me a few weeks and in December I finally finished the application and sent it. After a some months I got the news that my project was one of the 245 chosen to be on the StartUp Voucher. Since around May 2017 that I have been getting 690EUR each month and working in full force on this project.</p>\n<p>During this time I have been using their support to fine-tune the project in many ways and prepare myself for the first steps on the market. WebSummit is also being promoted by the StartUp Voucher who encourages all tech startups to try to attend.</p>\n<p>Right now I have a working demo that have been using with some friends and potential users and I am planning to start looking for partnerships in early 2018.</p>\n<p><a href=\"https://hugodaniel.com/posts/why-i-decided-to-go-to-the-websummit/\">In this link</a> I explain why I decided to go to the WebSummit this year.</p>\n",
        "permalink": "https://hugodaniel.com/posts/first-funding-as-a-bootstrapper-in-portugal/",
        "slug": "first-funding-as-a-bootstrapper-in-portugal",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "My first funding as a bootstrapper in Portugal",
        "description": "A brief summary of StartUp Voucher as a potential funding for portuguese bootstrappers",
        "updated": null,
        "date": "2017-10-31",
        "year": 2017,
        "month": 10,
        "day": 31,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/first-funding-as-a-bootstrapper-in-portugal/",
        "components": [
          "posts",
          "first-funding-as-a-bootstrapper-in-portugal"
        ],
        "summary": null,
        "toc": [],
        "word_count": 578,
        "reading_time": 3,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-10-26-how-useful-is-the-javascript-set.md",
        "content": "<p>In most languages Set's have a clear strong use case: fast union, intersection and difference operations; unfortunately in JavaScript these operations are not readily defined so as an exercise I am going to raise some questions and try to answer them in this post.</p>\n<p>All code is run on Firefox Developer Edition 57.0b11 (64-bit) in macOS.</p>\n<h2 id=\"initialization\">Initialization</h2>\n<p>Most of this post will be used to compare <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\">Set()</a> with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\">Array()</a> for some common operations. To initialize a Set() I will be constructing it with an Array.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">set1 </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">([</span><span style=\"color:#d08770;\">1</span><span style=\"color:#c0c5ce;\">,</span><span style=\"color:#d08770;\">2</span><span style=\"color:#c0c5ce;\">,</span><span style=\"color:#d08770;\">3</span><span style=\"color:#c0c5ce;\">,</span><span style=\"color:#d08770;\">4</span><span style=\"color:#c0c5ce;\">,</span><span style=\"color:#d08770;\">5</span><span style=\"color:#c0c5ce;\">,</span><span style=\"color:#d08770;\">6</span><span style=\"color:#c0c5ce;\">]);\n\n</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">has</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#d08770;\">5</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#65737e;\">// true\n\n</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#65737e;\">// Set [ 1, 2, 3, 4, 5, 6 ]\n</span></code></pre><h2 id=\"uniqueness\">Uniqueness</h2>\n<p>Without the common set operations defined the JavaScript Set() can be seen as a glorified container that only stores unique elements. When you put a repeated element it actually replaces the existing one.</p>\n<p>This is quite useful for primitive values.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#d08770;\">5</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#d08770;\">5</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#d08770;\">5</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#65737e;\">// Set [ 1, 2, 3, 4, 5, 6 ]\n</span></code></pre>\n<p>Unlike Arrays the value will not be repeated when you add it to a Set.</p>\n<p>For object values this is not that simple as Set uses references for those values;</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">set2 </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">([{ value: </span><span style=\"color:#d08770;\">1</span><span style=\"color:#c0c5ce;\">}, { value: </span><span style=\"color:#d08770;\">2</span><span style=\"color:#c0c5ce;\">}]);\n</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">obj1 </span><span style=\"color:#c0c5ce;\">= { value: </span><span style=\"color:#d08770;\">2 </span><span style=\"color:#c0c5ce;\">};\n</span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">obj1</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#65737e;\">// Set [{ value: 1}, { value: 2}, { value: 2 }]\n</span></code></pre>\n<p>The reference is used as the key in the Set, if we change <code>obj1.value</code> above to something else and add it to the Set, JavaScript will see it as a repeated element and replace the existing reference in the Set.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#bf616a;\">obj1</span><span style=\"color:#c0c5ce;\">.value = &quot;</span><span style=\"color:#a3be8c;\">foo</span><span style=\"color:#c0c5ce;\">&quot;;\n</span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">obj1</span><span style=\"color:#c0c5ce;\">); </span><span style=\"color:#65737e;\">// obj1 is already in the set\n</span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#65737e;\">// Set [{ value: 1}, { value: 2}, { value: &quot;foo&quot; }]\n</span></code></pre>\n<p>Now just to compare with Arrays, here is a naive implementation to create an array with n values and then filter the unique values in it.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">n </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">100000</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#65737e;\">// create an array with &#39;n&#39; random numbers:\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">initialArray </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Array</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">n</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">number </span><span style=\"color:#c0c5ce;\">= Math.</span><span style=\"color:#96b5b4;\">round</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">random</span><span style=\"color:#c0c5ce;\">()*</span><span style=\"color:#bf616a;\">n</span><span style=\"color:#c0c5ce;\">);\n\t</span><span style=\"color:#bf616a;\">initialArray</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">push</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">number</span><span style=\"color:#c0c5ce;\">);\n}\n</span><span style=\"color:#65737e;\">// naively filter the unique values into a new array\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">uniqueArray </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Array</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">UniqueArrayBefore</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">initialArray</span><span style=\"color:#c0c5ce;\">.length; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">value </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">initialArray</span><span style=\"color:#c0c5ce;\">[</span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">];\n\t</span><span style=\"color:#b48ead;\">if </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">uniqueArray</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">indexOf</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">value</span><span style=\"color:#c0c5ce;\">) === -</span><span style=\"color:#d08770;\">1</span><span style=\"color:#c0c5ce;\">) {\n\t\t</span><span style=\"color:#bf616a;\">uniqueArray</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">push</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">value</span><span style=\"color:#c0c5ce;\">);\n\t}\n}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">UniqueArrayAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">uniqueArray</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">UniqueArrayBefore</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">UniqueArrayAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">arrayTotalTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">uniqueArray</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">arrayTotalTime</span><span style=\"color:#c0c5ce;\">, </span><span style=\"color:#bf616a;\">uniqueArray</span><span style=\"color:#c0c5ce;\">.length);\n</span><span style=\"color:#65737e;\">// 171.08500000000004 63235\n</span></code></pre>\n<p>It takes 171 milliseconds to filter ~64k unique values in a 100k elments array. Not bad.</p>\n<p>Now lets compare this naive implementation to just using Set():</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">UniqueSetBefore</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">uniqueSet </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">initialArray</span><span style=\"color:#c0c5ce;\">); </span><span style=\"color:#65737e;\">// easy!\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">UniqueSetAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">uniqueSet</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">UniqueSetBefore</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">UniqueSetAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">setTotalTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">uniqueSet</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">setTotalTime</span><span style=\"color:#c0c5ce;\">, </span><span style=\"color:#bf616a;\">uniqueSet</span><span style=\"color:#c0c5ce;\">.size);\n</span><span style=\"color:#65737e;\">// 0.8699999999998909 63235\n</span></code></pre>\n<p>That is FAST! ~0.9ms with the same initial 100k array. The good part is that Set does not get worse with the number of elements in it.</p>\n<p>This is basic JS and the killer feature of Set()'s. Use them when you need a container of unique elements and/or to filter unique elements in any iterable container.</p>\n<h2 id=\"presence\">Presence</h2>\n<p>Checking if an element is present is also easy in a Set and arguably an operation quite common for containers like these.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">has</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#d08770;\">5</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#65737e;\">// true\n</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">has</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#d08770;\">1337</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#65737e;\">// false\n</span></code></pre>\n<p>Arrays also have a presence function called <code>indexOf</code>: it returns the index of the element or -1 if it is not present.</p>\n<p>To compare <code>Array.indexOf()</code> to <code>Set.has()</code> here is a quick test that runs 10000 indexOf's (in array) and has's (in Set) for an Array and Set of 100 elements:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">size </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">100</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#65737e;\">// the Array and Set size\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">a </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Array</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">size</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">push</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">round</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">random</span><span style=\"color:#c0c5ce;\">()*</span><span style=\"color:#bf616a;\">size</span><span style=\"color:#c0c5ce;\">));\n}\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">s </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">);\n\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">ops </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">10000</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">indexAll </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array Before</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">ops</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">indexAll </span><span style=\"color:#c0c5ce;\">+= </span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">indexOf</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">round</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">random</span><span style=\"color:#c0c5ce;\">()*</span><span style=\"color:#bf616a;\">size</span><span style=\"color:#c0c5ce;\">));\n\t</span><span style=\"color:#65737e;\">// ^ just to do some operation\n</span><span style=\"color:#c0c5ce;\">}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array After</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array.indexOf()</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">Array Before</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">Array After</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">arrayTotalTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array.indexOf()</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\n\n</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">setValue </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">false</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set Before</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">ops</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">setValue </span><span style=\"color:#c0c5ce;\">+= </span><span style=\"color:#bf616a;\">s</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">has</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">round</span><span style=\"color:#c0c5ce;\">(Math.</span><span style=\"color:#96b5b4;\">random</span><span style=\"color:#c0c5ce;\">()*</span><span style=\"color:#bf616a;\">size</span><span style=\"color:#c0c5ce;\">));\n\t</span><span style=\"color:#65737e;\">// ^ same as above just to do some operation\n</span><span style=\"color:#c0c5ce;\">}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set After</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set.has()</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">Set Before</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">Set After</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">setTotalTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set.has()</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\n\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">setValue</span><span style=\"color:#c0c5ce;\">, </span><span style=\"color:#bf616a;\">indexAll</span><span style=\"color:#c0c5ce;\">);\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">SET: </span><span style=\"color:#c0c5ce;\">&quot;, </span><span style=\"color:#bf616a;\">setTotalTime</span><span style=\"color:#c0c5ce;\">, &quot;</span><span style=\"color:#a3be8c;\">ARRAY: </span><span style=\"color:#c0c5ce;\">&quot;, </span><span style=\"color:#bf616a;\">arrayTotalTime</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#65737e;\">// SET:  17.68499999999767 ARRAY:  20.924999999995634\n</span></code></pre>\n<p>A slight difference. Multiple executions give values that are coherent with these (not an outlier).\n<code>Set.has()</code> is faster than the <code>Array.indexOf()</code> even for small Arrays.</p>\n<p>The difference of execution just gets bigger as the size of the containers increase.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#65737e;\">// size = 1000;\n// SET:  21.014999999999418 ARRAY:  54.00500000000102\n// size = 10000;\n// SET:  17.44499999999971 ARRAY:  398.505000000001\n// size = 100000;\n// SET:  19.770000000004075 ARRAY:  3779.524999999994\n</span></code></pre>\n<p><code>Set.has()</code> execution time doesn't seem to differ with the set size. The JS spec tells us why:</p>\n<p><em>&quot;Set objects must be implemented using either hash tables or other mechanisms that, on average, provide access times that are sublinear on the number of elements in the collection.&quot;</em> <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-set-objects\">[*]</a></p>\n<p>It does not even bother heating your CPU as my browser probably implements this to be O(shiznit(n)) for a large enough n (I will not go into detail here so I will leave the measurement as an exercise for you as it is always important/necessary to measure Big-O behaviours).</p>\n<h2 id=\"insertion-speed\">Insertion speed</h2>\n<p>Right now Sets seem really cool, how about we check how fast is the add() method in comparison to an array push(), like we did in the <a href=\"https://hugodaniel.com/posts/in-loving-memory-of-immutable/\">Immutable.List vs Array article</a> ?</p>\n<p>The code is simple, two loops, one for Array.push() and another for Set.add().</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">s </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">a </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Array</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">ammount </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">100000</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">ArrayBefore</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">ammount</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">push</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">);\n}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">ArrayAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array.push</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">ArrayBefore</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">ArrayAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">SetBefore</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">ammount</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">s</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">);\n}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">SetAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set.add</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">SetBefore</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">SetAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">arrayTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array.push</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">setTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set.add</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(`</span><span style=\"color:#a3be8c;\">Array.push in </span><span style=\"color:#c0c5ce;\">${</span><span style=\"color:#bf616a;\">arrayTime</span><span style=\"color:#c0c5ce;\">}</span><span style=\"color:#a3be8c;\">ms; Set.add in </span><span style=\"color:#c0c5ce;\">${</span><span style=\"color:#bf616a;\">setTime</span><span style=\"color:#c0c5ce;\">}</span><span style=\"color:#a3be8c;\">ms;</span><span style=\"color:#c0c5ce;\">`);\n</span><span style=\"color:#65737e;\">// Array.push in 4.054999999993015ms; Set.add in 20.915000000037253ms;\n</span></code></pre>\n<p>Ah! Arrays are much faster (5x) in insertion than Sets. If you are an experience developer this is not really surprising at all, but still it is nice to check.\nBe aware that insertion speed grows linearly in Arrays and non-linearly in Sets:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#65737e;\">// ammount = 100000;\n// Array.push in 4.054999999993015ms; Set.add in 20.915000000037253ms;\n// ammount = 1000000;\n// Array.push in 17.175000000046566ms; Set.add in 417.03999999992084ms;\n// ^ ~4x more than prev.               ^ ~20x more than prev.\n// ammount = 10000000;\n// Array.push in 349.8299999999581ms; Set.add in 3902.625ms;\n// ^ ~20x more than prev.             ^ ~10x more than prev.\n</span></code></pre>\n<p>We could continue, but JavaScript numbers are <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\">64 bit double precision floating point values</a>. Which means that for integer values they will use 52bits of storage for the significand. Which in turn means that for the next ammount (100000000) I would need 650MB of memory just to store the numbers + the overhead of the Array and Set data structures.</p>\n<p>Another exercise for the reader :D</p>\n<p>If you are doing a cheap fast logger, then Array is a better choice than Set since it inserts much faster. Set add() is probably implemented to have a better <a href=\"https://en.wikipedia.org/wiki/Big_O_notation\">O(some BS here)</a> than the Array push() and it will likely not be much slower than 10x the previous running order. But their measured absolute value is way slower and this is what really matters, always measure your code if you care about performance because overhead can creep in the most unexpected places (I am not sure if this is the case, but still...).</p>\n<h2 id=\"iteration-speed\">Iteration speed</h2>\n<p>If you are wondering how Set performs in the need to iterate through its elements, wonder no further.</p>\n<p>Again the two cycles, this time using for..of to go through the Set items.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">s </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">a </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Array</span><span style=\"color:#c0c5ce;\">();\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">ammount </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">100000</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">sum </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">ammount</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">push</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">);\n}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">ArrayBefore</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">.length; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">sum </span><span style=\"color:#c0c5ce;\">+= </span><span style=\"color:#bf616a;\">a</span><span style=\"color:#c0c5ce;\">[</span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">];\n}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">ArrayAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array.for</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">ArrayBefore</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">ArrayAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i </span><span style=\"color:#c0c5ce;\">&lt; </span><span style=\"color:#bf616a;\">ammount</span><span style=\"color:#c0c5ce;\">; </span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">++) {\n\t</span><span style=\"color:#bf616a;\">s</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">add</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">i</span><span style=\"color:#c0c5ce;\">);\n}\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">sum</span><span style=\"color:#c0c5ce;\">);\n</span><span style=\"color:#bf616a;\">sum </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">;\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">SetBefore</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">for </span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#b48ead;\">let </span><span style=\"color:#bf616a;\">item </span><span style=\"color:#c0c5ce;\">of </span><span style=\"color:#bf616a;\">s</span><span style=\"color:#c0c5ce;\">) { </span><span style=\"color:#65737e;\">// &lt;- here\n\t</span><span style=\"color:#bf616a;\">sum </span><span style=\"color:#c0c5ce;\">+= </span><span style=\"color:#bf616a;\">item</span><span style=\"color:#c0c5ce;\">;\n}\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">mark</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">SetAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">measure</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set.for</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">SetBefore</span><span style=\"color:#c0c5ce;\">&quot;, &quot;</span><span style=\"color:#a3be8c;\">SetAfter</span><span style=\"color:#c0c5ce;\">&quot;);\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">arrayTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Array.for</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\n</span><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">setTime </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">performance</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getEntriesByName</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">Set.for</span><span style=\"color:#c0c5ce;\">&quot;)[</span><span style=\"color:#d08770;\">0</span><span style=\"color:#c0c5ce;\">].duration;\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">sum</span><span style=\"color:#c0c5ce;\">);\nconsole.</span><span style=\"color:#96b5b4;\">log</span><span style=\"color:#c0c5ce;\">(`</span><span style=\"color:#a3be8c;\">Array.for in </span><span style=\"color:#c0c5ce;\">${</span><span style=\"color:#bf616a;\">arrayTime</span><span style=\"color:#c0c5ce;\">}</span><span style=\"color:#a3be8c;\">ms; Set.for in </span><span style=\"color:#c0c5ce;\">${</span><span style=\"color:#bf616a;\">setTime</span><span style=\"color:#c0c5ce;\">}</span><span style=\"color:#a3be8c;\">ms;</span><span style=\"color:#c0c5ce;\">`);\n</span><span style=\"color:#65737e;\">// Array.for in 4.44999999999709ms; Set.for in 9.239999999997963ms;\n</span></code></pre>\n<p>No surprises here. Array sequential values are faster to iterate than Set values (which iterates in insertion order).</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#65737e;\">// ammount = 100000;\n// Array.for in 4.44999999999709ms; Set.for in 9.239999999997963ms;\n// ammount = 1000000;\n// Array.for in 9.044999999998254ms; Set.for in 55.14499999998952ms;\n// ammount = 10000000;\n// Array.for in 74.47000000000116ms; Set.for in 180.13999999999942ms;\n</span></code></pre>\n<p>Arrays are faster for sequential iteration of lots of data.\nConverting the Set to an Array is not going to help here because <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\"><code>Array.from</code></a> iterates through the argument to perform the convertion.</p>\n<p>Just deal with it :)</p>\n<h2 id=\"set-operations\">Set operations</h2>\n<p><img src=\"/images/paulo_coding.jpg\" alt=\"A pic I took more than a decade ago. Paulo, one of the best hackers I have met. Nikon FM2 50mm1.2f, Kodak E100G film, double exposure.\" /></p>\n<p>We saw that Set construction and presence checking are extremely fast operations when compared to their Array counterparts. With this in mind the set operations can be easily and naively done.</p>\n<h3 id=\"union\">Union</h3>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">union </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">([...</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">, ...</span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">]);\n</span></code></pre>\n<p>Creates a new set with the <em>unique</em> values on set1 and set2 (no repeated values). If you don't care about uniqueness then just use Arrays and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\"><code>concat()</code></a> them.</p>\n<h3 id=\"difference\">Difference</h3>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">diff </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">([...</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">].</span><span style=\"color:#bf616a;\">filter</span><span style=\"color:#c0c5ce;\">(x </span><span style=\"color:#b48ead;\">=&gt; </span><span style=\"color:#c0c5ce;\">!</span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">has</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">x</span><span style=\"color:#c0c5ce;\">)));\n</span></code></pre><h3 id=\"intersection\">Intersection</h3>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#b48ead;\">const </span><span style=\"color:#bf616a;\">intersected </span><span style=\"color:#c0c5ce;\">= new </span><span style=\"color:#ebcb8b;\">Set</span><span style=\"color:#c0c5ce;\">([...</span><span style=\"color:#bf616a;\">set1</span><span style=\"color:#c0c5ce;\">].</span><span style=\"color:#bf616a;\">filter</span><span style=\"color:#c0c5ce;\">(x </span><span style=\"color:#b48ead;\">=&gt; </span><span style=\"color:#bf616a;\">set2</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">has</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">x</span><span style=\"color:#c0c5ce;\">)));\n</span></code></pre>\n<p>Simple as long as you remember that for objects they work with references instead of values.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<ul>\n<li>Use Set() when unique values matter</li>\n<li>Set.has() is much faster than Array.indexOf()</li>\n<li>Array.push() is much faster than Set.add()</li>\n<li>Arrays are faster to iterate sequentially</li>\n<li>Union, Difference, Intersection are easy to implement with Set</li>\n</ul>\n<p>Set's are a big part of my project <a href=\"https://gridgenerator.com\">Grid Generator</a>. Keeping these small concepts close to the heart can help you leverage Sets to achieve very good performance even in mobile devices.</p>\n<p>I hope this post was valuable in any way to you. If you are interested <a href=\"https://hugodaniel.com/posts/mastering-console-log/\">here is my take on console.log()</a> and also a <a href=\"https://hugodaniel.com/posts/in-loving-memory-of-immutable/\">look into Immutable</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/",
        "slug": "how-useful-is-the-javascript-set",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "How useful is the JavaScript Set",
        "description": "Working, playing and measuring the JavaScript Set data structure",
        "updated": null,
        "date": "2017-10-25",
        "year": 2017,
        "month": 10,
        "day": 25,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/how-useful-is-the-javascript-set/",
        "components": [
          "posts",
          "how-useful-is-the-javascript-set"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "initialization",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#initialization",
            "title": "Initialization",
            "children": []
          },
          {
            "level": 2,
            "id": "uniqueness",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#uniqueness",
            "title": "Uniqueness",
            "children": []
          },
          {
            "level": 2,
            "id": "presence",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#presence",
            "title": "Presence",
            "children": []
          },
          {
            "level": 2,
            "id": "insertion-speed",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#insertion-speed",
            "title": "Insertion speed",
            "children": []
          },
          {
            "level": 2,
            "id": "iteration-speed",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#iteration-speed",
            "title": "Iteration speed",
            "children": []
          },
          {
            "level": 2,
            "id": "set-operations",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#set-operations",
            "title": "Set operations",
            "children": [
              {
                "level": 3,
                "id": "union",
                "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#union",
                "title": "Union",
                "children": []
              },
              {
                "level": 3,
                "id": "difference",
                "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#difference",
                "title": "Difference",
                "children": []
              },
              {
                "level": 3,
                "id": "intersection",
                "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#intersection",
                "title": "Intersection",
                "children": []
              }
            ]
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/how-useful-is-the-javascript-set/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 1762,
        "reading_time": 9,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-10-25-Lisbon-as-an-inspiration-for-my-project.md",
        "content": "<p><img src=\"/images/Lisbon_gridgenerator1.jpg\" alt=\"Diptych of Lisbon graffitti in portuguese tiles together with the downtown Lisbon ground\" /></p>\n<p>Recently I was somewhat &quot;forced&quot; to think about the story behind the idea I am working on. If you go to these startup and entrepreneurship events you will see that most projects have some kind of a story behind them.\nEither they start up in a garage (Apple), or they decided to improve their hobbyist girl discrimination app (facebook), or they just somehow were blessed by some mystical event that got their idea and team together to disrupt the universe.</p>\n<p>When my reality clashed with that one I realized that I did not have a special motivation to do a <a href=\"https://gridgenerator.com\">pattern and shapes app</a> besides my desire to make a cool project come to life.\nSo I decided to do what it seemed like the best approach to move forward: I lead myself into a spiral of paranoia and depression for not taking in consideration the necessary planets alignment.</p>\n<p>Afterall, why am I doing what I am doing ? Why drawing ? Why shapes and patterns ? What is my story ? How do I sell my idea ? What drives my &quot;pitch&quot; ?\nAll entrepreneurs seem to have the answers for these questions well sorted out as they always come up with some amazing tale of fortune and success.</p>\n<p>Me?\nI am just a person who worked in the public sector for 6 years. Quit out of frustration. Worked 2 months for a consulting company. Quit out of more frustration. Worked less than a year in a startup and quit to avoid medical insanity.</p>\n<p><img src=\"/images/Lisbon_gridgenerator2.jpg\" alt=\"A random person walking downwards with a building frontage covered in tiles in the background\" /></p>\n<p>Since college that I am full of myself with photography. I really think that I am the last Coca-Cola in the desert in regards to photography.\nInstead of studying for the exams I would spend hours roaming around Lisbon and taking pictures of every little bit of this city. I would then proceed to use them to produce poems that were even more pretentious than the pictures.\nWhich inevitably led me to fail a lot of years in university. I have pictures to show for it :)</p>\n<p>Lucky for me Lisbon is one of the most beautiful cities in the world, so some pictures turned out ok in spite of my lack of talent for photography. The ones that were good were mostly about:</p>\n<ol>\n<li>Tagus scenery (hard to miss)</li>\n<li>Buildings frontages</li>\n<li>Portuguese sidewalks</li>\n</ol>\n<p><img src=\"/images/Lisbon_gridgenerator3.jpg\" alt=\"A building in Lisbon\" /></p>\n<p>The ammount of patterns and small details in Lisbon is impressive. Be it on the walls, or on the ground, or inside or outside of buildings. I guess this is the only explanation I can think of for my interest in shapes and geometric patterns.</p>\n<p>In a few days Lisbon will be full of people from different culture(s) who are coming in for the WebSummit. If you are visiting don't forget to look at the floors and walls.\nThey are a source of inspiration.</p>\n<p><img src=\"/images/Lisbon_gridgenerator4.jpg\" alt=\"Diptych of a messed up sidewalk diagonal grid and the door detail of a church in &quot;Martim Moniz&quot; where the frontage is entirely rendered on the ground sidewalk\" /></p>\n<p>If you liked this post <a href=\"https://gridgenerator.com\">check out my project</a> and the reason why <a href=\"https://hugodaniel.com/posts/why-i-decided-to-go-to-the-websummit/\">I am going to the WebSummit</a></p>\n",
        "permalink": "https://hugodaniel.com/posts/lisbon-as-an-inspiration-for-my-project/",
        "slug": "lisbon-as-an-inspiration-for-my-project",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Lisbon as an inspiration for my project",
        "description": "How Lisbon became an inspiration for the current idea I am working on",
        "updated": null,
        "date": "2017-10-25",
        "year": 2017,
        "month": 10,
        "day": 25,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/lisbon-as-an-inspiration-for-my-project/",
        "components": [
          "posts",
          "lisbon-as-an-inspiration-for-my-project"
        ],
        "summary": null,
        "toc": [],
        "word_count": 577,
        "reading_time": 3,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-10-24-why-i-decided-to-go-to-the-websummit.md",
        "content": "<p><img src=\"/images/websummit1_tagusriver.jpg\" alt=\"Tagus river by sunset in Lisbon, with a background bridge that shares some similarities with the Golden Gate in San Francisco\" /></p>\n<p>Personally I find it impossible to answer this question. I feel that it was not me who actually took the decision to go to the WebSummit. Even though I did.</p>\n<p>It all hapened through a sequence of chained events that led me to have to decide to buy a discounted alpha ticket to go there.</p>\n<p>At first the WebSummit has two big &quot;no&quot;'s: the price and if you can actually get something useful from it. I can argue that there is some pressure to go when you have the whole city talking about this conference and you know quite a few people that are going there. How can you miss the even where supposedly everything is hapenning ?</p>\n<p><img src=\"/images/websummit1_me.jpg\" alt=\"Me in Lisbon at the top of the arc in Rua Augusta enjoying a sunny day\" /></p>\n<p><a href=\"https://gridgenerator.com\">My project is a web app to help people work their graphical ideas</a> without having to learn pro software so that they can use these ideas in their daily lives. Technically it is a grid where each element has itself a customized grid inside. Besides this it also has a cool way to help select colors that match and work well with each other.\nI have not yet released it, so I don't have any market data to show off. I am not looking for investment for two main reasons: I want to bootstrap it and it currently is in an early stage (almost fully developed but still before market).</p>\n<p>I talked beforehand to some people that went to the 2016 edition, and they said that it's a big event, so big that it is confusing to be there. Also most people that go are looking for investment. All these people that I talked to work for some company that paid their tickets, so I had to keep that in mind when considering their opinion (myself being a bootstrapper).</p>\n<p>Because of this initially I had decided not to go. Then I talked to my mentor and he insisted that I considered the pros and cons of going and not going.\nI then changed my mind into going to the WebSummit because he convinced me that the potential to expand my contact network and talk to people that might be interested in the project was something that at this stage would be very good overall.</p>\n<p>Hence the decision to give WebSummit a chance. I applied to their &quot;alpha ticket&quot;, got selected after a quick interview and they sold me a ~520EUR pass available. This was <em>a lot</em> for me to pay. Even considering that I would be getting 3 tickets and a stand there for my project during one day. But I bit the bullet considering that I am living in Lisbon and that I would have no further big expenses.</p>\n<p>That was three months ago, meanwhile I have already considered and reconsidered my previous decision, and my current status is still a bit doubtful about the WebSummit as a worthwhile experience for a bootstrapper. I am certainly not going to look for an investment (like most people apparently go) and the real benefits that I think I will obtain are not easily tangible (personal development and enrichment, maybe some hope of having inspirational talks with different minded people).</p>\n<p>Maybe in WebSummit I will meet people that can open my mind to other different kinds of funding. Maybe in the future I will do a kickstarter campaign or some other kind of funding project.\nRight now I know that at least I get the chance to be in the same place as Al Gore and other great thinkers...</p>\n<p>If you liked this post check out <a href=\"https://hugodaniel.com/posts/lisbon-as-an-inspiration-for-my-project/\">Lisbon as an inspiration for my project</a></p>\n",
        "permalink": "https://hugodaniel.com/posts/why-i-decided-to-go-to-the-websummit/",
        "slug": "why-i-decided-to-go-to-the-websummit",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Why I decided to go to the WebSummit?",
        "description": "WebSummit is a big conference that is happening in Lisbon, here is why i am going",
        "updated": null,
        "date": "2017-10-24",
        "year": 2017,
        "month": 10,
        "day": 24,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/why-i-decided-to-go-to-the-websummit/",
        "components": [
          "posts",
          "why-i-decided-to-go-to-the-websummit"
        ],
        "summary": null,
        "toc": [],
        "word_count": 653,
        "reading_time": 4,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-10-03-in-loving-memory-of-immutable.md",
        "content": "<p>Any JavaScript spaghetti worth its salt won't keep track of its objects references or their updates.\nThese are things that happen between the mind of a chef and the ether of a planned portion with lots of defensive copying.\n<a href=\"https://facebook.github.io/immutable-js/\">Immutable.js</a> aims to reduce these portion sizes to match the ones in fancy restaurants while avoiding ingredients like:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">JSON.parse(JSON.stringify(obj))\n\n</span></code></pre>\n<p>To try out this new pepper lets open the developer tools in a new tab and sharpen our sour-sweet tooth.</p>\n<p><img src=\"/images/devtools.png\" alt=\"Screenshot of the Firefox developer tools in console mode.\" /></p>\n<h2 id=\"how-many-calories-has-the-appetizer\">How many calories has the appetizer ?</h2>\n<p>In order to measure the amount of memory that Immutable.js uses by itself lets marinate it in a quick and dirty formula:</p>\n<ol>\n<li>Open the devtools</li>\n<li>Define a simple array with a single item in it and print it to the console\n<ul>\n<li><pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\"> let test1 = [1337];\n</span><span style=\"color:#c0c5ce;\"> console.log(test1);\n</span></code></pre></li>\n</ul>\n<pre style=\"background-color:#2b303b;\">\n<code></code></pre></li>\n<li>Measure the memory usage (memory tab of the dev tools)</li>\n<li>Load Immutable.js directly into the console (copy pasting its minified source directly into the console)</li>\n<li>Define a simple list with a single item in it and print it to the console\n<ul>\n<li><pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\"> let test2 = Immutable.List.of(1337);\n</span><span style=\"color:#c0c5ce;\"> console.log(test2);\n</span></code></pre></li>\n</ul>\n<pre style=\"background-color:#2b303b;\">\n<code></code></pre></li>\n<li>Measure the memory usage again</li>\n</ol>\n<p>The key points are 3. and 6. so lets do it and take a look into the memory info. For these measures I am using Firefox Developer Edition 53.0a2 (2017-03-05) (64-bit) in OSX Sierra.</p>\n<p>After point 3. I have 2.11MB of used memory with the following layout:</p>\n<ul>\n<li><em>scripts</em>: 37KiB (347 objects)</li>\n<li><em>strings</em>: 362KiB (9685 objects)</li>\n<li><em>objects</em>: 813KiB (11325 objects)</li>\n<li><em>other</em>: 849KiB (18365 objects)</li>\n</ul>\n<p>This is for nothing but an empty tab with devtools opened after point 3. in the magic formula.</p>\n<p>Now lets load <a href=\"https://raw.githubusercontent.com/facebook/immutable-js/master/dist/immutable.min.js\">Immutable.js raw minification</a> and run the rest of the steps.</p>\n<p>After point 6.  I have 2.53MB of used memory with the following layout:</p>\n<ul>\n<li><em>scripts</em>: 248KiB (1717 objects)</li>\n<li><em>strings</em>: 384KiB (10252 objects)</li>\n<li><em>objects</em>: 904KiB (12618 objects)</li>\n<li><em>other</em>: 933KiB (19984 objects)</li>\n</ul>\n<p><strong>Immutable.js makes the memory usage go up from 2.1MB to about 2.5MB.</strong> That's around 0.4MB just to load the minified Immutable.js in memory.</p>\n<p>Lets keep this value as a reference in further tests. I am keeping these memory snapshots also for further reference.</p>\n<p>How can we leverage the juice from these 0.4MB into our secret sauce ?</p>\n<h2 id=\"a-list-of-many-secrets\">A list of many secrets</h2>\n<p>Immutable allows the discerning chef to cook with well defined ingredients. You can define your own data types and use them as immutable everywhere you want to. To do that the Immutable.Record is their provided interface. </p>\n<p>The following code uses it to define a data type for a 2D point, with X and Y coordinates, and then create some points with it.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const Pt = Immutable.Record( { x: 0, y: 0} );\n\nconst pt1 = new Pt(); // uses x: 0, y: 0 by default\nconst pt2 = new Pt({ y: 123 }); // uses x: 0 by default\nconst pt3 = new Pt({ x: 123, y: 321 }); // uses your provided values\n</span></code></pre>\n<p>Fast-food junkies could do the same in straight JS with the simpler approach:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">function PtJS(x = 0, y = 0) {\n\tthis.x = x;\n\tthis.y = y;\n}\n\nlet jspt1 = new PtJS();\nlet jspt2 = new PtJS(0, 123);\nlet jspt3 = new PtJS(123, 321);\n</span></code></pre>\n<p>Some might even argue that they are not wasting the memory that Immutable is. Master chefs are always looking for opportunities to learn, to study and to teach. </p>\n<p>Now for a simple test, create a list with 10000 of those 2D points and compare memory readings of the Immutable approach with the plain JS approach.</p>\n<p>First the plain JS approach (lets assume the constructor is already created as above).</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">\nlet testArray = [];\nfor(let i = 0; i &lt; 10000; i++) {\n  testArray.push(new PtJS());\n}\n\n</span></code></pre>\n<p>After measuring this in the Memory tab we get 2.92MB in this layout:</p>\n<ul>\n<li><em>scripts</em>: 228KiB (1692 objects)</li>\n<li><em>strings</em>: 384KiB (10251 objects)</li>\n<li><em>objects</em>: 1MiB (22688 objects)</li>\n<li><em>other</em>: 888KiB (19990 objects)</li>\n</ul>\n<p>That seems fair, we get an increase of about 390KiB in comparison to our previous measurement. That should be enough motivation to roll our Chefs Knives suitecase of Persistency and do it in Immutable style to measure it on top of this 2.92MB already in use.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const defaultPt = new Pt();\nconst testLst = Immutable.Repeat(defaultPt, 10000);\n</span></code></pre>\n<p>After measuring this in the Memory tab we get 2.91MB. This is a decrease of about 10KiB from our previous memory usage. How is this possible ? Is the data even there ?</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">testLst.first().x;\n// returns 0\ntestLst.size();\n// returns 10000\n</span></code></pre>\n<p>Yep, it's all there. Immutable.js allows you to take good care of your memory, but as with all sharp knifes you need to know how to avoid hurting yourself. Lets dive a bit further to understand what is going on and how to master these data structures.</p>\n<h2 id=\"master-chef-mystery-boxes\">Master Chef Mystery Boxes</h2>\n<p>One common misconception about immutable data structures is that there is a lot of useless copying being done. In fact this is so common that there are even <a href=\"https://github.com/rtfeldman/seamless-immutable\">JS libraries based on it</a>. Playing with the flavour of common things note the most typical data structure in functional languages.</p>\n<h3 id=\"the-single-linked-list\">The single linked list.</h3>\n<p><img src=\"/images/immutable-list1.gif\" alt=\"A single linked list with 3 values\" /></p>\n<p>Supposed that this is a immutable list. It is not possible to add, remove or change its values without returning a new version of it.</p>\n<p>Does this mean that we need to copy all of it when we need to put a new value in it ? Not necessarily. We can just create the new list item and make sure its pointer is targeting the beginning of the original list.</p>\n<p><img src=\"/images/immutable-list2.png\" alt=\"Placing a new value in the previous list\" /></p>\n<p>This works because the list is immutable, we know for sure that the original list won't change so <strong>it is possible to reuse its values</strong>, no copying is involved in this.</p>\n<p>As before, our new immutable list is again defined by its first value, which in this new case is our new value.</p>\n<h3 id=\"master-the-simple-cuts-first\">Master the simple cuts first</h3>\n<p>Many operations are possible on our immutable single linked list that leverage the fact that it is an immutable list.</p>\n<p>Operations like <em>head</em> (return the first value in the list) and <em>tail</em> (return all the items in the list except for the first) are almost instantaneous to implement. For <em>head</em> we just return the value of the first item and for <em>tail</em> we just return the first item pointer value (which is an immutable single linked list, in this case, our original 3 value list).</p>\n<h4 id=\"concat\">Concat</h4>\n<p>Joining two lists is one of those simple operations that is worth your time and attention in order to understand it. If we have 2 different immutable lists that we want to join we need to go to the first list and adjust the last pointer of the last item to point to the first item of the second list.</p>\n<p>Here it is in pictures:</p>\n<p><img src=\"/images/immutable_two_lists.png\" alt=\"Joining these two lists\" /></p>\n<p><img src=\"/images/immutable_two_lists_2.png\" alt=\"We need to make the last item point to the first item of the second list\" /></p>\n<p><img src=\"/images/immutable_two_lists_3.png\" alt=\"A copy of this element is necessary because we can't just change it to point to the first item of lst2\" /></p>\n<p><img src=\"/images/immutable_two_lists_4.png\" alt=\"But now we need to make the previous item point to the newly created copy. So a copy of it will also be necessary.\" /></p>\n<p><img src=\"/images/immutable_two_lists_final.png\" alt=\"That is why to concat two lists a new list is made with a copy of the elements in the first list\" /></p>\n<p>Concat is a heavy operation, it mostly depends on the size of the first list. There are a few tricks to make it faster.</p>\n<p>To keep it simple I am not going to go much more into this and move to the point.</p>\n<h2 id=\"the-best-recipe-is-made-of-many-subrecipes\">The best recipe is made of many subrecipes</h2>\n<p>The list holds data. That's why it's called a <em>data</em> structure. Now what if instead of directly putting our data in each list item we could instead just point to the data ? Like this:</p>\n<p><img src=\"/images/immutable_lazy1.png\" alt=\"List doesn't directly hold the data anymore\" /></p>\n<p>The list effectively now holds <strong>a way to reach</strong> each value instead of the real values. We can get more generic and greatly simplify it by saying that in each list item there is a recipe to reach each value. In the above picture this <em>recipe</em> generalization is represented by the red arrows.</p>\n<p>Let me try to simplify it with the hope that it might stand out the intended purpose.</p>\n<p><img src=\"/images/immutable_lazy2.png\" alt=\"A list of recipes can be a list of values\" /></p>\n<p>The term <em>recipe</em> is not chosen by chance: it represents something that must be done to produce the value that the list item holds.</p>\n<p>If we follow the <em>recipe</em> in each item we can get to the intended values. For instance, suppose that this is a list of JS Number's, a good recipe to produce the value would be to just call Number() on the data. If it was a list of String's, a good recipe would be to call String() on the data. This also holds for very complex values, say this is a list of balanced tree's, or your favourite custom complex data type, <strong>a recipe is the way to construct the value</strong>, could just be following a pointer but perhaps that would not be a very useful constructor due to being too general.</p>\n<h3 id=\"lazy-concat\">Lazy concat</h3>\n<p>In our previous look into <em>concat</em> we noticed that it was a heavy operation, requiring a full copy of the first list that we want to join. When working with immutable data there are only a few of these &quot;heavy&quot; operations that do need a full copy.</p>\n<p>Now that we are taking quality steps as chefs how about we use a <em>recipe</em> for concat ?</p>\n<p>Instead of doing a full copy of the first list, just copy the first element and make it point to a recipe. That way, no matter the size of the lists, concat would be done in a single operation (the first item). Here it is in a picture:</p>\n<p><img src=\"/images/immutable_concat_lazy.png\" alt=\"Why copy the whole first list if we don't know if it will be needed ?\" /></p>\n<p>Now if we need the second element of the list the recipe will be followed to get it.</p>\n<p>That is a simple recipe:\ncopy the first list up to the needed value, if the copying is done but the intended value is not yet reached then start going through the second list values (without copying them). In the case we want the 2nd value of a concat'ed list a single copy will happen because we already copied the first item when concat was called. This is a case where the recipe is itself the whole concat operation, meaning that it will only copy until the end of the first list and after it will use the reference of the second list.</p>\n<p>This <a href=\"https://en.wikipedia.org/wiki/Thunk\"><em>recipe</em></a> approach is usually known as laziness and typically enhanced with a cache of results to avoid copying and constructing the same values over again (this caching approach is known as &quot;memoization&quot;).</p>\n<h2 id=\"cuisine-du-monde\">Cuisine du monde</h2>\n<p>Immutable.js makes good use of these techniques to avoid doing work when necessary and unnecessary copies. Their approach is lean and well thought, clearly separating the values from the way they are traversed.</p>\n<p>Lets look at our Immutable approach again:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const defaultPt = new Pt();\nconst testLst = Immutable.Repeat(defaultPt, 10000);\ntestLst.first().x;\n</span></code></pre>\n<p>A few things stand out:</p>\n<ol>\n<li>We are always using the same reference <em>defaultPt</em> instead of creating a new value in each item.\n<ul>\n<li>This is possible thanks to immutability, if we change it we are effectively creating a new value and a new list.</li>\n<li>Immutability encourages reutilization and is typically a GC friendly approach.</li>\n</ul>\n</li>\n<li>Repeat just returns a <em>recipe</em> (thunk)\n<ul>\n<li>No heavy work is actually done, it just returns a way to access and construct the values</li>\n<li>We used 10000 but could have used infinite with no performance or memory hit</li>\n<li>Work is only done when values are being requested and only up until them.</li>\n</ul>\n</li>\n</ol>\n<p>Immutable.js also uses a few other tricks to speed up common operations. For instance their List approach uses deques, which means that it keeps your list split in two, so [1,2,3,4,5,6] is kept by Immutable as [1,2,3] and [6,5,4] (reversed rest). This is a very simplified explanation of it, but in practice it allows for very fast insertions in the beginning and end of the list (<a href=\"http://blog.klipse.tech/javascript/2016/06/23/immutable-perf.html\">faster than JS arrays</a>).</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Immutable is certainly a different way of doing JS. Given the normal tendency JS coders have to lean more towards object oriented concepts, immutable feels like the schrodinger's immigrant in a foreign land.</p>\n<p><img src=\"/images/immigrant.jpeg\" alt=\"\" /></p>\n<p>I hope this post was in any way useful to you. Immutable sure is a fun library to get to know and work with. </p>\n",
        "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/",
        "slug": "in-loving-memory-of-immutable",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "In loving memory of Immutable.js",
        "description": "Using Immutable.js and trying to make some sense out of its memory usage.",
        "updated": null,
        "date": "2017-10-03",
        "year": 2017,
        "month": 10,
        "day": 3,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/in-loving-memory-of-immutable/",
        "components": [
          "posts",
          "in-loving-memory-of-immutable"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "how-many-calories-has-the-appetizer",
            "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#how-many-calories-has-the-appetizer",
            "title": "How many calories has the appetizer ?",
            "children": []
          },
          {
            "level": 2,
            "id": "a-list-of-many-secrets",
            "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#a-list-of-many-secrets",
            "title": "A list of many secrets",
            "children": []
          },
          {
            "level": 2,
            "id": "master-chef-mystery-boxes",
            "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#master-chef-mystery-boxes",
            "title": "Master Chef Mystery Boxes",
            "children": [
              {
                "level": 3,
                "id": "the-single-linked-list",
                "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#the-single-linked-list",
                "title": "The single linked list.",
                "children": []
              },
              {
                "level": 3,
                "id": "master-the-simple-cuts-first",
                "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#master-the-simple-cuts-first",
                "title": "Master the simple cuts first",
                "children": [
                  {
                    "level": 4,
                    "id": "concat",
                    "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#concat",
                    "title": "Concat",
                    "children": []
                  }
                ]
              }
            ]
          },
          {
            "level": 2,
            "id": "the-best-recipe-is-made-of-many-subrecipes",
            "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#the-best-recipe-is-made-of-many-subrecipes",
            "title": "The best recipe is made of many subrecipes",
            "children": [
              {
                "level": 3,
                "id": "lazy-concat",
                "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#lazy-concat",
                "title": "Lazy concat",
                "children": []
              }
            ]
          },
          {
            "level": 2,
            "id": "cuisine-du-monde",
            "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#cuisine-du-monde",
            "title": "Cuisine du monde",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/in-loving-memory-of-immutable/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 2158,
        "reading_time": 11,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-08-12-vi-is-not-vim.md",
        "content": "<p>When dinossaurs ruled the earth there was a young kid that had just installed Red Hat Linux 5 on his computer.<br/>\nFascinated with the &quot;OS for the elite&quot; he was about to experience a devouring frustration.\nThe kind that gives rise to dark divinities that come to haunt you in your sleep for years to come:</p>\n<p>Trying to exit vim.</p>\n<p>After a few unsuccessful atempts the computer <em>power switch</em> was the only option left. Like that the dream of a promising carreer in elite-land was shattered for that young boy.</p>\n<p>That young boy was me.</p>\n<h2 id=\"high-tech-editor-low-tech-coder\">High tech editor, low tech coder</h2>\n<p>My stubbornness always took the best part of my reason and vim was my editor for years to come. Since rough starts are the perfect driver for a good love story I then ditched it to take a stroll in netbeans land. <br/>After a while a pardon was due and got back to it again. Then I ditched it again for Visual Studio. <br/>Got back to it again. And so on.</p>\n<p>Code editors today try to do everything and a pair of boots. Even vim, known for its minimalist looks, is very prone to config-pr0n worthy of the most wild and nasty fantasies.</p>\n<h2 id=\"i-ll-show-you-mine-if-you-show-me-yours\">I'll show you mine if you show me yours</h2>\n<p>At one point I got myself in the middle of a config discussion between developers. They were arguing about good .vimrc config options and plugins for vim.</p>\n<p>I decided to participate and show my ~60 lines .vimrc file. They laughed. It was so small. Almost useless.</p>\n<p>That got me thinking:</p>\n<p><strong>What do i <em>really</em> need in a code editor ?</strong></p>\n<p>After giving a hard thought on my usage/preferences and some possible optimizations I took a look into the market of code editors and decided to <strong>upgrade from vim to vi</strong> (by vi I mean <a href=\"http://repo.or.cz/nvi.git\">nvi 1.81.6, still maintained and developed here</a> ).</p>\n<p>The rest of this blog post is about some nvi parts (vi, not vim), in particular some parts that are percieved as limitations. I will run through them and try to provide arguments that favor them and reasons to use them. Have your salt and pepper at hand before reading further.</p>\n<h2 id=\"minimal-config-file-exrc\">Minimal config file (.exrc)</h2>\n<p>The nvi config file is named .exrc, here is my current setup:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">set showmode\nset showmatch\nset ruler\nset shiftwidth=2\nset tabstop=2\nset verbose\nset leftright\nset cedit=\\\nset filec=\\\n</span></code></pre>\n<p>9 lines only. No maintenance. No BS.</p>\n<p>These options are mostly similar to those in .vimrc, a special note for cedit and filec, these have a =\\&lt;TAB&gt; (the &lt;TAB&gt; is the actual tab character there after the \\).\nThe <strong>cedit</strong> property sets the character to trigger command expansion in the vi command colon mode. The <strong>filec</strong> sets the the character for file name expansion (auto-complete) when opening a new file inside vi (e.g. with :e).</p>\n<p>All of these are well documented in the man page.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">$ man nvi\n</span></code></pre><h2 id=\"no-unicode-support\">No unicode support</h2>\n<p>There are some vi implementations that support multibyte characters like <a href=\"https://github.com/lichray/nvi2\">nvi2</a>. But for this blog post I am assuming your vi is plain <a href=\"https://sites.google.com/a/bostic.com/keithbostic/vi/\">nvi</a>.</p>\n<p>No multibyte, wide-char, wtf-8, extended codepoints. Although those are very important to learn and master I do prefer to keep code in plain strict single-byte ASCII (UTF-8 supersedes it).</p>\n<p><strong>Why ?</strong></p>\n<p>It keeps the language coherent with the programming reserved words (more than logic constructs, <em>while</em>, <em>for</em>, <em>if</em>, are english words).</p>\n<p>It makes it perfectly visible when an accidental wide-char is inserted (particularly helpful if you are using a keyboard layout that does not use the US key-mapping). This is good to make sure your code is available to read on every system, regardless of locale (it even works if someone opens the code you wrote in an editor that is set to default to UTF-8 encoding).</p>\n<p>Another good thing is that it works with a wider variety of fonts. Some monospace terminal fonts can't correctly display all UTF-8 characters.</p>\n<p><strong>But I sometimes need to write documents with strange characters</strong></p>\n<p>That is one of the scenarios where I would use another text editor. nvi is strictly a code/config editor.</p>\n<h2 id=\"no-syntax-highlighting\">No syntax highlighting</h2>\n<p>This is another personal preference. It has been a long time since I had to worry about syntax when producing code. If you still struggle with syntax then please use syntax highlighting, it will help those special words stand out.\nOtherwise why not give it a try without syntax highlighting for a while (a few weeks to be slightly above the habituation threshold) and measure how you perform ?</p>\n<p>It does help to keep your functions small and easy to read.</p>\n<p>Comments are shown with their true weight and your commented code is promoted to the same importance as your production code.</p>\n<p>Your focus will be in semantics and it is easier to get into it without the syntax aggressively jumping at your face.</p>\n<h2 id=\"fast-undo\">Fast undo</h2>\n<p>Like in vim the undo in vi is very convenient but has a slightly different way of operating. Instead of pressing <em>u</em> multiple times to go through the various undo levels and then ctrl-r to redo, in vi you do it by pressing <em>u</em> once to undo and the '<strong>.</strong>' to go through the various undo levels.</p>\n<p>To redo you press <em>u</em> twice (undo the undo) and then '<strong>.</strong>' to go through the multiple redo levels.</p>\n<p>I think this is slightly more coherent and it also makes use of the '<strong>.</strong>' (repeat action) operator in an arguably more logical way.</p>\n<p>Like in vim, you can use the <em>U</em> command to restore a line to the state it was before the cursor was placed on top of it (undoing all the chances since that time).</p>\n<h2 id=\"no-visual-mode\">No visual mode</h2>\n<p>There is no visual mode in vi (visual mode as in pressing the <em>v</em> command and using your movement keys to select an area of text).</p>\n<p>At first this might seem like a big handicap, but vi shares a few commands with vim that once mastered can make you more productive than using the visual mode.</p>\n<p><strong>Marks <em>m&lt;insert letter here&gt;</em></strong></p>\n<p>You can setup marks in text, if you type <em>mx</em> it will define the mark x at the current cursor position. Typically these are used to move quickly through the file and go to certain marked positions. For that the ' command is used followed by the mark character name (moves to the line) or with the ` command (moves to the exact cursor position of the mark). To move to mark x do 'x (assuming you did <em>mx</em> in some place before).</p>\n<p>Marks can also be used with other common commands like yank, delete, etc..., so instead of using the visual mode you can yank or delete to a a mark set at some position.<br/>\nTo do that use the <em>t</em> or <em>f</em> commands, like ytx (I read it as: <em>y</em>ank <em>t</em>o <em>x</em>), it will yank all lines up to (but not including) the line at mark x. To include it use the <em>f</em> as in yfx.</p>\n<h2 id=\"no-tabs\">No tabs</h2>\n<p>Tabs was a feature that I used a lot in vim, unfortunately they only work with vim, so if you want to run a shell command or have a terminal to read compiler output you will need to use them with some other kind of tab system.</p>\n<p>On my journey to the limits of usefulness I found myself using vim tabs together with tmux tabs and terminal (osx) tabs.</p>\n<p>After those crazy days (months ?) I finally decided to ditch all tabs and stick to a single tool for that purpose, one that is versatile enough to cover my use cases for tabs.</p>\n<p><strong>Do one thing and do it well</strong></p>\n<p><a href=\"https://github.com/tmux/tmux/wiki\">Tmux</a> is my current tool of choice, nowadays I don't use terminal tabs or text editor tabs. I leave that work for tmux, an amazing productivity tool that allows me to work fullscreen in zen mode with the code.</p>\n<p><strong>Panes in vi</strong></p>\n<p>Like in vim you can split your window with panes, these are useful to use another section of code as a quick reference or to do some quick yank/past in vi between files/sections.</p>\n<p>The pane system in vi works slightly different from vim. To vertically split the window you can also use the :vs, but to horizontally split the window :sp won't work. In vi the command to horizontally split a window is the :E, as in Edit (the same as :e but horizontally split).</p>\n<p>To switch between panes ctrl-w will immediately move your cursor to the next window pane. Instead of pressing twice like vim you only need to press it once. This is hard to get used to at first but it is also hard to live without once used to it.</p>\n<p><img src=\"/images/nvi_tmux_macos.png\" alt=\"My nvi with tmux on macos\" /></p>\n<h2 id=\"no-macros\">No macros</h2>\n<p>One feature that I consistently used in vim was macros (vim <em>q</em> command). It was easy to create bundles of commands and run them to do your repeated text tasks or grunt work. Very useful when replicating huge data files or setting up a <a href=\"https://hugodaniel.com/posts/mastering-console-log/\">big JSON test file</a>.</p>\n<p>In vi you can also use the power of macros through buffers.</p>\n<p><strong>Buff it up</strong></p>\n<p>Buffers are easy to use, you can prefix your common text manipulation commands (dd, yy, etc...) to a named buffer. To do that start the command with &quot;&lt;buffer name&gt; where &lt;buffer name&gt; is any letter from a-z.</p>\n<p>Here are some examples:</p>\n<ul>\n<li>\n<p><strong>To delete 4 lines and place them into buffer a</strong> &quot;a4dd</p>\n</li>\n<li>\n<p><strong>To paste buffer <em>a</em> to the current cursor position</strong> &quot;ap</p>\n</li>\n<li>\n<p><strong>To view all your buffers go to ex mode (:) and do</strong> :di b</p>\n</li>\n</ul>\n<p><strong>Who needs macros when you have buffers</strong></p>\n<p>Write a few commands to be executed in your file, place then in a buffer and tell vi that you want to execute the buffer:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">2)\n4dd\nG\n</span></code></pre>\n<p>Line by line:</p>\n<ol>\n<li>\n<p>move two lines down</p>\n</li>\n<li>\n<p>delete 4 lines</p>\n</li>\n<li>\n<p>go to the end of the file</p>\n</li>\n</ol>\n<p>Put these into a buffer named <em>c</em> with <i>&quot;c3yy</i> (yank 3 lines into buffer <em>c</em>), and whenever you want to run it just do <em>@ c</em>. Undo <em>u</em> also works nicely with buffered commands.</p>\n<h2 id=\"upgrading-from-vim-to-vi\">Upgrading from vim to vi</h2>\n<p>There are some cool benefits in using vi like how fast it is and how it handles huge files without a problem.</p>\n<p>nvi also performs well in <a href=\"https://github.com/jhallen/joes-sandbox/blob/master/editor-perf/readme.md\">this benchmark of editors</a></p>\n<p>The case for vi is like any other editor: a matter of getting used to it and keep perfecting your skills through it for what it really matters: writting great code.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Use what you are more confortable with. There are tradeoffs in every editor (even the mighty visual studio code does not allow you to work without syntax highlighting on...) and today nvi fits nicely with my way of working and approach.</p>\n<p>I hope this post to be used as a initial reference and motivation to those that are looking for a more minimalistic way of doing things. I don't intend it to start flame wars.</p>\n<p>You know all of these are just my opinions :)</p>\n",
        "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/",
        "slug": "vi-is-not-vim",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "vi is not vim",
        "description": "A few hints to get started using nvi, a lean and clean terminal based editor",
        "updated": null,
        "date": "2017-08-12",
        "year": 2017,
        "month": 8,
        "day": 12,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/vi-is-not-vim/",
        "components": [
          "posts",
          "vi-is-not-vim"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "high-tech-editor-low-tech-coder",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#high-tech-editor-low-tech-coder",
            "title": "High tech editor, low tech coder",
            "children": []
          },
          {
            "level": 2,
            "id": "i-ll-show-you-mine-if-you-show-me-yours",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#i-ll-show-you-mine-if-you-show-me-yours",
            "title": "I'll show you mine if you show me yours",
            "children": []
          },
          {
            "level": 2,
            "id": "minimal-config-file-exrc",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#minimal-config-file-exrc",
            "title": "Minimal config file (.exrc)",
            "children": []
          },
          {
            "level": 2,
            "id": "no-unicode-support",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#no-unicode-support",
            "title": "No unicode support",
            "children": []
          },
          {
            "level": 2,
            "id": "no-syntax-highlighting",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#no-syntax-highlighting",
            "title": "No syntax highlighting",
            "children": []
          },
          {
            "level": 2,
            "id": "fast-undo",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#fast-undo",
            "title": "Fast undo",
            "children": []
          },
          {
            "level": 2,
            "id": "no-visual-mode",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#no-visual-mode",
            "title": "No visual mode",
            "children": []
          },
          {
            "level": 2,
            "id": "no-tabs",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#no-tabs",
            "title": "No tabs",
            "children": []
          },
          {
            "level": 2,
            "id": "no-macros",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#no-macros",
            "title": "No macros",
            "children": []
          },
          {
            "level": 2,
            "id": "upgrading-from-vim-to-vi",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#upgrading-from-vim-to-vi",
            "title": "Upgrading from vim to vi",
            "children": []
          },
          {
            "level": 2,
            "id": "conclusion",
            "permalink": "https://hugodaniel.com/posts/vi-is-not-vim/#conclusion",
            "title": "Conclusion",
            "children": []
          }
        ],
        "word_count": 1896,
        "reading_time": 10,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-08-11-mastering-console-log.md",
        "content": "<p>Using <code>console.log()</code> to debug JavaScript, a dynamic weakly-typed interpreted language, feels like drinking beers on a lazy summer sunday afternoon.</p>\n<p>It is easy and you do it without thinking too much on how you could probably be more productive doing something else.</p>\n<p>Truth is that in all the other days of the week you don't avoid spraying your code with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger\"><code>debugger</code></a> keyword and let the developer tools stop and show you the execution context at that exact location.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">function yourCodeThatCouldBeWorking() {\n  const x = 1337;\n  const y = parseInt(window.prompt(&#39;Y value:&#39;));\n  debugger; // &lt;- hello\n  return (x / y);\n}\n\n</span></code></pre>\n<p>But lazy summer sunday afternoons are on to get us, and <code>console.log()</code> is our friend for the mood.</p>\n<h2 id=\"console-log-basic-mode\">console.log() basic mode</h2>\n<p>The most basic usage of <code>console.log</code> is to just pass it a string. You can step this up a bit by following the string with JS objects and/or strings. Like this:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const v1 = { x: 123, y: 321 };\nconsole.log(&quot;Vector v1: (&quot;, v1.x, &quot;,&quot;, v1.y, &quot;)&quot;);\n// or just:\nconsole.log(&quot;Vector v1:&quot;, v1);\n</span></code></pre>\n<p>Try it in your developer tools console (Ctrl Shift i, or in mac Cmd Shift i).</p>\n<p>This is a particularly simple and helpful way to properly debug JavaScript. Specially if your code is creating code or functions in runtime, making it hard to setup breakpoints in the debugger window.</p>\n<p>But who needs breakpoints when we have <code>console.log</code> ? :)</p>\n<h2 id=\"colorful-console-log-composer-mode\">Colorful console.log() composer mode</h2>\n<p>Besides its simplicity, my next favourite thing in <code>console.log</code> is that it also allows you to pass a format string to be replaced with what you want:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const v1 = { x: 123, y: 321 };\nconsole.log(&quot;v1 (%i, %i)&quot;, v1.x, v1.y);\n</span></code></pre>\n<p>There are a handful of other <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\">string substitutions</a> you can use.</p>\n<p>While apparently this is not a big improvement over the simplest mode, it can be used to do a few things that would not be so easy otherwise.</p>\n<p><strong>Colors in console.log</strong></p>\n<p>You can style your output with CSS through the %c substitution:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const v1 = { x: 123, y: 321 };\nconsole.log( &quot;%c[Vector 1] %c(%i, %i)%c\\nin object %o&quot;\n           , &quot;background: #242; color: #bada55&quot;\n           , &quot;background: #424; color: #c0ffee&quot;\n           , v1.x, v1.y\n           , &quot;&quot; //&lt;- clears style\n           , v1\n           );\n</span></code></pre>\n<p><strong>Dynamically create your output</strong></p>\n<p>You can also compose the log format string with code and pass it the args as needed.\nSuppose you are logging messages that can have a varying number of attributes:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const someMsg =\n  { type: &quot;WORKER_ERROR&quot;\n  , action: &quot;division&quot;\n  , args: [123, 0]\n  };\n\nfunction logMessage(msg) {\n  let logFmt = &quot;%c[%s]%c - %c%s%c&quot;;\n  let logArgs =\n    [ &quot;background: #242; color: #bada55&quot;\n    , msg.type\n    , &quot;&quot;\n    , &quot;background: #424; color: #c0ffee&quot;\n    , msg.action\n    , &quot;&quot;\n    ];\n  if (msg.action === &quot;division&quot;) {\n    logFmt += &quot;: %i / %i&quot;;\n    logArgs.push(msg.args[0]);\n    logArgs.push(msg.args[1]);\n  } else {\n    logFmt += &quot; with args %o&quot;;\n    logArgs.push(msg.args);\n  }\n  // finally print it:\n  console.log(logFmt, ...logArgs);\n}\n\nlogMessage(someMsg);\n</span></code></pre><h2 id=\"measuring-console-log\">Measuring console.log()</h2>\n<p>Another thing to keep in mind when using <code>console.log</code> is that it is not free. It does come with a performance hit, how much exactly ? Lets measure it like we did for <a href=\"https://hugodaniel.com/posts/how-fast-is-nothing/\">requestAnimationFrame()</a>:</p>\n<p>For this test I am going to print just 32 simple console.log messages. I know that this is not a lot, it actually is nothing when compared to using console.log on mousemove events or any other fast firing event, but it should be enough to test.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">performance.mark(&quot;Before&quot;);\n// print 32 lines\nfor(let i = 0; i &lt; 32; i++)\n  console.log(&quot;One of the simplest console.log() possible&quot;, i);\nperformance.mark(&quot;After&quot;);\nperformance.measure(&quot;console.log&quot;, &quot;Before&quot;, &quot;After&quot;);\nconst totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;\nconsole.log(&quot;console.log() in %ims&quot;, totalTime);\nperformance.clearMarks();\nperformance.clearMeasures();\n</span></code></pre>\n<p>In my Firefox Developer Edition (56.0b1) console it prints</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;console.log() in 15ms&quot;\n</span></code></pre>\n<p>15 milliseconds is <em>a lot</em> of time in a computer perspective, specially since we are just printing 32 messages, it is about 0.45ms per message.</p>\n<p>To keep it in perspective here is the time it takes to parse a huge 128KB JSON string:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">function jsonParseAndMeasure(jsonStr) {\n  performance.mark(&quot;jsonStart&quot;);\n  const json = JSON.parse(jsonStr);\n  performance.mark(&quot;jsonEnd&quot;);\n  performance.measure(&quot;JSON.parse&quot;, &quot;jsonStart&quot;, &quot;jsonEnd&quot;);\n  const totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;\n  console.log(&quot;JSON.parse in %ims&quot;, totalTime);\n  performance.clearMarks();\n  performance.clearMeasures();\n}\n\njsonParseAndMeasure(&quot;HUGE JSON STRING HERE&quot;);\n</span></code></pre>\n<p>For a 128KB JSON string it prints:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;JSON.parse in 0ms&quot;\n</span></code></pre>\n<p>Hmm... maybe that is not enough, lets increase it to a 2MB JSON string:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;JSON.parse in 0ms&quot;\n</span></code></pre>\n<p>Ok... what about a 50MB JSON string ?</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;JSON.parse in 17ms&quot;\n</span></code></pre>\n<p>Thats more like it. About the same time it took console.log to print 32 simple messages. There are a few attenuating factors for this in production, but it is good to keep this in mind when leaving those debugging messages in your production code ;)</p>\n<h2 id=\"buffering-console-log\">Buffering console.log()</h2>\n<p>There is an alternative if you have your reasons to use <code>console.log</code> in production code: buffering.</p>\n<p>Instead of printing each message as it comes, lets place them in an array and dump it in a single <code>console.log</code> call every second or so.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">let buffer = [];\n// use a log function instead of directly calling console.log:\nfunction log(str, args) {\n  buffer.push({ str, args });\n}\n\nfunction printBuffer() {\n  // start by copying the buffer and clearing it\n  const buf = buffer.slice(0);\n  buffer = [];\n  // dump the buffer in a single console.log call\n  if (buf.length &gt; 0) {\n    let logStr = &quot;&quot;;\n    let logArgs = [];\n    buf.map(msg =&gt; {\n      logStr += &quot;%s, %o\\n&quot;;\n      logArgs.push(msg.str);\n      logArgs.push(msg.args);\n    });\n    console.log(logStr, ...logArgs);\n  }\n  setTimeout(printBuffer, 1000); // run every 1000ms\n}\n\nprintBuffer(); // &lt;- start it\n</span></code></pre>\n<p>That should save you some performance complaints. I hope it helps :)</p>\n",
        "permalink": "https://hugodaniel.com/posts/mastering-console-log/",
        "slug": "mastering-console-log",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Mastering console.log()",
        "description": "Working with the developer tools most used console function",
        "updated": null,
        "date": "2017-08-11",
        "year": 2017,
        "month": 8,
        "day": 11,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/mastering-console-log/",
        "components": [
          "posts",
          "mastering-console-log"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "console-log-basic-mode",
            "permalink": "https://hugodaniel.com/posts/mastering-console-log/#console-log-basic-mode",
            "title": "console.log() basic mode",
            "children": []
          },
          {
            "level": 2,
            "id": "colorful-console-log-composer-mode",
            "permalink": "https://hugodaniel.com/posts/mastering-console-log/#colorful-console-log-composer-mode",
            "title": "Colorful console.log() composer mode",
            "children": []
          },
          {
            "level": 2,
            "id": "measuring-console-log",
            "permalink": "https://hugodaniel.com/posts/mastering-console-log/#measuring-console-log",
            "title": "Measuring console.log()",
            "children": []
          },
          {
            "level": 2,
            "id": "buffering-console-log",
            "permalink": "https://hugodaniel.com/posts/mastering-console-log/#buffering-console-log",
            "title": "Buffering console.log()",
            "children": []
          }
        ],
        "word_count": 889,
        "reading_time": 5,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-08-08-bootstrapping-rain.md",
        "content": "<p>It has passed a year and a couple of months since I started bootstrapping &quot;a painting web app&quot;. A lot has happened since that time, here is a quick TL;DR:</p>\n<ol>\n<li>I am still living off my savings (with a bit of help explained bellow)</li>\n<li>Increase in frequency and amplitude of the emotional roller-coaster highs and lows</li>\n<li>I started learning how to dance <a href=\"https://www.youtube.com/watch?v=fbAbbodH7Dw\">kuduro</a>, <a href=\"https://www.youtube.com/watch?v=1VtDFi4m_PU\">kizomba and semba</a> to cope with 2</li>\n<li>Had some unexpected expenses (teeth problems, car problems, general problems, problems problems, etc...)</li>\n<li>Lots of noise</li>\n</ol>\n<p>Noise that I now take a careful distant look at and collide for you in this blog post by applying three different filters into it.</p>\n<h2 id=\"1-what-am-i-doing\">1. What am i doing ?</h2>\n<p>Many signals exist in the noise, among these the strongest ones imply that I don't have a clue about what I am doing. In life.</p>\n<p>After all this time one of the hardest challenges I still have is explaining to a random person what the project is about. Come to think of it I haven't even done it here, how could I avoid my personal blog ? that blog that I personaly chose to neglect. Wait no further, here it goes.</p>\n<p><strong>&quot;A painting web app&quot;</strong></p>\n<p>This is a really reducing way of explaining what the project is about. Specificity wise I put it right after of <em>&quot;It's a programming project&quot;</em>, or <em>&quot;It's a web page&quot;</em>. It doesn't say much more than these and whenever I use it people stare at me with that awkward face that blends simpathy with honest disapointment.</p>\n<p><strong>Here is how it happened</strong></p>\n<p>Back in the day I grew tired of my (many) wrong choices in life. This was particularly hard for me since I have always been a lover of what is wrong and bad. &quot;Wasting&quot; huge ammounts of time doing code for no reason/purpose at all is not good and certainly not right. Investing years trying to produce CG code worthy of any unknown demoparty and their attendees acids. Realizing that I am not a good coder and still betting my life on the craft. Travelling through deserts only to hope <a href=\"http://www.dailymotion.com/video/x67s70\">nobody sees my attempts at hoping to intoxicate with colors</a>.</p>\n<p>It is 5am.\nAnother cold winter morning in Lisbon enhanced by the summer optimized windows and walls of my 37m^2 home. The rain leaks through the windows and I move the small ikea table enough to protect the laptop from getting wet. I don't know why I am forcing myself to wake up this early, perhaps knowing that the queue to heaven is shorter at this time of the day and that maybe god will allow my body and mind the grace of being numb for the rest of the working day.</p>\n<p>I can see work blowing up somewhere later in the day, I can feel it devouring my brain. I need this time to breathe. The warm coffee smell keeps me awake, its scent rises above all the burn bruises my hands acquired in trying to make it half-awake. Maybe the blessing will rain down on me today.</p>\n<p>I have been reading <a href=\"http://www.redblobgames.com/grids/hexagons/\">this article about hexagonal grids</a> for some time now. <em>Fuck! Why can't I implement it right ? Why is programming so hard for me ?</em> I have been trying to do this for months now. I have no purpose in it besides avoiding the razors in my day.</p>\n<p>Offset coordinates ? Cube coordinates ? <a href=\"https://dribbble.com/search?q=grid\">If I was a designer what would I do ? What would I need ?</a></p>\n<p>Hmm....</p>\n<p><a href=\"https://dribbble.com/shots/1483510-Mystery-Project-50\"><img src=\"/images/mystery_project.jpg\" alt=\"ZX Spectrum color palette\" /></a></p>\n<p>It is 7am, my girlfriend will wake up at some point before 8. It is still dark outside, where did I leave the umbrella ? I go out to buy some hot bread to prepare our breakfast.</p>\n<h2 id=\"2-holistic-approach\">2. Holistic approach</h2>\n<p>Romance is a big part of bootstrapping.</p>\n<h2 id=\"3-mentor\">3. Mentor</h2>\n<p>In November 2016 the struggle to explain what the project is about led me to apply <a href=\"https://www.iapmei.pt/PRODUTOS-E-SERVICOS/Empreendedorismo-Inovacao/Empreendedorismo/Startup-Voucher.aspx\">to a state sponsored funding</a>. In my mind I didn't need the money since I was/am living with low expenses on my savings, but they offered free access to a &quot;portuguese mentorship network&quot;. Mentorship that I knew that I could not afford and could not survive without. After answering their questions in a 22 page report I waited 5 months and got the response.</p>\n<p>They liked the idea and decided to accept the project. I have been living the past 4 months with 690EUR/month from them. This is enough to increase my life style, cover my expenses and still manage to save a bit each month.</p>\n<p>The mentorship has been great. I was not expecting such a high quality work from the mentor that I chose from their huge list of available mentors.</p>\n<p>I have since done the first prototype of the landing page for the graphic design web app <a href=\"https://www.pixnit.com\">https://www.pixnit.com</a> and we have been focusing on applying this work on colors, grids and patterns on the ceramics industry (for a different, but related, product).</p>\n<p>In september I will add a promotional video for the graphic design app and an open demo.</p>\n",
        "permalink": "https://hugodaniel.com/posts/bootstrapping-rain/",
        "slug": "bootstrapping-rain",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Bootstrapping rain",
        "description": "Trying to answer the question \"What are you doing ?\"",
        "updated": null,
        "date": "2017-08-08",
        "year": 2017,
        "month": 8,
        "day": 8,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/bootstrapping-rain/",
        "components": [
          "posts",
          "bootstrapping-rain"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "1-what-am-i-doing",
            "permalink": "https://hugodaniel.com/posts/bootstrapping-rain/#1-what-am-i-doing",
            "title": "1. What am i doing ?",
            "children": []
          },
          {
            "level": 2,
            "id": "2-holistic-approach",
            "permalink": "https://hugodaniel.com/posts/bootstrapping-rain/#2-holistic-approach",
            "title": "2. Holistic approach",
            "children": []
          },
          {
            "level": 2,
            "id": "3-mentor",
            "permalink": "https://hugodaniel.com/posts/bootstrapping-rain/#3-mentor",
            "title": "3. Mentor",
            "children": []
          }
        ],
        "word_count": 895,
        "reading_time": 5,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-03-01-16-palettes-of-fun.md",
        "content": "<ul>\n<li></li>\n</ul>\n<p>Like most of the country in the 80's, Alenquer, the village where I was born, was trying to modernize itself in what can be considered an insurgence against its rural past.</p>\n<p>The context of coming out from a strong harsh dictatorship and having recently joined the european comunity automatically made everyone who did not work a lazy person. Opportunities were everywhere. In fact this was so intense for the newer generations that working was not enough for them to avoid the &quot;lazy stigma&quot;. You had to explore, experiment, live and enjoy the &quot;new&quot;.</p>\n<p>I was 6 years old when my parents made their after dinner routine visit to a friends house with the usual purpose of drinking and talking about stuff that seemed to matter. What was supposed to be just another day in the company of friends changed my life forever.</p>\n<p><strong>&quot;I have finally bought the computer&quot;</strong>\nhe said, on the corridor table there was a box with a screen and keys to press.</p>\n<p><strong>&quot;It's a schneider&quot;</strong>\nHe turned it on, typed some words on the keys and started a game. The first computer game I saw and got the chance to play.</p>\n<iframe width=\"280\" height=\"157\" src=\"https://www.youtube.com/embed/Q-y8dvsLYJM\" frameborder=\"0\" allowfullscreen></iframe>\n<p>I had lots of questions in my mind after playing it:</p>\n<ul>\n<li>How is it made ?</li>\n<li>How does it move as i press the buttons ?</li>\n<li>How are those colors drawn ?</li>\n<li>How can i do it ?</li>\n<li>Where can i get more of it ?</li>\n</ul>\n<h2 id=\"the-world-is-dangerous\">The world is dangerous</h2>\n<p>Slightly older kids were having a blast with the ZX spectrum.</p>\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/3/33/ZXSpectrum48k.jpg\" alt=\"ZX Spectrum computer\" /></p>\n<p>It became quite famous in Portugal, companies were using it to ease some calculations, kids were pirating cassettes, and there were even local radio stations that used to broadcast entire games through the air (which you could then record in your cassette tape). Electronics done right.</p>\n<p>The speccy sported an impressive 16 color palette (15 actually, the black is repeated).</p>\n<p><img src=\"/images/speccy_palette.png\" alt=\"ZX Spectrum color palette\" /></p>\n<p>Apparently limited, these colors provided no limits to the fertile imagination of teens armed with a programming manual (the ZX Spectrum was sold with <a href=\"http://www.worldofspectrum.org/ZXBasicManual/\">a programming manual</a> included and no ammount of words can be used to explain the social impact this had).</p>\n<p><img src=\"/images/paradise_cafe.png\" alt=\"Paradise Cafe - breaking portuguese cultural and legal concepts in the 80s\" /></p>\n<p>Gravitating towards that tech and gaming oriented crowd made me later aware of a bunch of other computers that were also very important even though they were never famous here.</p>\n<h2 id=\"size-doesn-t-matter\">Size doesn't matter</h2>\n<p>The Amstrad CPC was a direct competitor of the Spectrum, it also had a base of 16 colors but expanded them into 27 in a &quot;high-resolution&quot; mode.</p>\n<p><img src=\"/images/cpc_spectrum.png\" alt=\"Amstrad vs Spectrum\" /></p>\n<p>This was a clear upgrade in comparison to the 16-colors of Spectrum.</p>\n<p><img src=\"/images/strider.png\" alt=\"The game &quot;Strider&quot; in Spectrum(left) and in the Amstrad CPC(right)\" /></p>\n<p>In spite of having more colors this palette shies when put against the mother of all 8-bit computer 16 color palettes:</p>\n<p><img src=\"/images/C64-palette.png\" alt=\"The Commodore 64 color palette\" /></p>\n<p>These 16 colors alone allow for an amazing expression (if you are into it <a href=\"http://unusedino.de/ec64/technical/misc/vic656x/colors/\">here is a detailed article</a> on how to reproduce them in RGB).</p>\n<p><img src=\"/images/c64_cpc.png\" alt=\"C64 on the left, CPC on the right\" /></p>\n<p>A kind soul used both color palettes (C64 and Amstrad CPC) to <a href=\"http://www.indieretronews.com/2016/02/is-c64-palette-far-superior-to-amstrad.html\">produce a set of comparison images</a>, the C64 images are more natural and its grays are better distributed which in turn allows for slightly more complex shadows.</p>\n<p>All these color palettes were made to be reproduced in TV screens from the 80's. Some even take in consideration B&amp;W TV's as full 24bit RGB was still a few years away from commodity hardware.</p>\n<h2 id=\"nowadays\">Nowadays</h2>\n<p>Fast-forwarding for today, a <a href=\"http://pixeljoint.com/forum/forum_posts.asp?TID=12795\">niche of people are still using 16 color palettes</a> and searching for possible combinations of colors that maximize expression. Most of these are related to &quot;pixel art&quot; communities and other minimalist art movements.</p>\n<p>Truth is that there is a natural feeling in using colors in sets of 16 related elements. It gives you, the artist, a lot of paths to explore but not many enough to degrade the exploration experience into frustration.</p>\n<p>As a final exercise I'll leave three different loader screens for the same game. Try to see if you can guess which 8-bit computer is which.</p>\n<p><img src=\"/images/palette1.png\" alt=\"\" />\n<img src=\"/images/palette2.png\" alt=\"\" />\n<img src=\"/images/palette3.png\" alt=\"\" /></p>\n",
        "permalink": "https://hugodaniel.com/posts/16-palettes-of-fun/",
        "slug": "16-palettes-of-fun",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Palettes 0xF Fun",
        "description": "Overview and comparison of different 8-bit computer color palettes (NSFW)",
        "updated": null,
        "date": "2017-03-01",
        "year": 2017,
        "month": 3,
        "day": 1,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/16-palettes-of-fun/",
        "components": [
          "posts",
          "16-palettes-of-fun"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "the-world-is-dangerous",
            "permalink": "https://hugodaniel.com/posts/16-palettes-of-fun/#the-world-is-dangerous",
            "title": "The world is dangerous",
            "children": []
          },
          {
            "level": 2,
            "id": "size-doesn-t-matter",
            "permalink": "https://hugodaniel.com/posts/16-palettes-of-fun/#size-doesn-t-matter",
            "title": "Size doesn't matter",
            "children": []
          },
          {
            "level": 2,
            "id": "nowadays",
            "permalink": "https://hugodaniel.com/posts/16-palettes-of-fun/#nowadays",
            "title": "Nowadays",
            "children": []
          }
        ],
        "word_count": 774,
        "reading_time": 4,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2017-01-18-surfing-2017.md",
        "content": "<p>2016 was a year of change. I stopped working full-time as a programmer and decided to dedicate some of that time to personal projects. I made plans.\nDuring the course of the year most of those plans got changed, a lot. My intention was to build &quot;paint.pt&quot;, a online painting tool, while supporting myself with some savings and with the money i could make by training people in programming skills.</p>\n<p>I took teacher training and got a teacher certificate with the highest possible grade as i was full time on it.\nThen got a few schools contacts that needed trainers for specific modules of some courses.</p>\n<p>That was when I collided head-on with the portuguese reality of a fragile economy. I knew jobs were better here for programmers than for most other professions, so i was already somewhat mentally prepared to embrace a harsh reality.</p>\n<h2 id=\"i-ll-pay-you-next-week\">&quot;I'll pay you next week&quot;</h2>\n<p>After a few courses money didn't came. Excuses started to pile. It took a few months until the first bit of money appeared.</p>\n<p>I ran to seek advice in a multitude of older, wiser people. What should i do ?</p>\n<p><em>&quot;Hugo all of this is normal, you have to understand that most companies are struggling economically.&quot;</em></p>\n<p><em>&quot;In portugal companies are trying to stay above water.&quot;</em></p>\n<p><em>&quot;Don't expect to be paid before 6 months.&quot;</em></p>\n<p>I did try to extend my good will to parties that hire with the expectation of paying as late as possible.\nThe result of it was the realisation that ~10EUR/hour isn't enough for the time spent preparing the course, giving it and managing the debt until the employer decided to pay.</p>\n<p>Time has come to scratch the initial plan and start fresh with a new strategy for 2017.</p>\n<h2 id=\"change-of-name-change-of-plans\">Change of name, change of plans</h2>\n<blockquote>\n<p><em>&quot;What are you working on ?&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;A painting application&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;Cool, whats it called ?&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;paint.pt as in paint point&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;That already exists&quot;</em></p>\n</blockquote>\n<p>A new name for the project was needed, and that is how Pixnit showed up. Pixnit a simple name that reads as &quot;pixel knit&quot; which is exactly what i want the tool to do.</p>\n<p>I believe that people want to use custom shapes to create beautiful patterns and logos so that they can express themselves better and enhance current works, and that they will find value in it because trying to create logos, icons and patterns by using traditional software is hard and takes forever. </p>\n<p>The domain was registered (pixnit.com) just in time for a complete change in strategy:</p>\n<ol>\n<li>Take 1h each day to write in the blog;</li>\n<li>Don't work on anything else besides it and pixnit;</li>\n<li>Push to release self contained small parts of pixnit as soon as possible;</li>\n<li>Create a patreon;</li>\n<li>Create a landing page;</li>\n<li>Talk to people;</li>\n</ol>\n<p>Lets see where this goes. So no more trainings, no more certifications, no more noise. Just pixnit.</p>\n",
        "permalink": "https://hugodaniel.com/posts/surfing-2017/",
        "slug": "surfing-2017",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "A new name to surf 2017",
        "description": "A quick look into 2016 and some thoughts over 2017",
        "updated": null,
        "date": "2017-01-18",
        "year": 2017,
        "month": 1,
        "day": 18,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/surfing-2017/",
        "components": [
          "posts",
          "surfing-2017"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "i-ll-pay-you-next-week",
            "permalink": "https://hugodaniel.com/posts/surfing-2017/#i-ll-pay-you-next-week",
            "title": "\"I'll pay you next week\"",
            "children": []
          },
          {
            "level": 2,
            "id": "change-of-name-change-of-plans",
            "permalink": "https://hugodaniel.com/posts/surfing-2017/#change-of-name-change-of-plans",
            "title": "Change of name, change of plans",
            "children": []
          }
        ],
        "word_count": 482,
        "reading_time": 3,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-09-23-how-fast-is-nothing.md",
        "content": "<p>One of the fastest functions that can be run inside <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\">requestAnimationFrame</a> goes something like this:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">\nfunction fastest() {\n  window.requestAnimationFrame(fastest);\n}\nwindow.requestAnimationFrame(fastest);\n\n</span></code></pre>\n<p>A simple no-op. It does nothing besides requesting to be called in another frame in order to do nothing besides requesting to be called in another frame, and so on.\nA request for nothing that hopefully matches the speed of your monitor v-sync to hastily do just nothing.</p>\n<p>Which gives us the perfect chance to use the most important skill we have in our life.</p>\n<h2 id=\"giving-meaning-to-nothing\">Giving meaning to nothing</h2>\n<p>Measuring the function can be done by <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance/mark\">placing marks</a> and then collecting them with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance/measure\">performance.measure() function</a>. To avoid placing a mark every frame lets also count them and place it only once every 120 frames. My monitor updates at about 60Hz so this should place a mark every 2 seconds.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">let count = 0;\n// ^ count each frame\nfunction fastest() {\n  window.requestAnimationFrame(fastest);\n  count += 1;\n  if(count === 120) {\n    performance.mark(&quot;120&quot;);\n    // ^ place a mark in the 120th\n }\n}\nperformance.mark(&quot;0&quot;);\n// ^ place a mark before the first frame\nwindow.requestAnimationFrame(fastest);\nwindow.setTimeout(function() {\n  // measure the duration between those two marks;\n  performance.measure(&quot;120frames&quot;, &quot;0&quot;, &quot;120&quot;);\n  const measure = performance.getEntriesByType(&quot;measure&quot;)[0];\n  console.log(&quot;120 frames in: &quot; + measure.duration);\n}, 3000);\n\n</span></code></pre>\n<p>At 60fps we get around 16.7ms per frame, 120 frames should run in ~2000ms. Yet after 3 seconds this code prints &quot;120 frames in: 2148.415&quot; in the console.\nThis is 8% slower, making it closer to 55fps (18.2ms) than to 60fps(16.7ms).</p>\n<p>If you thrive in the eccentricities of speed then those 1.5ms are simply unacceptable, lets try to understand what is happening by opening the &quot;Performance&quot; tab in the developer tools.</p>\n<h2 id=\"the-eyes-are-the-window-of-the-soul-and-all-i-see-is-garbage\">The eyes are the window of the soul. And all i see is garbage.</h2>\n<p><img src=\"/images/measure1.png\" alt=\"Screenshot of the performance monitor of Firefox developer tools, it shows a maximum of 60 frames-per-second, a minimum 5.41 frames-per-second, and an average of 55.85 frames-per-second.\" /></p>\n<p>Those big drops in performance are related to the red dots of the Garbage Collector (from here on, just &quot;GC&quot;). They mark the time where GC woke up and run through the nursery of temporary objects to clean them.</p>\n<p>These GC actions happen at the rate that the code fills the nursery heap with temporary objects. The browser then performs a small cleanup on the nursery heap and checks if some of those temporary objects can be promoted to the tenured heap.</p>\n<p>The Tenured heap fills at a much lower rate than the Nursery and consequently the browser does not check it as often as the Nursery.</p>\n<p>Lets try to promote all our short lived objects into something that might be selected to be tenured by the browser, thus reducing the time that the GC spends analyzing our running code and the nursery heap.</p>\n<h2 id=\"the-execution-context-is-dead-long-live-the-execution-context\">The execution context is dead. Long live the execution context!</h2>\n<p>My first approach is to remove the first invocation to the requestAnimationFrame() and place it inside a global closure in <a href=\"https://en.wikipedia.org/wiki/Immediately-invoked_function_expression\">IIFE</a> style.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">let count = 0;\n(function() {\n  function fastest() {\n    window.requestAnimationFrame(fastest);\n    count += 1;\n    if(count === 120) {\n      performance.mark(&quot;120&quot;);\n    }\n  }\n  performance.mark(&quot;0&quot;);\n  fastest();\n  // ^ call the function directly for the first frame\n})();\n// ^ IIFE\n</span></code></pre>\n<p>The idea here is to make the reference to the fastest() function explicitly last for the whole execution of the animation loop by wrapping it in a closure context that is immediatly called.</p>\n<p>The next step is to remove all obvious objects allocations that happen inside our loop.\nThis means we need to remove all the strings (&quot;120&quot; is an object allocation) and all the numbers.</p>\n<p>One of the great things about closures is that their execution context is available in their children, this means we can place the strings and numbers of our loop in vars in the long-lived closure context instead, making them live between our loop function calls.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">(function () {\n  let count = 0;\n  const limit = 120;\n  const lastMark = &quot;120&quot;;\n  const firstMark = &quot;0&quot;;\n  // ^ all vars go here\n  function fastest() {\n    window.requestAnimationFrame(fastest);\n    count += 1;\n    if(count === limit) {\n      performance.mark(lastMark);\n    }\n  }\n  // ^ when the fastest() context finishes there\n  // are no obvious object allocations to free\n  performance.mark(firstMark);\n  fastest();\n})();\n// setTimeout remains the same, this is just for performance measure\nwindow.setTimeout(function() {\n  performance.measure(&quot;120frames&quot;, &quot;0&quot;, &quot;120&quot;);\n  const totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;\n  console.log(&quot;120 frames in: &quot; + totalTime);\n}, 3000);\n</span></code></pre><h2 id=\"a-speed-freak-nighmare-is-a-control-junkie-best-dream\">A speed-freak nighmare is a control-junkie best dream</h2>\n<p>That code above produces the string &quot;120 frames in: 1990.69&quot;. This is great, it says that our measures were taken before the 16.7ms frame time has passed.</p>\n<p>Lets look at the performance tab:</p>\n<p><img src=\"/images/measure2.png\" alt=\"Screenshot of the performance monitor of Firefox developer tools, it shows a maximum of 60 frames-per-second, a minimum 38.98 frames-per-second, and an average of 57.66 frames-per-second.\" /></p>\n<p>Note that the Nursery is completely gone from our call-stack. There are still some red dots that mostly refer to the Cycle Collector (from here on, just &quot;CC&quot;) taking control of the code.</p>\n<p>The CC does a simple job: it tracks cycles in the code.</p>\n<p>A cycle happens when objects refer to each other in a way that their reference count never becomes zero. This can trick the GC to never collect them and forces the need to have a cycle counter running through the code once in a while.</p>\n<p>The CC is a tricky beast, it does not allow anything else to run while it is running. Our JavaScript stops executing (you can validate this by increasing the zoom on the developer tools waterfall when a CC action occurs).</p>\n<p>Fortunately this is not hurting the performance that much and each frame gets rendered bellow their time by the browser. I was starting to have some chills with the idea of having to frame limit the render loop to ensure a constant frame rate.</p>\n<p>Thankfully this Intel HD3000 is still good for Nothing at all :)</p>\n<p><img src=\"/images/intel.png\" alt=\"Screenshot of the chrome://gpu page list of problems. Currently chrome does not support WebGL in Intel HD3000 cards on OSX.\" /></p>\n<p>Thanks <a href=\"https://twitter.com/rqleve\">Raquel Foster</a> for reading this blog and motivating me to write this follow-up on <a href=\"https://hugodaniel.com/posts/react-redux-canvas/\">React-Redux-Canvas</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/how-fast-is-nothing/",
        "slug": "how-fast-is-nothing",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "How fast is nothing at all ?",
        "description": "Running and measuring no-op code in a requestAnimationFrame()",
        "updated": null,
        "date": "2016-09-23",
        "year": 2016,
        "month": 9,
        "day": 23,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/how-fast-is-nothing/",
        "components": [
          "posts",
          "how-fast-is-nothing"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "giving-meaning-to-nothing",
            "permalink": "https://hugodaniel.com/posts/how-fast-is-nothing/#giving-meaning-to-nothing",
            "title": "Giving meaning to nothing",
            "children": []
          },
          {
            "level": 2,
            "id": "the-eyes-are-the-window-of-the-soul-and-all-i-see-is-garbage",
            "permalink": "https://hugodaniel.com/posts/how-fast-is-nothing/#the-eyes-are-the-window-of-the-soul-and-all-i-see-is-garbage",
            "title": "The eyes are the window of the soul. And all i see is garbage.",
            "children": []
          },
          {
            "level": 2,
            "id": "the-execution-context-is-dead-long-live-the-execution-context",
            "permalink": "https://hugodaniel.com/posts/how-fast-is-nothing/#the-execution-context-is-dead-long-live-the-execution-context",
            "title": "The execution context is dead. Long live the execution context!",
            "children": []
          },
          {
            "level": 2,
            "id": "a-speed-freak-nighmare-is-a-control-junkie-best-dream",
            "permalink": "https://hugodaniel.com/posts/how-fast-is-nothing/#a-speed-freak-nighmare-is-a-control-junkie-best-dream",
            "title": "A speed-freak nighmare is a control-junkie best dream",
            "children": []
          }
        ],
        "word_count": 1057,
        "reading_time": 6,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-08-11-bootstrapping4.md",
        "content": "<p>A lot has happened since the last post on this series. Against all odds the portuguese football team won the Euro2016, their first international cup! Summer also hit us hard shortly after that, heavy migrations towards the south (algarve) and the &quot;fire season&quot; started, consuming the green portions of this rectangular land.</p>\n<p>Amidst all of these events it became clear to me that i needed a backup plan in order to extend my window of development time for the paint.pt project.</p>\n<p>So during the month of July i took a one month course in how to teach and give formation and got a &quot;certification of pedagogical competences&quot; (aka teaching certification). This was a great time, i learned a lot, practiced a lot and read a lot about teaching and group interactions.</p>\n<p>Now i only need to start practicing it in a way that does not harm the time I have to work on paint.pt. Are you in need of some coding lessons ? :)</p>\n<h2 id=\"in-august\">In August</h2>\n<p>August is a very special month in portuguese culture. Nothing happens in august. Everything stops and services work in half speed (which in most cases is a synonym to stop).</p>\n<p>Not me, i'm not a big fan of crowded beaches and hope to take the time to restart coding on paint.pt (that almost stopped during july).</p>\n<p>For this month of August my plan is to finish the menu system and start painting :D. I already finished the <a href=\"http://www.paint.pt\">logo and loading animation</a>. So stay tuned.</p>\n<p>If you enjoy reading this please consider subscribing with your e-mail so we can stay in contact.</p>\n<p>Check out the other &quot;bootstrapping&quot; posts: <a href=\"https://hugodaniel.com/posts/bootstrapping1/\">Bootstrapping 1</a>, <a href=\"https://hugodaniel.com/posts/bootstrapping2/\">Bootstrapping 2</a> and <a href=\"https://hugodaniel.com/posts/bootstrapping3/\">Bootstrapping 3</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/bootstrapping4/",
        "slug": "bootstrapping4",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Bootstrapping - getting some boots to strap",
        "description": "A weekly log of my attempts to bootstrap myself - 4th post",
        "updated": null,
        "date": "2016-08-11",
        "year": 2016,
        "month": 8,
        "day": 11,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/bootstrapping4/",
        "components": [
          "posts",
          "bootstrapping4"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "in-august",
            "permalink": "https://hugodaniel.com/posts/bootstrapping4/#in-august",
            "title": "In August",
            "children": []
          }
        ],
        "word_count": 299,
        "reading_time": 2,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-06-24-bootstrapping3.md",
        "content": "<p>This week was a blast! I took 3 days off and only worked thursday and friday.</p>\n<p>This wasn't entirely on purpose, my intention was not to have real &quot;vacations&quot;, but to enjoy the overall Lisbon party mood. Tuesday was also the first game of the portuguese football team in euro 2016.</p>\n<p>Though i am not a football fan, i do like to watch the portuguese team play with the eventuality of seeing some magical moves by Cristiano Ronaldo.</p>\n<p><img src=\"/images/ronaldo.jpg\" alt=\"Cristiano Ronaldo 2012\" /></p>\n<p>I know by experience that everything stops here in portugal when a big football match is going to happen. This is a strong motivator to go out drink some beers with friends in antecipation for the game.</p>\n<p>It is important to note that a win by the home team is one of the best excuses to party hard. Unfortunately we did not win, it was a tie with Iceland, which meant no after party as a huge victory was expected.</p>\n<p>Still it is better to enjoy the day than to stress with &quot;having something to do&quot;. Let the work be done on more appropriate days.</p>\n<h2 id=\"3rd-week\">3rd Week</h2>\n<p>The two remaining work days i wrote the <a href=\"https://hugodaniel.com/posts/react-redux-canvas/\">introductory post</a> on &quot;<a href=\"https://github.com/HugoDaniel/redux-canvas\">redux-canvas</a> and release it on npm together with a simple usage example.</p>\n<p>This is going to be the basis of the paint application as it allows canvas (which is crippled with side-effects) to be used directly in pure redux actions.</p>\n<p>And it was it. If you enjoy reading this please consider subscribing with your e-mail so we can stay in contact (i will personally send you an e-mail).</p>\n<p>Check out the other &quot;bootstrapping&quot; posts: <a href=\"https://hugodaniel.com/posts/bootstrapping1/\">Bootstrapping 1</a>, <a href=\"https://hugodaniel.com/posts/bootstrapping2/\">Bootstrapping 2</a> and <a href=\"https://hugodaniel.com/posts/bootstrapping4/\">Bootstrapping 4</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/bootstrapping3/",
        "slug": "bootstrapping3",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Bootstrapping - week 3",
        "description": "A weekly log of my attempts to bootstrap myself - 3rd week",
        "updated": null,
        "date": "2016-06-24",
        "year": 2016,
        "month": 6,
        "day": 24,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/bootstrapping3/",
        "components": [
          "posts",
          "bootstrapping3"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "3rd-week",
            "permalink": "https://hugodaniel.com/posts/bootstrapping3/#3rd-week",
            "title": "3rd Week",
            "children": []
          }
        ],
        "word_count": 316,
        "reading_time": 2,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-06-17-react-redux-canvas.md",
        "content": "<p>Painting stuff on a <code>&lt;canvas&gt;</code> is easy, call <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext\">HTMLCanvasElement.getContext()</a> to get the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext</a> and then use its functions to express yourself.</p>\n<p>Doing an animation is also easy, call <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\">window.requestAnimationFrame()</a> to tell the browser that you want to do an animation, and on it use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext</a> to animate as you see fit (tipically clearing the part of the drawing that changed and painting the new version of it).</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">var canvasElem = document.getElementById(&quot;canvas&quot;);\nvar w = window.innerWidth;\nvar h = window.innerHeight;\nvar rectSize = 256;\n// set the canvas size\ncanvasElem.setAttribute(&quot;width&quot;, w);\ncanvasElem.setAttribute(&quot;height&quot;, h);\n// get the context\nvar ctx = canvasElem.getContext(&quot;2d&quot;);\n// the animation loop\nfunction animation(t) {\n  window.requestAnimationFrame(animation);\n  var time = t*0.001;\n  var cost = (Math.cos(time) + 1) / 2;\n  var sint = (Math.sin(time) + 1) / 2;\n  var rc = rectSize*cost;\n  var rs = rectSize*sint;\n  var color = `rgb(${Math.round(cost*255)},\n               ${Math.round(sint*255)},\n               255)`;\n  ctx.fillStyle = color;\n  // a simple rectangle\n  ctx.fillRect(rc, rs, rc, rs);\n  };\nwindow.requestAnimationFrame(animation);\n</span></code></pre><h2 id=\"then-came-react\">Then came React</h2>\n<p><a href=\"https://facebook.github.io/react/\">React</a> lets us use composable components of code and html elements to do our web apps of the future. To keep things running nicely it defines a common lifecycle for each component. The most simple version of it is that it &quot;mounts&quot; the component on the renderer and updates it when input changes.</p>\n<p>The most used React DOM renderer is their official <a href=\"https://www.npmjs.com/package/react-dom\">&quot;react-dom&quot;</a>, it uses minimal stateless virtual DOM elements (called ReactElements) for your components and pushes them to the real DOM when appropriate.</p>\n<p>A common approach of using only <a href=\"https://facebook.github.io/react/\">React</a> to paint on a <code>&lt;canvas&gt;</code> is to render the element and fetch the context when it is mounted. Here is an example of a basic canvas component:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">export default class Canvas extends Component {\n  componentDidMount() {\n    let canvas = findDOMNode(this.refs.canvas),\n        ctx = canvas.getContext(&quot;2d&quot;);\n    this.props.onContext(ctx);\n  }\n  render() {\n    const { width, height } = this.props;\n    const canvasCx = `Canvas ${this.props.className}`;\n    return (\n      &lt;canvas className={canvasCx} ref=&quot;canvas&quot;\n              width={width + &quot;px&quot;} height={height + &quot;px&quot;}\n              style={ { display: &quot;block&quot; } }\n      /&gt;\n    );\n  };\n}\nCanvas.propTypes =\n  { width:     PropTypes.number.isRequired\n  , height:    PropTypes.number.isRequired\n  , onContext: PropTypes.func.isRequired\n  };\n</span></code></pre>\n<p>To increase reusability the context is passed to the parent component where it can be used by its developer sprawling moisture of creative juices.</p>\n<p>Here is an example of a component that draws a simple grid using the Canvas component defined above.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">import React, { Component, PropTypes } from &quot;react&quot;;\nimport { findDOMNode }                 from &quot;react-dom&quot;;\nimport Canvas                          from &quot;./Canvas.jsx&quot;;\n\nexport default class GridCanvas extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = { ctx: null }\n  };\n  _renderGrid() {\n    const { color, lineWidth, squareSize\n          , offsetX, offsetY\n          , width, height\n          } = this.props;\n    const { ctx } = this.state;\n    // adjust for vertical screens:\n    const limit = Math.max(width, height);\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    // draw the horizontal lines\n    for( let y = offsetY % squareSize; y &lt; limit; y += squareSize) {\n      ctx.moveTo(0, y);\n      ctx.lineTo(width, y);\n    }\n    // draw the vertical lines\n    for( var x = offsetX % squareSize; x &lt; limit; x += squareSize) {\n      ctx.moveTo(x, 0);\n      ctx.lineTo(x, height);\n    }\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = color;\n    ctx.stroke();\n    ctx.closePath();\n  }\n  render() {\n    const { width, height, cursor, color } = this.props;\n    const { ctx } = this.state;\n    if( ctx ) {\n      // canvas render commands go here\n      ctx.clearRect(0, 0, width, height);\n      this._renderGrid();\n    }\n    return (\n      &lt;Canvas className={ `GridCanvas ${this.props.className}` }\n              width={width} height={height}\n              onContext={ ctx =&gt; this.setState( { ctx } ) }\n      /&gt;\n    );\n  };\n}\nGridCanvas.propTypes =\n  { color:      PropTypes.string\n  // ^ color for the stroke of the outline of the grid\n  , lineWidth:  PropTypes.number\n  // ^ the width, in pixels, for the grid line\n  , offsetX:    PropTypes.number\n  , offsetY:    PropTypes.number\n  , cursor:     PropTypes.string\n  // ^ the mouse cursor to use when mouse is over the grid\n  , squareSize: PropTypes.number\n  , width:      PropTypes.number.isRequired\n  , height:     PropTypes.number.isRequired\n  };\nGridCanvas.defaultProps =\n  { cursor: &quot;default&quot;\n  };\n</span></code></pre>\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext</a> is kept in the state and then used in render() to clear and draw the shapes. This way the code is run in sync with the <a href=\"https://facebook.github.io/react/docs/component-specs.html\">React DOM flow</a>.</p>\n<p>This works very well if you intend to draw single frame art, however since it is coping with <a href=\"https://facebook.github.io/react/docs/component-specs.html\">React lifecycle flow</a> it might not be the best approach if you intend to have 60fps animations because the <a href=\"https://facebook.github.io/react/index.html\">React</a> logic will be running alongside your context drawing code in those precious 16ms of the frame.</p>\n<p>You can try to optimize your <a href=\"https://facebook.github.io/react/index.html\">React</a> UI with <a href=\"https://facebook.github.io/react/docs/component-specs.html#updating-shouldcomponentupdate\">shouldComponentUpdate</a> and you should. But it is still going to contend when your UI hasn't changed and all you want to do is to update the <code>&lt;canvas&gt;</code> with a master piece of an animation.</p>\n<h2 id=\"react-but-only-partially\">React, but only partially</h2>\n<p>Luckily <a href=\"https://facebook.github.io/react/index.html\">React</a> is not intrusive and <a href=\"https://www.npmjs.com/package/react-dom\">&quot;react-dom&quot;</a> is intended to be used along standard HTML/JS code. This allows developers to only use <a href=\"https://facebook.github.io/react/index.html\">React</a> on certain parts of their website, the aspiring artist can then use it for most of the parts of the app and keep the <code>&lt;canvas&gt;</code> outside of its logic.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&lt;!doctype html&gt;\n&lt;</span><span style=\"color:#bf616a;\">html</span><span style=\"color:#c0c5ce;\">&gt;\n  &lt;</span><span style=\"color:#bf616a;\">head</span><span style=\"color:#c0c5ce;\">&gt; &lt;</span><span style=\"color:#bf616a;\">title</span><span style=\"color:#c0c5ce;\">&gt;React and Canvas&lt;/</span><span style=\"color:#bf616a;\">title</span><span style=\"color:#c0c5ce;\">&gt; &lt;/</span><span style=\"color:#bf616a;\">head</span><span style=\"color:#c0c5ce;\">&gt;\n  &lt;</span><span style=\"color:#bf616a;\">body</span><span style=\"color:#c0c5ce;\">&gt;\n    &lt;</span><span style=\"color:#bf616a;\">div </span><span style=\"color:#8fa1b3;\">id</span><span style=\"color:#c0c5ce;\">=&quot;</span><span style=\"color:#a3be8c;\">react-root</span><span style=\"color:#c0c5ce;\">&quot;&gt;\n      </span><span style=\"color:#65737e;\">&lt;!-- react goes here --&gt;\n    </span><span style=\"color:#c0c5ce;\">&lt;/</span><span style=\"color:#bf616a;\">div</span><span style=\"color:#c0c5ce;\">&gt;\n    &lt;</span><span style=\"color:#bf616a;\">canvas </span><span style=\"color:#8fa1b3;\">id</span><span style=\"color:#c0c5ce;\">=&quot;</span><span style=\"color:#a3be8c;\">animation</span><span style=\"color:#c0c5ce;\">&quot;&gt;&lt;/</span><span style=\"color:#bf616a;\">canvas</span><span style=\"color:#c0c5ce;\">/&gt;\n    &lt;</span><span style=\"color:#bf616a;\">script </span><span style=\"color:#d08770;\">src</span><span style=\"color:#c0c5ce;\">=&quot;</span><span style=\"color:#a3be8c;\">https://fb.me/react-15.0.1.js</span><span style=\"color:#c0c5ce;\">&quot;&gt;&lt;/</span><span style=\"color:#bf616a;\">script</span><span style=\"color:#c0c5ce;\">&gt;\n    &lt;</span><span style=\"color:#bf616a;\">script </span><span style=\"color:#d08770;\">src</span><span style=\"color:#c0c5ce;\">=&quot;</span><span style=\"color:#a3be8c;\">https://fb.me/react-dom-15.0.1.js</span><span style=\"color:#c0c5ce;\">&quot;&gt;&lt;/</span><span style=\"color:#bf616a;\">script</span><span style=\"color:#c0c5ce;\">&gt;\n    &lt;</span><span style=\"color:#bf616a;\">script</span><span style=\"color:#c0c5ce;\">&gt;\n      </span><span style=\"color:#b48ead;\">var </span><span style=\"color:#bf616a;\">animNode </span><span style=\"color:#c0c5ce;\">= document.</span><span style=\"color:#bf616a;\">getElementById</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">animation</span><span style=\"color:#c0c5ce;\">&quot;);\n      </span><span style=\"color:#b48ead;\">var </span><span style=\"color:#bf616a;\">ctx </span><span style=\"color:#c0c5ce;\">= </span><span style=\"color:#bf616a;\">animNode</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">getContext</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">2d</span><span style=\"color:#c0c5ce;\">&quot;);\n      </span><span style=\"color:#b48ead;\">function </span><span style=\"color:#8fa1b3;\">loop</span><span style=\"color:#c0c5ce;\">(t) {\n        window.</span><span style=\"color:#bf616a;\">requestAnimationFrame</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">loop</span><span style=\"color:#c0c5ce;\">);\n        </span><span style=\"color:#65737e;\">// draw something on the canvas\n      </span><span style=\"color:#c0c5ce;\">}\n      window.</span><span style=\"color:#bf616a;\">requestAnimationFrame</span><span style=\"color:#c0c5ce;\">(</span><span style=\"color:#bf616a;\">loop</span><span style=\"color:#c0c5ce;\">);\n      </span><span style=\"color:#65737e;\">// React renders on the &quot;react-root&quot; node\n      </span><span style=\"color:#ebcb8b;\">ReactDOM</span><span style=\"color:#c0c5ce;\">.</span><span style=\"color:#bf616a;\">render</span><span style=\"color:#c0c5ce;\">(&lt;</span><span style=\"color:#bf616a;\">MyApp </span><span style=\"color:#c0c5ce;\">/&gt;, document.</span><span style=\"color:#bf616a;\">getElementById</span><span style=\"color:#c0c5ce;\">(&quot;</span><span style=\"color:#a3be8c;\">react-root</span><span style=\"color:#c0c5ce;\">&quot;));\n    &lt;/</span><span style=\"color:#bf616a;\">script</span><span style=\"color:#c0c5ce;\">&gt;\n  &lt;/</span><span style=\"color:#bf616a;\">body</span><span style=\"color:#c0c5ce;\">&gt;\n&lt;/</span><span style=\"color:#bf616a;\">html</span><span style=\"color:#c0c5ce;\">&gt;\n</span></code></pre>\n<p>All is good if you don't intend to make the <code>&lt;canvas&gt;</code> high-speed animation interact with the <a href=\"https://facebook.github.io/react/index.html\">React</a> part of the code.</p>\n<p>If you want to communicate between the <code>&lt;canvas&gt;</code> and <a href=\"https://facebook.github.io/react/index.html\">React</a> then you will have to adopt some interaction strategy (e.g. passing a callback as a prop; using plain JS events; etc...).</p>\n<p>However if you have been through the trenches, your battle proven developer experience is probably telling you that this is an optimization trade-off that will quickly grow into a pessimization.</p>\n<p>State will most likely start to accumulate outside and inside of both parts as communication starts becoming more intricate and managing it will give you with many scars to heal.</p>\n<h2 id=\"redux-will-make-good-for-all-our-sins\">Redux will make good for all our sins</h2>\n<p><a href=\"http://redux.js.org/\">Redux</a> defines a unidirectional flow of data on your application. It uses a single store to hold the application state and allows it to be updated by a pure function that computes the next state based on the actions dispatched by the app. They call the pure function a &quot;reducer&quot; and you can have as many of them in your app as you want.</p>\n<p>This is within the spirit of pure components: something that always produces the same output if fed with the same input. When used with <a href=\"https://facebook.github.io/react/index.html\">React</a> it opens the door to simpler optimized components with predictable state.</p>\n<p>Unfortunately the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext</a> is not pure, its functions rely on a bunch of inner state that can change outside of their scope. This makes it hard to master and to manage (on the other side it has sprawled a counteless number of JS libs to work with it).</p>\n<p>It also makes it difficult to integrate with <a href=\"http://redux.js.org/\">Redux</a> which by design expects pure actions and state. It is useless to keep the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext</a> in the store and update it with a reducer because its drawing functions will change it outside the pure flow of <a href=\"http://redux.js.org/\">Redux</a> actions.</p>\n<p>To make things a bit worse, high-performance canvas applications <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas\">are encouraged</a> to follow a set of destructive/impure practices which are hard to follow if using React/Redux.</p>\n<h2 id=\"introducing-redux-canvas\">Introducing <a href=\"https://github.com/HugoDaniel/redux-canvas\">redux-canvas</a></h2>\n<p>What if along with the <a href=\"http://redux.js.org/\">Redux</a> actions that update an app pure state we could issue painting actions to be performed in the impure canvas context ?</p>\n<p>This is what <a href=\"https://github.com/HugoDaniel/redux-canvas\">redux-canvas</a> is meant to do. It allows you to keep your UI running purely with well defined components and their respective lifecycles, while giving you a shortcut to call functions on registered canvas contexts.</p>\n<p>It is a <a href=\"http://redux.js.org/\">Redux</a> middleware that works by keeping a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\">Map()</a> of <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext</a>'s that persist between redux actions, and then it passes the Map() to the functions you specify when dispatching the action.\nThese functions are called within a requestAnimationFrame().</p>\n<p>This way your impure code will be playing together with the pure code without messing with it. You can keep your UI pure while playing with canvas as you see fit (perhaps even trying to keep it pure as well).</p>\n<p>In the next post I will write some usage examples with animations and also create a few helper functions to ease the usage of <a href=\"https://github.com/HugoDaniel/redux-canvas\">redux-canvas</a>.</p>\n<p>Meanwhile checkout my take on <a href=\"https://hugodaniel.com/posts/mastering-console-log/\">console.log()</a>, a quick look into <a href=\"https://hugodaniel.com/posts/in-loving-memory-of-immutable/\">ImmutableJS</a> and my performance measurements on <a href=\"https://hugodaniel.com/posts/how-useful-is-the-javascript-set/\">JavaScript Set</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/react-redux-canvas/",
        "slug": "react-redux-canvas",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "React - Redux - Canvas",
        "description": "Three approaches on drawing on the canvas with React and Redux",
        "updated": null,
        "date": "2016-06-17",
        "year": 2016,
        "month": 6,
        "day": 17,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/react-redux-canvas/",
        "components": [
          "posts",
          "react-redux-canvas"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "then-came-react",
            "permalink": "https://hugodaniel.com/posts/react-redux-canvas/#then-came-react",
            "title": "Then came React",
            "children": []
          },
          {
            "level": 2,
            "id": "react-but-only-partially",
            "permalink": "https://hugodaniel.com/posts/react-redux-canvas/#react-but-only-partially",
            "title": "React, but only partially",
            "children": []
          },
          {
            "level": 2,
            "id": "redux-will-make-good-for-all-our-sins",
            "permalink": "https://hugodaniel.com/posts/react-redux-canvas/#redux-will-make-good-for-all-our-sins",
            "title": "Redux will make good for all our sins",
            "children": []
          },
          {
            "level": 2,
            "id": "introducing-redux-canvas",
            "permalink": "https://hugodaniel.com/posts/react-redux-canvas/#introducing-redux-canvas",
            "title": "Introducing redux-canvas",
            "children": []
          }
        ],
        "word_count": 1551,
        "reading_time": 8,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-06-16-bootstrapping2.md",
        "content": "<p>Lisbon is in party, this year the anual city holiday is happening in sync with a national holiday.</p>\n<p>This means the common Lisbon worker will get 4 days of paid holiday for free :)</p>\n<p>The Lisbon party actually lasts for 2 whole weeks, where you can dance and sing a blend of new-age cheesy pop music. Most of the fun happens during the night.</p>\n<p>In order to carry 3 extra days of holidays for the next week (this way i would be able to recover from sunday night) i decided to work for 7 days on my 2nd week (through the weekend).</p>\n<p><img src=\"/images/sardinha.jpg\" alt=\"Lisbon party sardine 2016\" title=\"Uma sardinha das que se comem com os olhos\" /></p>\n<h2 id=\"2nd-week\">2nd Week</h2>\n<p>In the beginning of the week i opened a <a href=\"https://github.com/paintpoint/paintpt/issues/2\">ticket</a> to render a simple square grid on the canvas. This was supposed to be a simple task but it took me a bit to complete.</p>\n<p>What would be a good way to render to canvas using react/redux ?</p>\n<p>What would be a good data type for the paint app ?</p>\n<p>How would it interact with the canvas and the react/redux logic ?</p>\n<p>These questions made me start a new sub-project that i named &quot;<a href=\"https://github.com/HugoDaniel/redux-canvas\">redux-canvas</a>&quot;. It is yet another way to draw on the canvas using react/redux.</p>\n<p>By the end of the week (sunday, 12) i did not yet had it finished or published, but stay tuned (subscribe please) because a more thorough blog post about all of this is on the way.</p>\n<p>Don't forget to subscribe and checkout the other &quot;bootstrapping&quot; posts: <a href=\"https://hugodaniel.com/posts/bootstrapping1/\">Bootstrapping 1</a>, <a href=\"https://hugodaniel.com/posts/bootstrapping3/\">Boostrapping 3</a> and <a href=\"https://hugodaniel.com/posts/bootstrapping4/\">Bootstrapping 4</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/bootstrapping2/",
        "slug": "bootstrapping2",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Bootstrapping - week 2",
        "description": "A weekly log of my attempts to bootstrap myself - 2nd week",
        "updated": null,
        "date": "2016-06-16",
        "year": 2016,
        "month": 6,
        "day": 16,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/bootstrapping2/",
        "components": [
          "posts",
          "bootstrapping2"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "2nd-week",
            "permalink": "https://hugodaniel.com/posts/bootstrapping2/#2nd-week",
            "title": "2nd Week",
            "children": []
          }
        ],
        "word_count": 299,
        "reading_time": 2,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-06-06-bootstrapping1.md",
        "content": "<p>Two months have passed since i quit my job with the plan of taking some time to develop a few ideas that have outgrown me enough to earn the respect of a full-time dedication.</p>\n<p>This &quot;Bootstrapping&quot; post is the first in a series of posts about a quest to a sustainable monthly income.</p>\n<p>To start i am going to do a painting web application. A simple web app to paint points in a canvas. I call it &quot;paint.pt&quot;.</p>\n<h2 id=\"1st-week\">1st Week</h2>\n<p>The week went about fine, in the first days i learned a bit more about JavaScript in order to understand if a framework would be necessary for paint.pt.</p>\n<p>After some thinking, a bit of research and some rough implementations of what i thought would be the corner cases of it, i decided to pass the oportunity to use pure JavaScript and use react instead.</p>\n<p>By the time of this writing i am living in the year 2016. That means the rest of the week was spent configuring a react/redux/immutable/webpack/mocha/selenium/babel/flow/eslint boilerplate repository for it.</p>\n<p>By the end of the week i realized that the sun was shining outside and so i went for a walk in Lisbon to read a few chapters of the git book.</p>\n<p>That was it.</p>\n<p>Check out the other &quot;bootstrapping&quot; posts: <a href=\"https://hugodaniel.com/posts/bootstrapping2/\">Bootstrapping 2</a>, <a href=\"https://hugodaniel.com/posts/bootstrapping3/\">Bootstrapping 3</a> and <a href=\"https://hugodaniel.com/posts/bootstrapping4/\">Bootstrapping 4</a>.</p>\n",
        "permalink": "https://hugodaniel.com/posts/bootstrapping1/",
        "slug": "bootstrapping1",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "Bootstrapping - week 1",
        "description": "A weekly log of my attempts to bootstrap myself",
        "updated": null,
        "date": "2016-06-06",
        "year": 2016,
        "month": 6,
        "day": 6,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/bootstrapping1/",
        "components": [
          "posts",
          "bootstrapping1"
        ],
        "summary": null,
        "toc": [
          {
            "level": 2,
            "id": "1st-week",
            "permalink": "https://hugodaniel.com/posts/bootstrapping1/#1st-week",
            "title": "1st Week",
            "children": []
          }
        ],
        "word_count": 248,
        "reading_time": 2,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      },
      {
        "relative_path": "posts/2016-04-09-about.md",
        "content": "<p>Hi, I am Hugo, from the ancient end of the world.</p>\n<p>Nowdays it is still the end of the world but everybody just calls it Portugal.</p>\n<p>I was born in Alenquer, a village near Lisbon.</p>\n<p>I love poetry and most likely this blog will turn to be a poetry blog about my ramblings.</p>\n<p>I also like photography and I tend to avoid the fact that I am a terrible photographer.</p>\n<p>But unfortunately I spend all my days programming, something that I love and hate at the same time.</p>\n<img class=\"image\" src=\"/images/alenquer.jpg\" alt=\"Imagem de alenquer a preto e branco\" />\n<p><a href=\"https://cenasdohugo.blogspot.com\">poesia</a>\n<a href=\"https://www.github.com/HugoDaniel\">github</a>\n<a href=\"https://www.twitter.com/mr_hugo\">twitter</a>\n<a href=\"http://www.hugodaniel.pt/atom.xml\">rss</a>\ne-mail: mail [[at]] hugodaniel.pt</p>\n",
        "permalink": "https://hugodaniel.com/posts/about/",
        "slug": "about",
        "ancestors": [
          "_index.md",
          "posts/_index.md"
        ],
        "title": "about me",
        "description": "Some basic info about me",
        "updated": null,
        "date": "2016-04-09",
        "year": 2016,
        "month": 4,
        "day": 9,
        "taxonomies": {},
        "extra": {
          "place": "Lisboa",
          "author": "Hugo Daniel"
        },
        "path": "/posts/about/",
        "components": [
          "posts",
          "about"
        ],
        "summary": null,
        "toc": [],
        "word_count": 122,
        "reading_time": 1,
        "assets": [],
        "draft": false,
        "lang": "en",
        "lighter": null,
        "heavier": null,
        "earlier": null,
        "later": null,
        "translations": []
      }
    ],
    "subsections": [],
    "translations": []
  }
});
		</script>
	</body>
</html>
