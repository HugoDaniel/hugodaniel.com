<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
			<meta name="description" content="Working with the developer tools most used console function">
		
		<link rel="stylesheet" href="https:&#x2F;&#x2F;hugodaniel.pt&#x2F;css&#x2F;base.css">
		
			<link rel="alternate" type="application/rss+xml" title="RSS" href="https:&#x2F;&#x2F;hugodaniel.pt&#x2F;rss.xml">
		
		
		
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@mr_hugo">
		<meta name="twitter:creator" content="@mr_hugo">
		
			<title>Mastering console.log()</title>
			<meta name="twitter:title" content="Mastering console.log()">
			<meta property="og:title" content="Mastering console.log()">
			<meta property="og:type" content="article" >
		
		
			<meta name="twitter:description" content="Working with the developer tools most used console function">
			<meta property="og:description" content="Working with the developer tools most used console function">
		
		
			<meta property="og:article:published_time" content="2017-08-11">
		
		<meta property="og:url" content="https:&#x2F;&#x2F;hugodaniel.pt&#x2F;posts&#x2F;mastering-console-log&#x2F;">
		
		<!-- Matomo -->
		<script type="text/javascript">
			var _paq = window._paq = window._paq || [];
			/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
			_paq.push(['trackPageView']);
			_paq.push(['enableLinkTracking']);
			(function() {
				var u="//vistas.hugodaniel.pt/";
				_paq.push(['setTrackerUrl', u+'matomo.php']);
				_paq.push(['setSiteId', '2']);
				var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
				g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
			})();
		</script>
		<noscript><p><img src="//vistas.hugodaniel.pt/matomo.php?idsite=2&amp;rec=1" style="border:0;" alt="" /></p></noscript>
		<!-- End Matomo Code -->
	</head>
	<body>
		
<main role="main"> 
	<article>
		<header>
			<h1> Mastering console.log() </h1>
			<p> Working with the developer tools most used console function </p>
			<nav>
				<time datetime="2017-08-11">11-Aug-2017</time>
				<span>
					<a id="back" href="/">About me</a>
					<a target="_blank" href="http://www.twitter.com/mr_hugo" rel="external nofollow">@mr_hugo</a>
					<a href="/posts">All posts</a>
				</span>
			</nav>
		</header>
		<p>Using <code>console.log()</code> to debug JavaScript, a dynamic weakly-typed interpreted language, feels like drinking beers on a lazy summer sunday afternoon.</p>
<p>It is easy and you do it without thinking too much on how you could probably be more productive doing something else.</p>
<p>Truth is that in all the other days of the week you don't avoid spraying your code with the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger"><code>debugger</code></a> keyword and let the developer tools stop and show you the execution context at that exact location.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">function yourCodeThatCouldBeWorking() {
  const x = 1337;
  const y = parseInt(window.prompt(&#39;Y value:&#39;));
  debugger; // &lt;- hello
  return (x / y);
}

</span></code></pre>
<p>But lazy summer sunday afternoons are on to get us, and <code>console.log()</code> is our friend for the mood.</p>
<h2 id="console-log-basic-mode">console.log() basic mode</h2>
<p>The most basic usage of <code>console.log</code> is to just pass it a string. You can step this up a bit by following the string with JS objects and/or strings. Like this:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">const v1 = { x: 123, y: 321 };
console.log(&quot;Vector v1: (&quot;, v1.x, &quot;,&quot;, v1.y, &quot;)&quot;);
// or just:
console.log(&quot;Vector v1:&quot;, v1);
</span></code></pre>
<p>Try it in your developer tools console (Ctrl Shift i, or in mac Cmd Shift i).</p>
<p>This is a particularly simple and helpful way to properly debug JavaScript. Specially if your code is creating code or functions in runtime, making it hard to setup breakpoints in the debugger window.</p>
<p>But who needs breakpoints when we have <code>console.log</code> ? :)</p>
<h2 id="colorful-console-log-composer-mode">Colorful console.log() composer mode</h2>
<p>Besides its simplicity, my next favourite thing in <code>console.log</code> is that it also allows you to pass a format string to be replaced with what you want:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">const v1 = { x: 123, y: 321 };
console.log(&quot;v1 (%i, %i)&quot;, v1.x, v1.y);
</span></code></pre>
<p>There are a handful of other <a href="https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions">string substitutions</a> you can use.</p>
<p>While apparently this is not a big improvement over the simplest mode, it can be used to do a few things that would not be so easy otherwise.</p>
<p><strong>Colors in console.log</strong></p>
<p>You can style your output with CSS through the %c substitution:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">const v1 = { x: 123, y: 321 };
console.log( &quot;%c[Vector 1] %c(%i, %i)%c\nin object %o&quot;
           , &quot;background: #242; color: #bada55&quot;
           , &quot;background: #424; color: #c0ffee&quot;
           , v1.x, v1.y
           , &quot;&quot; //&lt;- clears style
           , v1
           );
</span></code></pre>
<p><strong>Dynamically create your output</strong></p>
<p>You can also compose the log format string with code and pass it the args as needed.
Suppose you are logging messages that can have a varying number of attributes:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">const someMsg =
  { type: &quot;WORKER_ERROR&quot;
  , action: &quot;division&quot;
  , args: [123, 0]
  };

function logMessage(msg) {
  let logFmt = &quot;%c[%s]%c - %c%s%c&quot;;
  let logArgs =
    [ &quot;background: #242; color: #bada55&quot;
    , msg.type
    , &quot;&quot;
    , &quot;background: #424; color: #c0ffee&quot;
    , msg.action
    , &quot;&quot;
    ];
  if (msg.action === &quot;division&quot;) {
    logFmt += &quot;: %i / %i&quot;;
    logArgs.push(msg.args[0]);
    logArgs.push(msg.args[1]);
  } else {
    logFmt += &quot; with args %o&quot;;
    logArgs.push(msg.args);
  }
  // finally print it:
  console.log(logFmt, ...logArgs);
}

logMessage(someMsg);
</span></code></pre><h2 id="measuring-console-log">Measuring console.log()</h2>
<p>Another thing to keep in mind when using <code>console.log</code> is that it is not free. It does come with a performance hit, how much exactly ? Lets measure it like we did for <a href="https://hugodaniel.pt/posts/how-fast-is-nothing/">requestAnimationFrame()</a>:</p>
<p>For this test I am going to print just 32 simple console.log messages. I know that this is not a lot, it actually is nothing when compared to using console.log on mousemove events or any other fast firing event, but it should be enough to test.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">performance.mark(&quot;Before&quot;);
// print 32 lines
for(let i = 0; i &lt; 32; i++)
  console.log(&quot;One of the simplest console.log() possible&quot;, i);
performance.mark(&quot;After&quot;);
performance.measure(&quot;console.log&quot;, &quot;Before&quot;, &quot;After&quot;);
const totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;
console.log(&quot;console.log() in %ims&quot;, totalTime);
performance.clearMarks();
performance.clearMeasures();
</span></code></pre>
<p>In my Firefox Developer Edition (56.0b1) console it prints</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&quot;console.log() in 15ms&quot;
</span></code></pre>
<p>15 milliseconds is <em>a lot</em> of time in a computer perspective, specially since we are just printing 32 messages, it is about 0.45ms per message.</p>
<p>To keep it in perspective here is the time it takes to parse a huge 128KB JSON string:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">function jsonParseAndMeasure(jsonStr) {
  performance.mark(&quot;jsonStart&quot;);
  const json = JSON.parse(jsonStr);
  performance.mark(&quot;jsonEnd&quot;);
  performance.measure(&quot;JSON.parse&quot;, &quot;jsonStart&quot;, &quot;jsonEnd&quot;);
  const totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;
  console.log(&quot;JSON.parse in %ims&quot;, totalTime);
  performance.clearMarks();
  performance.clearMeasures();
}

jsonParseAndMeasure(&quot;HUGE JSON STRING HERE&quot;);
</span></code></pre>
<p>For a 128KB JSON string it prints:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&quot;JSON.parse in 0ms&quot;
</span></code></pre>
<p>Hmm... maybe that is not enough, lets increase it to a 2MB JSON string:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&quot;JSON.parse in 0ms&quot;
</span></code></pre>
<p>Ok... what about a 50MB JSON string ?</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&quot;JSON.parse in 17ms&quot;
</span></code></pre>
<p>Thats more like it. About the same time it took console.log to print 32 simple messages. There are a few attenuating factors for this in production, but it is good to keep this in mind when leaving those debugging messages in your production code ;)</p>
<h2 id="buffering-console-log">Buffering console.log()</h2>
<p>There is an alternative if you have your reasons to use <code>console.log</code> in production code: buffering.</p>
<p>Instead of printing each message as it comes, lets place them in an array and dump it in a single <code>console.log</code> call every second or so.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">let buffer = [];
// use a log function instead of directly calling console.log:
function log(str, args) {
  buffer.push({ str, args });
}

function printBuffer() {
  // start by copying the buffer and clearing it
  const buf = buffer.slice(0);
  buffer = [];
  // dump the buffer in a single console.log call
  if (buf.length &gt; 0) {
    let logStr = &quot;&quot;;
    let logArgs = [];
    buf.map(msg =&gt; {
      logStr += &quot;%s, %o\n&quot;;
      logArgs.push(msg.str);
      logArgs.push(msg.args);
    });
    console.log(logStr, ...logArgs);
  }
  setTimeout(printBuffer, 1000); // run every 1000ms
}

printBuffer(); // &lt;- start it
</span></code></pre>
<p>That should save you some performance complaints. I hope it helps :)</p>

	</article>
	<hr>
	<footer>
		<nav>
			<a target="_blank" href="https://github.com/HugoDaniel" rel="external nofollow">GitHub</a>
			<a target="_blank" href="https://twitter.com/mr_hugo" rel="external nofollow">Twitter</a>
			<a target="_blank" href="https://www.linkedin.com/in/mrhugogomes/" rel="external nofollow">LinkedIN</a>
			<a href="mailto:hello@hugodaniel.com">e-mail</a>
		</nav>
	</footer>
</main>


	<!--
		<footer>
			<div>
				<p>Latest project</p>
				<a href="https://gridgenerator.com" target="_blank">Grid Generator</a>
			</div>
			<nav>
				<a target="_blank" href="https://twitter.com/mr_hugo">
					<img src="https:&#x2F;&#x2F;hugodaniel.pt&#x2F;images&#x2F;twitter.svg" alt="Twitter" />
				</a>
				<a target="_blank" href="https://github.com/HugoDaniel">
					<img src="https:&#x2F;&#x2F;hugodaniel.pt&#x2F;images&#x2F;github.svg" alt="GitHub" />
				</a>
				<a target="_blank" href="https://www.linkedin.com/in/mrhugogomes/">
					<img src="https:&#x2F;&#x2F;hugodaniel.pt&#x2F;images&#x2F;linkedin.svg" alt="LinkedIn" />
				</a>
			</nav>
			<div>
				<p>Liked what you read ?</p>
				<a href="mailto:mail@hugodaniel.pt">Say hello :)!</a>
			</div>
		</footer>
	-->
		<script>
			console.log({
  "config": {
    "base_url": "https://hugodaniel.pt",
    "theme": null,
    "title": null,
    "description": null,
    "default_language": "en",
    "languages": [],
    "translations": {},
    "highlight_code": true,
    "highlight_theme": "base16-ocean-dark",
    "generate_feed": true,
    "feed_limit": null,
    "feed_filename": "atom.xml",
    "hard_link_static": false,
    "taxonomies": [],
    "compile_sass": false,
    "minify_html": false,
    "build_search_index": true,
    "ignored_content": [],
    "extra_syntaxes": [],
    "link_checker": {
      "skip_prefixes": [],
      "skip_anchor_prefixes": []
    },
    "slugify": {
      "paths": "on",
      "taxonomies": "on",
      "anchors": "on"
    },
    "search": {
      "include_title": true,
      "include_content": true,
      "truncate_content_length": null,
      "include_description": false
    },
    "extra": {}
  },
  "current_path": "/posts/mastering-console-log/",
  "current_url": "https://hugodaniel.pt/posts/mastering-console-log/",
  "lang": "en",
  "page": {
    "relative_path": "posts/2017-08-11-mastering-console-log.md",
    "content": "<p>Using <code>console.log()</code> to debug JavaScript, a dynamic weakly-typed interpreted language, feels like drinking beers on a lazy summer sunday afternoon.</p>\n<p>It is easy and you do it without thinking too much on how you could probably be more productive doing something else.</p>\n<p>Truth is that in all the other days of the week you don't avoid spraying your code with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger\"><code>debugger</code></a> keyword and let the developer tools stop and show you the execution context at that exact location.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">function yourCodeThatCouldBeWorking() {\n  const x = 1337;\n  const y = parseInt(window.prompt(&#39;Y value:&#39;));\n  debugger; // &lt;- hello\n  return (x / y);\n}\n\n</span></code></pre>\n<p>But lazy summer sunday afternoons are on to get us, and <code>console.log()</code> is our friend for the mood.</p>\n<h2 id=\"console-log-basic-mode\">console.log() basic mode</h2>\n<p>The most basic usage of <code>console.log</code> is to just pass it a string. You can step this up a bit by following the string with JS objects and/or strings. Like this:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const v1 = { x: 123, y: 321 };\nconsole.log(&quot;Vector v1: (&quot;, v1.x, &quot;,&quot;, v1.y, &quot;)&quot;);\n// or just:\nconsole.log(&quot;Vector v1:&quot;, v1);\n</span></code></pre>\n<p>Try it in your developer tools console (Ctrl Shift i, or in mac Cmd Shift i).</p>\n<p>This is a particularly simple and helpful way to properly debug JavaScript. Specially if your code is creating code or functions in runtime, making it hard to setup breakpoints in the debugger window.</p>\n<p>But who needs breakpoints when we have <code>console.log</code> ? :)</p>\n<h2 id=\"colorful-console-log-composer-mode\">Colorful console.log() composer mode</h2>\n<p>Besides its simplicity, my next favourite thing in <code>console.log</code> is that it also allows you to pass a format string to be replaced with what you want:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const v1 = { x: 123, y: 321 };\nconsole.log(&quot;v1 (%i, %i)&quot;, v1.x, v1.y);\n</span></code></pre>\n<p>There are a handful of other <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\">string substitutions</a> you can use.</p>\n<p>While apparently this is not a big improvement over the simplest mode, it can be used to do a few things that would not be so easy otherwise.</p>\n<p><strong>Colors in console.log</strong></p>\n<p>You can style your output with CSS through the %c substitution:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const v1 = { x: 123, y: 321 };\nconsole.log( &quot;%c[Vector 1] %c(%i, %i)%c\\nin object %o&quot;\n           , &quot;background: #242; color: #bada55&quot;\n           , &quot;background: #424; color: #c0ffee&quot;\n           , v1.x, v1.y\n           , &quot;&quot; //&lt;- clears style\n           , v1\n           );\n</span></code></pre>\n<p><strong>Dynamically create your output</strong></p>\n<p>You can also compose the log format string with code and pass it the args as needed.\nSuppose you are logging messages that can have a varying number of attributes:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">const someMsg =\n  { type: &quot;WORKER_ERROR&quot;\n  , action: &quot;division&quot;\n  , args: [123, 0]\n  };\n\nfunction logMessage(msg) {\n  let logFmt = &quot;%c[%s]%c - %c%s%c&quot;;\n  let logArgs =\n    [ &quot;background: #242; color: #bada55&quot;\n    , msg.type\n    , &quot;&quot;\n    , &quot;background: #424; color: #c0ffee&quot;\n    , msg.action\n    , &quot;&quot;\n    ];\n  if (msg.action === &quot;division&quot;) {\n    logFmt += &quot;: %i / %i&quot;;\n    logArgs.push(msg.args[0]);\n    logArgs.push(msg.args[1]);\n  } else {\n    logFmt += &quot; with args %o&quot;;\n    logArgs.push(msg.args);\n  }\n  // finally print it:\n  console.log(logFmt, ...logArgs);\n}\n\nlogMessage(someMsg);\n</span></code></pre><h2 id=\"measuring-console-log\">Measuring console.log()</h2>\n<p>Another thing to keep in mind when using <code>console.log</code> is that it is not free. It does come with a performance hit, how much exactly ? Lets measure it like we did for <a href=\"https://hugodaniel.pt/posts/how-fast-is-nothing/\">requestAnimationFrame()</a>:</p>\n<p>For this test I am going to print just 32 simple console.log messages. I know that this is not a lot, it actually is nothing when compared to using console.log on mousemove events or any other fast firing event, but it should be enough to test.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">performance.mark(&quot;Before&quot;);\n// print 32 lines\nfor(let i = 0; i &lt; 32; i++)\n  console.log(&quot;One of the simplest console.log() possible&quot;, i);\nperformance.mark(&quot;After&quot;);\nperformance.measure(&quot;console.log&quot;, &quot;Before&quot;, &quot;After&quot;);\nconst totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;\nconsole.log(&quot;console.log() in %ims&quot;, totalTime);\nperformance.clearMarks();\nperformance.clearMeasures();\n</span></code></pre>\n<p>In my Firefox Developer Edition (56.0b1) console it prints</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;console.log() in 15ms&quot;\n</span></code></pre>\n<p>15 milliseconds is <em>a lot</em> of time in a computer perspective, specially since we are just printing 32 messages, it is about 0.45ms per message.</p>\n<p>To keep it in perspective here is the time it takes to parse a huge 128KB JSON string:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">function jsonParseAndMeasure(jsonStr) {\n  performance.mark(&quot;jsonStart&quot;);\n  const json = JSON.parse(jsonStr);\n  performance.mark(&quot;jsonEnd&quot;);\n  performance.measure(&quot;JSON.parse&quot;, &quot;jsonStart&quot;, &quot;jsonEnd&quot;);\n  const totalTime = performance.getEntriesByType(&quot;measure&quot;)[0].duration;\n  console.log(&quot;JSON.parse in %ims&quot;, totalTime);\n  performance.clearMarks();\n  performance.clearMeasures();\n}\n\njsonParseAndMeasure(&quot;HUGE JSON STRING HERE&quot;);\n</span></code></pre>\n<p>For a 128KB JSON string it prints:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;JSON.parse in 0ms&quot;\n</span></code></pre>\n<p>Hmm... maybe that is not enough, lets increase it to a 2MB JSON string:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;JSON.parse in 0ms&quot;\n</span></code></pre>\n<p>Ok... what about a 50MB JSON string ?</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">&quot;JSON.parse in 17ms&quot;\n</span></code></pre>\n<p>Thats more like it. About the same time it took console.log to print 32 simple messages. There are a few attenuating factors for this in production, but it is good to keep this in mind when leaving those debugging messages in your production code ;)</p>\n<h2 id=\"buffering-console-log\">Buffering console.log()</h2>\n<p>There is an alternative if you have your reasons to use <code>console.log</code> in production code: buffering.</p>\n<p>Instead of printing each message as it comes, lets place them in an array and dump it in a single <code>console.log</code> call every second or so.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">let buffer = [];\n// use a log function instead of directly calling console.log:\nfunction log(str, args) {\n  buffer.push({ str, args });\n}\n\nfunction printBuffer() {\n  // start by copying the buffer and clearing it\n  const buf = buffer.slice(0);\n  buffer = [];\n  // dump the buffer in a single console.log call\n  if (buf.length &gt; 0) {\n    let logStr = &quot;&quot;;\n    let logArgs = [];\n    buf.map(msg =&gt; {\n      logStr += &quot;%s, %o\\n&quot;;\n      logArgs.push(msg.str);\n      logArgs.push(msg.args);\n    });\n    console.log(logStr, ...logArgs);\n  }\n  setTimeout(printBuffer, 1000); // run every 1000ms\n}\n\nprintBuffer(); // &lt;- start it\n</span></code></pre>\n<p>That should save you some performance complaints. I hope it helps :)</p>\n",
    "permalink": "https://hugodaniel.pt/posts/mastering-console-log/",
    "slug": "mastering-console-log",
    "ancestors": [
      "_index.md",
      "posts/_index.md"
    ],
    "title": "Mastering console.log()",
    "description": "Working with the developer tools most used console function",
    "updated": null,
    "date": "2017-08-11",
    "year": 2017,
    "month": 8,
    "day": 11,
    "taxonomies": {},
    "extra": {
      "place": "Lisboa",
      "author": "Hugo Daniel"
    },
    "path": "/posts/mastering-console-log/",
    "components": [
      "posts",
      "mastering-console-log"
    ],
    "summary": null,
    "toc": [
      {
        "level": 2,
        "id": "console-log-basic-mode",
        "permalink": "https://hugodaniel.pt/posts/mastering-console-log/#console-log-basic-mode",
        "title": "console.log() basic mode",
        "children": []
      },
      {
        "level": 2,
        "id": "colorful-console-log-composer-mode",
        "permalink": "https://hugodaniel.pt/posts/mastering-console-log/#colorful-console-log-composer-mode",
        "title": "Colorful console.log() composer mode",
        "children": []
      },
      {
        "level": 2,
        "id": "measuring-console-log",
        "permalink": "https://hugodaniel.pt/posts/mastering-console-log/#measuring-console-log",
        "title": "Measuring console.log()",
        "children": []
      },
      {
        "level": 2,
        "id": "buffering-console-log",
        "permalink": "https://hugodaniel.pt/posts/mastering-console-log/#buffering-console-log",
        "title": "Buffering console.log()",
        "children": []
      }
    ],
    "word_count": 889,
    "reading_time": 5,
    "assets": [],
    "draft": false,
    "lang": "en",
    "lighter": null,
    "heavier": null,
    "earlier": {
      "relative_path": "posts/2017-08-08-bootstrapping-rain.md",
      "content": "<p>It has passed a year and a couple of months since I started bootstrapping &quot;a painting web app&quot;. A lot has happened since that time, here is a quick TL;DR:</p>\n<ol>\n<li>I am still living off my savings (with a bit of help explained bellow)</li>\n<li>Increase in frequency and amplitude of the emotional roller-coaster highs and lows</li>\n<li>I started learning how to dance <a href=\"https://www.youtube.com/watch?v=fbAbbodH7Dw\">kuduro</a>, <a href=\"https://www.youtube.com/watch?v=1VtDFi4m_PU\">kizomba and semba</a> to cope with 2</li>\n<li>Had some unexpected expenses (teeth problems, car problems, general problems, problems problems, etc...)</li>\n<li>Lots of noise</li>\n</ol>\n<p>Noise that I now take a careful distant look at and collide for you in this blog post by applying three different filters into it.</p>\n<h2 id=\"1-what-am-i-doing\">1. What am i doing ?</h2>\n<p>Many signals exist in the noise, among these the strongest ones imply that I don't have a clue about what I am doing. In life.</p>\n<p>After all this time one of the hardest challenges I still have is explaining to a random person what the project is about. Come to think of it I haven't even done it here, how could I avoid my personal blog ? that blog that I personaly chose to neglect. Wait no further, here it goes.</p>\n<p><strong>&quot;A painting web app&quot;</strong></p>\n<p>This is a really reducing way of explaining what the project is about. Specificity wise I put it right after of <em>&quot;It's a programming project&quot;</em>, or <em>&quot;It's a web page&quot;</em>. It doesn't say much more than these and whenever I use it people stare at me with that awkward face that blends simpathy with honest disapointment.</p>\n<p><strong>Here is how it happened</strong></p>\n<p>Back in the day I grew tired of my (many) wrong choices in life. This was particularly hard for me since I have always been a lover of what is wrong and bad. &quot;Wasting&quot; huge ammounts of time doing code for no reason/purpose at all is not good and certainly not right. Investing years trying to produce CG code worthy of any unknown demoparty and their attendees acids. Realizing that I am not a good coder and still betting my life on the craft. Travelling through deserts only to hope <a href=\"http://www.dailymotion.com/video/x67s70\">nobody sees my attempts at hoping to intoxicate with colors</a>.</p>\n<p>It is 5am.\nAnother cold winter morning in Lisbon enhanced by the summer optimized windows and walls of my 37m^2 home. The rain leaks through the windows and I move the small ikea table enough to protect the laptop from getting wet. I don't know why I am forcing myself to wake up this early, perhaps knowing that the queue to heaven is shorter at this time of the day and that maybe god will allow my body and mind the grace of being numb for the rest of the working day.</p>\n<p>I can see work blowing up somewhere later in the day, I can feel it devouring my brain. I need this time to breathe. The warm coffee smell keeps me awake, its scent rises above all the burn bruises my hands acquired in trying to make it half-awake. Maybe the blessing will rain down on me today.</p>\n<p>I have been reading <a href=\"http://www.redblobgames.com/grids/hexagons/\">this article about hexagonal grids</a> for some time now. <em>Fuck! Why can't I implement it right ? Why is programming so hard for me ?</em> I have been trying to do this for months now. I have no purpose in it besides avoiding the razors in my day.</p>\n<p>Offset coordinates ? Cube coordinates ? <a href=\"https://dribbble.com/search?q=grid\">If I was a designer what would I do ? What would I need ?</a></p>\n<p>Hmm....</p>\n<p><a href=\"https://dribbble.com/shots/1483510-Mystery-Project-50\"><img src=\"/images/mystery_project.jpg\" alt=\"ZX Spectrum color palette\" /></a></p>\n<p>It is 7am, my girlfriend will wake up at some point before 8. It is still dark outside, where did I leave the umbrella ? I go out to buy some hot bread to prepare our breakfast.</p>\n<h2 id=\"2-holistic-approach\">2. Holistic approach</h2>\n<p>Romance is a big part of bootstrapping.</p>\n<h2 id=\"3-mentor\">3. Mentor</h2>\n<p>In November 2016 the struggle to explain what the project is about led me to apply <a href=\"https://www.iapmei.pt/PRODUTOS-E-SERVICOS/Empreendedorismo-Inovacao/Empreendedorismo/Startup-Voucher.aspx\">to a state sponsored funding</a>. In my mind I didn't need the money since I was/am living with low expenses on my savings, but they offered free access to a &quot;portuguese mentorship network&quot;. Mentorship that I knew that I could not afford and could not survive without. After answering their questions in a 22 page report I waited 5 months and got the response.</p>\n<p>They liked the idea and decided to accept the project. I have been living the past 4 months with 690EUR/month from them. This is enough to increase my life style, cover my expenses and still manage to save a bit each month.</p>\n<p>The mentorship has been great. I was not expecting such a high quality work from the mentor that I chose from their huge list of available mentors.</p>\n<p>I have since done the first prototype of the landing page for the graphic design web app <a href=\"https://www.pixnit.com\">https://www.pixnit.com</a> and we have been focusing on applying this work on colors, grids and patterns on the ceramics industry (for a different, but related, product).</p>\n<p>In september I will add a promotional video for the graphic design app and an open demo.</p>\n",
      "permalink": "https://hugodaniel.pt/posts/bootstrapping-rain/",
      "slug": "bootstrapping-rain",
      "ancestors": [
        "_index.md",
        "posts/_index.md"
      ],
      "title": "Bootstrapping rain",
      "description": "Trying to answer the question \"What are you doing ?\"",
      "updated": null,
      "date": "2017-08-08",
      "year": 2017,
      "month": 8,
      "day": 8,
      "taxonomies": {},
      "extra": {
        "place": "Lisboa",
        "author": "Hugo Daniel"
      },
      "path": "/posts/bootstrapping-rain/",
      "components": [
        "posts",
        "bootstrapping-rain"
      ],
      "summary": null,
      "toc": [
        {
          "level": 2,
          "id": "1-what-am-i-doing",
          "permalink": "https://hugodaniel.pt/posts/bootstrapping-rain/#1-what-am-i-doing",
          "title": "1. What am i doing ?",
          "children": []
        },
        {
          "level": 2,
          "id": "2-holistic-approach",
          "permalink": "https://hugodaniel.pt/posts/bootstrapping-rain/#2-holistic-approach",
          "title": "2. Holistic approach",
          "children": []
        },
        {
          "level": 2,
          "id": "3-mentor",
          "permalink": "https://hugodaniel.pt/posts/bootstrapping-rain/#3-mentor",
          "title": "3. Mentor",
          "children": []
        }
      ],
      "word_count": 895,
      "reading_time": 5,
      "assets": [],
      "draft": false,
      "lang": "en",
      "lighter": null,
      "heavier": null,
      "earlier": null,
      "later": null,
      "translations": []
    },
    "later": {
      "relative_path": "posts/2017-08-12-vi-is-not-vim.md",
      "content": "<p>When dinossaurs ruled the earth there was a young kid that had just installed Red Hat Linux 5 on his computer.<br/>\nFascinated with the &quot;OS for the elite&quot; he was about to experience a devouring frustration.\nThe kind that gives rise to dark divinities that come to haunt you in your sleep for years to come:</p>\n<p>Trying to exit vim.</p>\n<p>After a few unsuccessful atempts the computer <em>power switch</em> was the only option left. Like that the dream of a promising carreer in elite-land was shattered for that young boy.</p>\n<p>That young boy was me.</p>\n<h2 id=\"high-tech-editor-low-tech-coder\">High tech editor, low tech coder</h2>\n<p>My stubbornness always took the best part of my reason and vim was my editor for years to come. Since rough starts are the perfect driver for a good love story I then ditched it to take a stroll in netbeans land. <br/>After a while a pardon was due and got back to it again. Then I ditched it again for Visual Studio. <br/>Got back to it again. And so on.</p>\n<p>Code editors today try to do everything and a pair of boots. Even vim, known for its minimalist looks, is very prone to config-pr0n worthy of the most wild and nasty fantasies.</p>\n<h2 id=\"i-ll-show-you-mine-if-you-show-me-yours\">I'll show you mine if you show me yours</h2>\n<p>At one point I got myself in the middle of a config discussion between developers. They were arguing about good .vimrc config options and plugins for vim.</p>\n<p>I decided to participate and show my ~60 lines .vimrc file. They laughed. It was so small. Almost useless.</p>\n<p>That got me thinking:</p>\n<p><strong>What do i <em>really</em> need in a code editor ?</strong></p>\n<p>After giving a hard thought on my usage/preferences and some possible optimizations I took a look into the market of code editors and decided to <strong>upgrade from vim to vi</strong> (by vi I mean <a href=\"http://repo.or.cz/nvi.git\">nvi 1.81.6, still maintained and developed here</a> ).</p>\n<p>The rest of this blog post is about some nvi parts (vi, not vim), in particular some parts that are percieved as limitations. I will run through them and try to provide arguments that favor them and reasons to use them. Have your salt and pepper at hand before reading further.</p>\n<h2 id=\"minimal-config-file-exrc\">Minimal config file (.exrc)</h2>\n<p>The nvi config file is named .exrc, here is my current setup:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">set showmode\nset showmatch\nset ruler\nset shiftwidth=2\nset tabstop=2\nset verbose\nset leftright\nset cedit=\\\nset filec=\\\n</span></code></pre>\n<p>9 lines only. No maintenance. No BS.</p>\n<p>These options are mostly similar to those in .vimrc, a special note for cedit and filec, these have a =\\&lt;TAB&gt; (the &lt;TAB&gt; is the actual tab character there after the \\).\nThe <strong>cedit</strong> property sets the character to trigger command expansion in the vi command colon mode. The <strong>filec</strong> sets the the character for file name expansion (auto-complete) when opening a new file inside vi (e.g. with :e).</p>\n<p>All of these are well documented in the man page.</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">$ man nvi\n</span></code></pre><h2 id=\"no-unicode-support\">No unicode support</h2>\n<p>There are some vi implementations that support multibyte characters like <a href=\"https://github.com/lichray/nvi2\">nvi2</a>. But for this blog post I am assuming your vi is plain <a href=\"https://sites.google.com/a/bostic.com/keithbostic/vi/\">nvi</a>.</p>\n<p>No multibyte, wide-char, wtf-8, extended codepoints. Although those are very important to learn and master I do prefer to keep code in plain strict single-byte ASCII (UTF-8 supersedes it).</p>\n<p><strong>Why ?</strong></p>\n<p>It keeps the language coherent with the programming reserved words (more than logic constructs, <em>while</em>, <em>for</em>, <em>if</em>, are english words).</p>\n<p>It makes it perfectly visible when an accidental wide-char is inserted (particularly helpful if you are using a keyboard layout that does not use the US key-mapping). This is good to make sure your code is available to read on every system, regardless of locale (it even works if someone opens the code you wrote in an editor that is set to default to UTF-8 encoding).</p>\n<p>Another good thing is that it works with a wider variety of fonts. Some monospace terminal fonts can't correctly display all UTF-8 characters.</p>\n<p><strong>But I sometimes need to write documents with strange characters</strong></p>\n<p>That is one of the scenarios where I would use another text editor. nvi is strictly a code/config editor.</p>\n<h2 id=\"no-syntax-highlighting\">No syntax highlighting</h2>\n<p>This is another personal preference. It has been a long time since I had to worry about syntax when producing code. If you still struggle with syntax then please use syntax highlighting, it will help those special words stand out.\nOtherwise why not give it a try without syntax highlighting for a while (a few weeks to be slightly above the habituation threshold) and measure how you perform ?</p>\n<p>It does help to keep your functions small and easy to read.</p>\n<p>Comments are shown with their true weight and your commented code is promoted to the same importance as your production code.</p>\n<p>Your focus will be in semantics and it is easier to get into it without the syntax aggressively jumping at your face.</p>\n<h2 id=\"fast-undo\">Fast undo</h2>\n<p>Like in vim the undo in vi is very convenient but has a slightly different way of operating. Instead of pressing <em>u</em> multiple times to go through the various undo levels and then ctrl-r to redo, in vi you do it by pressing <em>u</em> once to undo and the '<strong>.</strong>' to go through the various undo levels.</p>\n<p>To redo you press <em>u</em> twice (undo the undo) and then '<strong>.</strong>' to go through the multiple redo levels.</p>\n<p>I think this is slightly more coherent and it also makes use of the '<strong>.</strong>' (repeat action) operator in an arguably more logical way.</p>\n<p>Like in vim, you can use the <em>U</em> command to restore a line to the state it was before the cursor was placed on top of it (undoing all the chances since that time).</p>\n<h2 id=\"no-visual-mode\">No visual mode</h2>\n<p>There is no visual mode in vi (visual mode as in pressing the <em>v</em> command and using your movement keys to select an area of text).</p>\n<p>At first this might seem like a big handicap, but vi shares a few commands with vim that once mastered can make you more productive than using the visual mode.</p>\n<p><strong>Marks <em>m&lt;insert letter here&gt;</em></strong></p>\n<p>You can setup marks in text, if you type <em>mx</em> it will define the mark x at the current cursor position. Typically these are used to move quickly through the file and go to certain marked positions. For that the ' command is used followed by the mark character name (moves to the line) or with the ` command (moves to the exact cursor position of the mark). To move to mark x do 'x (assuming you did <em>mx</em> in some place before).</p>\n<p>Marks can also be used with other common commands like yank, delete, etc..., so instead of using the visual mode you can yank or delete to a a mark set at some position.<br/>\nTo do that use the <em>t</em> or <em>f</em> commands, like ytx (I read it as: <em>y</em>ank <em>t</em>o <em>x</em>), it will yank all lines up to (but not including) the line at mark x. To include it use the <em>f</em> as in yfx.</p>\n<h2 id=\"no-tabs\">No tabs</h2>\n<p>Tabs was a feature that I used a lot in vim, unfortunately they only work with vim, so if you want to run a shell command or have a terminal to read compiler output you will need to use them with some other kind of tab system.</p>\n<p>On my journey to the limits of usefulness I found myself using vim tabs together with tmux tabs and terminal (osx) tabs.</p>\n<p>After those crazy days (months ?) I finally decided to ditch all tabs and stick to a single tool for that purpose, one that is versatile enough to cover my use cases for tabs.</p>\n<p><strong>Do one thing and do it well</strong></p>\n<p><a href=\"https://github.com/tmux/tmux/wiki\">Tmux</a> is my current tool of choice, nowadays I don't use terminal tabs or text editor tabs. I leave that work for tmux, an amazing productivity tool that allows me to work fullscreen in zen mode with the code.</p>\n<p><strong>Panes in vi</strong></p>\n<p>Like in vim you can split your window with panes, these are useful to use another section of code as a quick reference or to do some quick yank/past in vi between files/sections.</p>\n<p>The pane system in vi works slightly different from vim. To vertically split the window you can also use the :vs, but to horizontally split the window :sp won't work. In vi the command to horizontally split a window is the :E, as in Edit (the same as :e but horizontally split).</p>\n<p>To switch between panes ctrl-w will immediately move your cursor to the next window pane. Instead of pressing twice like vim you only need to press it once. This is hard to get used to at first but it is also hard to live without once used to it.</p>\n<p><img src=\"/images/nvi_tmux_macos.png\" alt=\"My nvi with tmux on macos\" /></p>\n<h2 id=\"no-macros\">No macros</h2>\n<p>One feature that I consistently used in vim was macros (vim <em>q</em> command). It was easy to create bundles of commands and run them to do your repeated text tasks or grunt work. Very useful when replicating huge data files or setting up a <a href=\"https://hugodaniel.pt/posts/mastering-console-log/\">big JSON test file</a>.</p>\n<p>In vi you can also use the power of macros through buffers.</p>\n<p><strong>Buff it up</strong></p>\n<p>Buffers are easy to use, you can prefix your common text manipulation commands (dd, yy, etc...) to a named buffer. To do that start the command with &quot;&lt;buffer name&gt; where &lt;buffer name&gt; is any letter from a-z.</p>\n<p>Here are some examples:</p>\n<ul>\n<li>\n<p><strong>To delete 4 lines and place them into buffer a</strong> &quot;a4dd</p>\n</li>\n<li>\n<p><strong>To paste buffer <em>a</em> to the current cursor position</strong> &quot;ap</p>\n</li>\n<li>\n<p><strong>To view all your buffers go to ex mode (:) and do</strong> :di b</p>\n</li>\n</ul>\n<p><strong>Who needs macros when you have buffers</strong></p>\n<p>Write a few commands to be executed in your file, place then in a buffer and tell vi that you want to execute the buffer:</p>\n<pre style=\"background-color:#2b303b;\">\n<code><span style=\"color:#c0c5ce;\">2)\n4dd\nG\n</span></code></pre>\n<p>Line by line:</p>\n<ol>\n<li>\n<p>move two lines down</p>\n</li>\n<li>\n<p>delete 4 lines</p>\n</li>\n<li>\n<p>go to the end of the file</p>\n</li>\n</ol>\n<p>Put these into a buffer named <em>c</em> with <i>&quot;c3yy</i> (yank 3 lines into buffer <em>c</em>), and whenever you want to run it just do <em>@ c</em>. Undo <em>u</em> also works nicely with buffered commands.</p>\n<h2 id=\"upgrading-from-vim-to-vi\">Upgrading from vim to vi</h2>\n<p>There are some cool benefits in using vi like how fast it is and how it handles huge files without a problem.</p>\n<p>nvi also performs well in <a href=\"https://github.com/jhallen/joes-sandbox/blob/master/editor-perf/readme.md\">this benchmark of editors</a></p>\n<p>The case for vi is like any other editor: a matter of getting used to it and keep perfecting your skills through it for what it really matters: writting great code.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>Use what you are more confortable with. There are tradeoffs in every editor (even the mighty visual studio code does not allow you to work without syntax highlighting on...) and today nvi fits nicely with my way of working and approach.</p>\n<p>I hope this post to be used as a initial reference and motivation to those that are looking for a more minimalistic way of doing things. I don't intend it to start flame wars.</p>\n<p>You know all of these are just my opinions :)</p>\n",
      "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/",
      "slug": "vi-is-not-vim",
      "ancestors": [
        "_index.md",
        "posts/_index.md"
      ],
      "title": "vi is not vim",
      "description": "A few hints to get started using nvi, a lean and clean terminal based editor",
      "updated": null,
      "date": "2017-08-12",
      "year": 2017,
      "month": 8,
      "day": 12,
      "taxonomies": {},
      "extra": {
        "place": "Lisboa",
        "author": "Hugo Daniel"
      },
      "path": "/posts/vi-is-not-vim/",
      "components": [
        "posts",
        "vi-is-not-vim"
      ],
      "summary": null,
      "toc": [
        {
          "level": 2,
          "id": "high-tech-editor-low-tech-coder",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#high-tech-editor-low-tech-coder",
          "title": "High tech editor, low tech coder",
          "children": []
        },
        {
          "level": 2,
          "id": "i-ll-show-you-mine-if-you-show-me-yours",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#i-ll-show-you-mine-if-you-show-me-yours",
          "title": "I'll show you mine if you show me yours",
          "children": []
        },
        {
          "level": 2,
          "id": "minimal-config-file-exrc",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#minimal-config-file-exrc",
          "title": "Minimal config file (.exrc)",
          "children": []
        },
        {
          "level": 2,
          "id": "no-unicode-support",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#no-unicode-support",
          "title": "No unicode support",
          "children": []
        },
        {
          "level": 2,
          "id": "no-syntax-highlighting",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#no-syntax-highlighting",
          "title": "No syntax highlighting",
          "children": []
        },
        {
          "level": 2,
          "id": "fast-undo",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#fast-undo",
          "title": "Fast undo",
          "children": []
        },
        {
          "level": 2,
          "id": "no-visual-mode",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#no-visual-mode",
          "title": "No visual mode",
          "children": []
        },
        {
          "level": 2,
          "id": "no-tabs",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#no-tabs",
          "title": "No tabs",
          "children": []
        },
        {
          "level": 2,
          "id": "no-macros",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#no-macros",
          "title": "No macros",
          "children": []
        },
        {
          "level": 2,
          "id": "upgrading-from-vim-to-vi",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#upgrading-from-vim-to-vi",
          "title": "Upgrading from vim to vi",
          "children": []
        },
        {
          "level": 2,
          "id": "conclusion",
          "permalink": "https://hugodaniel.pt/posts/vi-is-not-vim/#conclusion",
          "title": "Conclusion",
          "children": []
        }
      ],
      "word_count": 1896,
      "reading_time": 10,
      "assets": [],
      "draft": false,
      "lang": "en",
      "lighter": null,
      "heavier": null,
      "earlier": null,
      "later": null,
      "translations": []
    },
    "translations": []
  }
});
		</script>
	</body>
</html>
