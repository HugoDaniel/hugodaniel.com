<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
			<meta name="description" content="A graphics framework for specialists">
		
		<link rel="stylesheet" href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;css&#x2F;base.css">
		
			<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="https:&#x2F;&#x2F;hugodaniel.com&#x2F;atom.xml">
		
		
		
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@mr_hugo">
		<meta name="twitter:creator" content="@mr_hugo">
		
			<title>Shader Canvas</title>
			<meta name="twitter:title" content="Shader Canvas">
			<meta property="og:title" content="Shader Canvas">
			<meta property="og:type" content="article" >
		
		
			<meta name="twitter:description" content="A graphics framework for specialists">
			<meta property="og:description" content="A graphics framework for specialists">
		
		
			<meta property="og:article:published_time" content="2021-02-16">
		
		<meta property="og:url" content="https:&#x2F;&#x2F;hugodaniel.com&#x2F;projects&#x2F;shader-canvas&#x2F;">
		
			<meta property="og:image" content="https:&#x2F;&#x2F;hugodaniel.com&#x2F;images&#x2F;deno_tag_logo.png" >
			<meta name="twitter:image" content="https:&#x2F;&#x2F;hugodaniel.com&#x2F;images&#x2F;deno_tag_logo.png" >
		
		
		
		<!-- Matomo -->
		<script type="text/javascript">
			var _paq = window._paq = window._paq || [];
			/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
			_paq.push(['trackPageView']);
			_paq.push(['enableLinkTracking']);
			(function() {
				var u="//vistas.hugodaniel.pt/";
				_paq.push(['setTrackerUrl', u+'matomo.php']);
				_paq.push(['setSiteId', '2']);
				var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
				g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
			})();
		</script>
		<noscript><p><img src="//vistas.hugodaniel.pt/matomo.php?idsite=2&amp;rec=1" style="border:0;" alt="" /></p></noscript>
		<!-- End Matomo Code -->
	</head>
	<body>
		
<main role="main" class="project">


	<article class="center-images with-lists">

		<header>
			<h1> Shader Canvas </h1>
			<p> A graphics framework for specialists </p>
			<nav>
          <a href="https:&#x2F;&#x2F;github.com&#x2F;HugoDaniel&#x2F;shader_canvas">GitHub</a>
          <!-- <a href="https:&#x2F;&#x2F;doc.deno.land&#x2F;https&#x2F;deno.land&#x2F;x&#x2F;glsl_variables@v1.0.2&#x2F;parser.ts">Documentation</a> -->
          <a href="#">Documentation</a>
          <a href="#">Tutorials</a>
			</nav>
		</header>
		<pre style="background-color:#151515;">
<code class="language-html" data-lang="html"><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">shader-canvas</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Shader canvas can have multiple
  backends
--&gt;
  </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">webgl-canvas</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Start the WebGl backend
  (the only one supported for now)

  Inside this element, each tag
  corresponds to its low level
  WebGL function.
--&gt;

    </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">draw-calls</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  List the actions to perform when
  drawing. Each tag matches the
  corresponding WebGL function.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">clear-color red</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">green</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">blue</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">alpha</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">1</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">clear-color</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  The &lt;clear-color&gt; matches the
  WebGL &quot;clearColor()&quot; function

  There is one of these for each
  WebGL function.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">clear-flags mask</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">COLOR_BUFFER_BIT</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">clear-flags</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  The &lt;clear-flags&gt; matches the
  WebGL &quot;clearFlags()&quot; function

  Each tag has attributes according
  to the names given to the function
  arguments in the WebGL spec.
--&gt;

      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">use-program src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">simple-triangle</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!-- 
  Likewise &lt;use-program&gt; matches the
  &quot;useProgram()&quot; function.
  The &quot;src&quot; attribute can reference
  the tag name that defines the
  WebGL program to use.

  In this case &lt;use-program&gt; will
  look for the &lt;simple-triangle&gt;
  program, defined bellow.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">draw-vao src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">triangle-vao</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">draw-vao</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Any tag inside the &lt;use-program&gt;
  has the program bound to it.

  Here, &lt;draw-vao&gt; is calling the
  WebGL draw function for the
  Vertex Array Object defined
  bellow at the tag &lt;triangle-vao&gt;.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;/</span><span style="color:#ffb964;">use-program</span><span style="color:#e8e8d3;">&gt;
    &lt;/</span><span style="color:#ffb964;">draw-calls</span><span style="color:#e8e8d3;">&gt;


</span><span style="color:#888888;">&lt;!--
  Besides the &lt;draw-calls&gt; the 
  &lt;webgl-canvas&gt; can have 4 containers:
   - &lt;webgl-programs&gt;
      * every child will be a program
   - &lt;webgl-buffers&gt;
      * every child will be a buffer
   - &lt;webgl-textures&gt;
      * every child will be a texture
   - &lt;webgl-vertex-array-objects&gt;
      * every child will be a
        vertex-array-object

  Their direct children tag names can
  be used as a reference in the &quot;src&quot;
  attribute of other tags.
--&gt;
    </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">webgl-programs</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Inside the &lt;webgl-programs&gt; container
  you can define the WebGL programs
  by specifying a unique tag name to
  each program.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">simple-triangle</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Here starts the program
  &quot;simple-triangle&quot;. Any name could
  be set.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">vertex-shader</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  A WebGL program has a vertex-shader
  and a fragment-shader.
--&gt;
          </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
            #version 300 es
            in vec4 a_position;
            void main() {
                gl_Position = a_position;
            }
          &lt;/</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">vertex-shader</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">fragment-shader</span><span style="color:#e8e8d3;">&gt;
          &lt;</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
            #version 300 es
            precision highp float;
            out vec4 outColor;
    
            void main() {
              outColor = vec4(1, 0, 1, 1);
            }
          &lt;/</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">fragment-shader</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">simple-triangle</span><span style="color:#e8e8d3;">&gt;
    &lt;/</span><span style="color:#ffb964;">webgl-programs</span><span style="color:#e8e8d3;">&gt;

    &lt;</span><span style="color:#ffb964;">webgl-vertex-array-objects</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!-- 
  &lt;webgl-vertex-array-objects&gt; works
  like &lt;webgl-programs&gt;: you can put
  any name here as a child tag,
  provided it is unique.

  Other tags can then reference this
  name in their &quot;src&quot; attributes.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">triangle-vao</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!-- 
  Here a Vertex Array Object
  called &quot;triangle-vao&quot; is being
  defined.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">bind-buffer src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">triangle-vertices</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  &lt;bind-buffer&gt; corresponds to the
  WebGL function &quot;bindBuffer()&quot;

  It is referencing the tag 
  &quot;triangle-vertices&quot; which is
  a buffer defined bellow
  in &lt;webgl-buffers&gt;
--&gt;
          </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">vertex-attrib-pointer variable</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">a_position</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">size</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">2</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
          &lt;/</span><span style="color:#ffb964;">vertex-attrib-pointer</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Any child of &lt;bind-buffer&gt; will
  have the referenced buffer bound.

  Here the &lt;vertex-attrib-pointer&gt;
  will use the &quot;vertexAttribPointer()&quot;
  function for the buffer set at the
  &lt;triangle-vertices&gt; tag.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;/</span><span style="color:#ffb964;">bind-buffer</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">triangle-vao</span><span style="color:#e8e8d3;">&gt;
    &lt;/</span><span style="color:#ffb964;">webgl-vertex-array-objects</span><span style="color:#e8e8d3;">&gt;

</span><span style="color:#888888;">&lt;!--
  &lt;webgl-buffers&gt; is a container like
  &lt;webgl-vertex-array-objects&gt; and 
  &lt;webl-programs&gt;.

  It is used to set buffers and their
  data. In WebGL the buffers data is
  separated from their meaning and usage.

  &lt;webgl-vertex-array-objects&gt;,
  &lt;webgl-programs&gt; and &lt;webgl-textures&gt;
  can provide meaning and use the
  buffers declared here.
--&gt;
    </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">webgl-buffers</span><span style="color:#e8e8d3;">&gt;
      &lt;</span><span style="color:#ffb964;">triangle-vertices</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">buffer-data src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">#trianglePoints</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">buffer-data</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  The tag &lt;buffer-data&gt; is equivalent
  to the &quot;bufferData&quot; WebGL function.

  The &quot;src&quot; attribute can also be an
  element query string (used in the
  &quot;querySelector&quot; function), as well as
  a url that can point to the data to load.
--&gt; 
      </span><span style="color:#e8e8d3;">&lt;/</span><span style="color:#ffb964;">triangle-vertices</span><span style="color:#e8e8d3;">&gt;
    &lt;/</span><span style="color:#ffb964;">webgl-buffers</span><span style="color:#e8e8d3;">&gt;

  &lt;/</span><span style="color:#ffb964;">webgl-canvas</span><span style="color:#e8e8d3;">&gt;
&lt;/</span><span style="color:#ffb964;">shader-canvas</span><span style="color:#e8e8d3;">&gt;

</span><span style="color:#888888;">&lt;!-- The data for the buffer --&gt;
</span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">div id</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">trianglePoints</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;[-0.7, 0, 0, 0.5, 0.7, 0]&lt;/</span><span style="color:#ffb964;">div</span><span style="color:#e8e8d3;">&gt;
</span></code></pre><h2 id="one-tag-per-low-level-function">One tag per low level function</h2>
<p>A declarative syntax for graphics API's has several benefits and disadvantages.</p>
<h3 id="benefits">Benefits</h3>
<ul>
<li>Easy to debug
<ul>
<li>The state and its setup is always available in the DOM</li>
</ul>
</li>
<li>Emphasis on the initialization phase
<ul>
<li>Graphics APIs are typically inclined towards Command-like
and Factory-like usage patterns. <br>
<code>&lt;shader-canvas&gt;</code> makes these stand-out even more.</li>
</ul>
</li>
<li>Frame drawing is tuned to what is being declared.
<ul>
<li>A specialized drawing function is created at initialization
by reading the low level declaration in the DOM.</li>
</ul>
</li>
</ul>
<h3 id="disadvantages">Disadvantages</h3>
<ul>
<li>Hard for beginners
<ul>
<li>Requires good knowledge of the graphics API structure to get
started.</li>
</ul>
</li>
<li>Can become verbose.
<ul>
<li>Lots of tags are hard to manage with good collapsing and
grouping features. <br>
<code>&lt;shader-canvas&gt;</code> tries to tackle this by providing containers
and a way to reference their contents.</li>
</ul>
</li>
<li>Development is done with a descriptive approach
<ul>
<li>The compound gains with this approach can be big but they are
not always clear and are hard to explain.</li>
</ul>
</li>
</ul>
<h2 id="compose-and-create">Compose and create</h2>
<p>With <code>&lt;shader-canvas&gt;</code> you can also create your own beautiful
abstractions and compositions with the low level graphics tags.</p>
<p>You can create your own tags and split the graphics api into
composable parts.</p>
<p>As an example, the triangle from the code above can also be done
with something like this:</p>
<pre style="background-color:#151515;">
<code class="language-html" data-lang="html"><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">shader-canvas</span><span style="color:#e8e8d3;">&gt;
  &lt;</span><span style="color:#ffb964;">buffer-2d variable</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vertex2d</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
    [-0.7,   0,
        0, 0.5,
      0.7,   0]
  &lt;/</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;
  &lt;</span><span style="color:#ffb964;">vertex-code</span><span style="color:#e8e8d3;">&gt;
    #version 300 es
    void main() {
      gl_Position = vertex2d;
    }
  &lt;/</span><span style="color:#ffb964;">vertex-code</span><span style="color:#e8e8d3;">&gt;
  &lt;</span><span style="color:#ffb964;">fragment-code</span><span style="color:#e8e8d3;">&gt;
    #version 300 es
    precision highp float;
    out vec4 outColor;

    void main() {
      outColor = vec4(1, 0, 1, 1);
    }
  &lt;/</span><span style="color:#ffb964;">fragment-code</span><span style="color:#e8e8d3;">&gt;
&lt;/</span><span style="color:#ffb964;">shader-canvas</span><span style="color:#e8e8d3;">&gt;
</span></code></pre>
<p>You can create these three new tags, or any other tag and abstraction
, as parts of the WebGL API.</p>
<p>To do so <code>&lt;shader-canvas&gt;</code> provides the <code>&lt;new-parts&gt;</code> special container.
Each child of the <code>&lt;new-parts&gt;</code> tag represents a part of the low level
graphics API.</p>
<p>For the three new tags above (<code>&lt;buffer-2d&gt;</code>, <code>&lt;vertex-code&gt;</code> and <code>&lt;fragment-code&gt;</code>),
the <code>&lt;new-parts&gt;</code> would look like this:</p>
<pre style="background-color:#151515;">
<code class="language-html" data-lang="html"><span style="color:#888888;">&lt;!--
Create new tags to be used when
composing parts of the graphics backend

Name each child tag as you want.

When they are used, their contents
will be merged with the graphics backend.
--&gt;
</span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">new-parts</span><span style="color:#e8e8d3;">&gt;
  &lt;</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Any name can be set, here &quot;buffer-2d&quot;
  was chosen.

  Inside each &lt;new-parts&gt; child you setup
  the &quot;blueprint&quot; of what it will do and
  define at the graphics backend when
  the tag is used.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">webgl-buffers</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  The buffers declared will be merged with
  the existing &lt;webgl-canvas&gt; buffers.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">vertices-2d</span><span style="color:#e8e8d3;">&gt;
          &lt;</span><span style="color:#ffb964;">buffer-data data-src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">textContent</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">buffer-data</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Attributes from the tag being created
  can be placed into its blueprint through
  the data-attributes.

  Here the `data-src` is setting the &quot;src&quot;
  of the &lt;buffer-data&gt; to be the
  &quot;textContent&quot; of the &lt;buffer-2d&gt; instance.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;/</span><span style="color:#ffb964;">vertices-2d</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">webgl-buffers</span><span style="color:#e8e8d3;">&gt;

      &lt;</span><span style="color:#ffb964;">webgl-program-part</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Shaders can also be created from parts.
  The code from the &lt;vertex-shader&gt; inside
  a &lt;webgl-program-part&gt; can be composed with
  any shader program whenever the &lt;buffer-2d&gt;
  element is declared in them.
--&gt;
        </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">vertex-shader</span><span style="color:#e8e8d3;">&gt;
         &lt;</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
           in vec4 vertex2d;
         &lt;/</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">vertex-shader</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">webgl-program-part</span><span style="color:#e8e8d3;">&gt;

      &lt;</span><span style="color:#ffb964;">webgl-vertex-array-objects</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">vao-2d</span><span style="color:#e8e8d3;">&gt;
          &lt;</span><span style="color:#ffb964;">bind-buffer src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vertices-2d</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
            &lt;</span><span style="color:#ffb964;">vertex-attrib-pointer data-variable</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">variable</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">size</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">2</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
            &lt;/</span><span style="color:#ffb964;">vertex-attrib-pointer</span><span style="color:#e8e8d3;">&gt;
          &lt;/</span><span style="color:#ffb964;">bind-buffer</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">vao-2d</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">webgl-vertex-array-objects</span><span style="color:#e8e8d3;">&gt;

</span><span style="color:#888888;">&lt;!--
  Draw calls can also be composed
  and merged.
--&gt;
      </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">draw-calls</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">viewport-transform x</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">y</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">viewport-transform</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">clear-color red</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">green</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">blue</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">0</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">alpha</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">1</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">clear-color</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">clear-flags mask</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">COLOR_BUFFER_BIT</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">clear-flags</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">use-program src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">program-2d</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;
          &lt;</span><span style="color:#ffb964;">draw-vao src</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">vao-2d</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">draw-vao</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">use-program</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">draw-calls</span><span style="color:#e8e8d3;">&gt;
  &lt;/</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;

  &lt;</span><span style="color:#ffb964;">vertex-code</span><span style="color:#e8e8d3;">&gt;
      &lt;</span><span style="color:#ffb964;">webgl-programs</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">program-2d</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Creates a new program
  called &quot;program-2d&quot;.
--&gt;
          </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Using the tag inside a WebGL container
  will make it merge the specific contents
  that the tag might have for that container.

  Here &lt;buffer-2d&gt; will merge its 
  &lt;webgl-program-part&gt; into this
  shader.
--&gt;
          </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">vertex-shader</span><span style="color:#e8e8d3;">&gt;
            &lt;</span><span style="color:#ffb964;">code data-textContent</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">textContent</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
          &lt;/</span><span style="color:#ffb964;">vertex-shader</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">program-2d</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">webgl-programs</span><span style="color:#e8e8d3;">&gt;
  &lt;/</span><span style="color:#ffb964;">vertex-code</span><span style="color:#e8e8d3;">&gt;

  &lt;</span><span style="color:#ffb964;">fragment-code</span><span style="color:#e8e8d3;">&gt;
      &lt;</span><span style="color:#ffb964;">webgl-programs</span><span style="color:#e8e8d3;">&gt;
        &lt;</span><span style="color:#ffb964;">program-2d</span><span style="color:#e8e8d3;">&gt;
</span><span style="color:#888888;">&lt;!--
  Also creates a program called
  &quot;program-2d&quot;.

  Collisions are deep merged.
--&gt;
          </span><span style="color:#e8e8d3;">&lt;</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">buffer-2d</span><span style="color:#e8e8d3;">&gt;
          &lt;</span><span style="color:#ffb964;">fragment-shader</span><span style="color:#e8e8d3;">&gt;
            &lt;</span><span style="color:#ffb964;">code data-textContent</span><span style="color:#e8e8d3;">=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">textContent</span><span style="color:#556633;">&quot;</span><span style="color:#e8e8d3;">&gt;&lt;/</span><span style="color:#ffb964;">code</span><span style="color:#e8e8d3;">&gt;
          &lt;/</span><span style="color:#ffb964;">fragment-shader</span><span style="color:#e8e8d3;">&gt;
        &lt;/</span><span style="color:#ffb964;">program-2d</span><span style="color:#e8e8d3;">&gt;
      &lt;/</span><span style="color:#ffb964;">webgl-programs</span><span style="color:#e8e8d3;">&gt;
  &lt;/</span><span style="color:#ffb964;">fragment-code</span><span style="color:#e8e8d3;">&gt;
&lt;/</span><span style="color:#ffb964;">new-parts</span><span style="color:#e8e8d3;">&gt;

</span><span style="color:#888888;">&lt;!--
  Congrats, three new tags to use!
--&gt;
</span></code></pre>
    <hr>
	</article>
	<hr>
	<footer>
    <em>Created by <a href="/">Hugo Daniel</a> under license <a href="https://eupl.eu">EUPL 1.2</a>.</em>
	</footer>
</main>

	</body>
</html>
